var q$=Object.create;var Td=Object.defineProperty;var H$=Object.getOwnPropertyDescriptor;var z$=Object.getOwnPropertyNames;var $$=Object.getPrototypeOf,J$=Object.prototype.hasOwnProperty;var o=(e,t)=>Td(e,"name",{value:t,configurable:!0});var fe=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Hn=(e,t)=>{for(var r in t)Td(e,r,{get:t[r],enumerable:!0})},V$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of z$(t))!J$.call(e,s)&&s!==r&&Td(e,s,{get:()=>t[s],enumerable:!(n=H$(t,s))||n.enumerable});return e};var Fr=(e,t,r)=>(r=e!=null?q$($$(e)):{},V$(t||!e||!e.__esModule?Td(r,"default",{value:e,enumerable:!0}):r,e));function Le(e){return new Error(`[unenv] ${e} is not implemented yet!`)}function F(e){return Object.assign(o(()=>{throw Le(e)},"fn"),{__unenv__:!0})}function je(e){let t=F(e);return t.__promisify__=()=>F(e+".__promisify__"),t.native=t,t}function Hs(e){return class{__unenv__=!0;constructor(){throw new Error(`[unenv] ${e} is not implemented yet!`)}}}var Fi=fe(()=>{l();u();c();o(Le,"createNotImplementedError");o(F,"notImplemented");o(je,"notImplementedAsync");o(Hs,"notImplementedClass")});var jv,Uv,K$,ji,qv,Gc,Wc,Od,Yc,kd,FT,jT=fe(()=>{l();u();c();Fi();jv=globalThis.performance?.timeOrigin??Date.now(),Uv=globalThis.performance?.now?globalThis.performance.now.bind(globalThis.performance):()=>Date.now()-jv,K$={name:"node",entryType:"node",startTime:0,duration:0,nodeStart:0,v8Start:0,bootstrapComplete:0,environment:0,loopStart:0,loopExit:0,idleTime:0,uvMetricsInfo:{loopCount:0,events:0,eventsWaiting:0},detail:void 0,toJSON(){return this}},ji=class{static{o(this,"PerformanceEntry")}__unenv__=!0;detail;entryType="event";name;startTime;constructor(t,r){this.name=t,this.startTime=r?.startTime||Uv(),this.detail=r?.detail}get duration(){return Uv()-this.startTime}toJSON(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail}}},qv=class extends ji{static{o(this,"PerformanceMark")}entryType="mark";constructor(){super(...arguments)}get duration(){return 0}},Gc=class extends ji{static{o(this,"PerformanceMeasure")}entryType="measure"},Wc=class extends ji{static{o(this,"PerformanceResourceTiming")}entryType="resource";serverTiming=[];connectEnd=0;connectStart=0;decodedBodySize=0;domainLookupEnd=0;domainLookupStart=0;encodedBodySize=0;fetchStart=0;initiatorType="";name="";nextHopProtocol="";redirectEnd=0;redirectStart=0;requestStart=0;responseEnd=0;responseStart=0;secureConnectionStart=0;startTime=0;transferSize=0;workerStart=0;responseStatus=0},Od=class{static{o(this,"PerformanceObserverEntryList")}__unenv__=!0;getEntries(){return[]}getEntriesByName(t,r){return[]}getEntriesByType(t){return[]}},Yc=class{static{o(this,"Performance")}__unenv__=!0;timeOrigin=jv;eventCounts=new Map;_entries=[];_resourceTimingBufferSize=0;navigation=void 0;timing=void 0;timerify(t,r){throw Le("Performance.timerify")}get nodeTiming(){return K$}eventLoopUtilization(){return{}}markResourceTiming(){return new Wc("")}onresourcetimingbufferfull=null;now(){return this.timeOrigin===jv?Uv():Date.now()-this.timeOrigin}clearMarks(t){this._entries=t?this._entries.filter(r=>r.name!==t):this._entries.filter(r=>r.entryType!=="mark")}clearMeasures(t){this._entries=t?this._entries.filter(r=>r.name!==t):this._entries.filter(r=>r.entryType!=="measure")}clearResourceTimings(){this._entries=this._entries.filter(t=>t.entryType!=="resource"||t.entryType!=="navigation")}getEntries(){return this._entries}getEntriesByName(t,r){return this._entries.filter(n=>n.name===t&&(!r||n.entryType===r))}getEntriesByType(t){return this._entries.filter(r=>r.entryType===t)}mark(t,r){let n=new qv(t,r);return this._entries.push(n),n}measure(t,r,n){let s,i;typeof r=="string"?(s=this.getEntriesByName(r,"mark")[0]?.startTime,i=this.getEntriesByName(n,"mark")[0]?.startTime):(s=Number.parseFloat(r?.start)||this.now(),i=Number.parseFloat(r?.end)||this.now());let a=new Gc(t,{startTime:s,detail:{start:s,end:i}});return this._entries.push(a),a}setResourceTimingBufferSize(t){this._resourceTimingBufferSize=t}addEventListener(t,r,n){throw Le("Performance.addEventListener")}removeEventListener(t,r,n){throw Le("Performance.removeEventListener")}dispatchEvent(t){throw Le("Performance.dispatchEvent")}toJSON(){return this}},kd=class{static{o(this,"PerformanceObserver")}__unenv__=!0;static supportedEntryTypes=[];_callback=null;constructor(t){this._callback=t}takeRecords(){return[]}disconnect(){throw Le("PerformanceObserver.disconnect")}observe(t){throw Le("PerformanceObserver.observe")}bind(t){return t}runInAsyncScope(t,r,...n){return t.call(r,...n)}asyncId(){return 0}triggerAsyncId(){return 0}emitDestroy(){return this}},FT=globalThis.performance&&"addEventListener"in globalThis.performance?globalThis.performance:new Yc});var UT=fe(()=>{l();u();c();jT()});var c=fe(()=>{UT();globalThis.performance=FT;globalThis.Performance=Yc;globalThis.PerformanceEntry=ji;globalThis.PerformanceMark=qv;globalThis.PerformanceMeasure=Gc;globalThis.PerformanceObserver=kd;globalThis.PerformanceObserverEntryList=Od;globalThis.PerformanceResourceTiming=Wc});var yt,qT=fe(()=>{l();u();c();yt=Object.assign(()=>{},{__unenv__:!0})});import{Writable as HT}from"node:stream";var $e,zT,$T,JT,Rd,G$,vpe,_pe,Spe,W$,wpe,Epe,Cpe,Ape,Tpe,Ope,kpe,Rpe,Mpe,Ppe,Ipe,Bpe,Dpe,Npe,Lpe,Fpe,VT,KT,GT,WT,YT=fe(()=>{l();u();c();qT();Fi();$e=globalThis.console,zT=!0,$T=new HT,JT=new HT,Rd=$e?.log??yt,G$=$e?.info??Rd,vpe=$e?.trace??G$,_pe=$e?.debug??Rd,Spe=$e?.table??Rd,W$=$e?.error??Rd,wpe=$e?.warn??W$,Epe=$e?.createTask??F("console.createTask"),Cpe=$e?.clear??yt,Ape=$e?.count??yt,Tpe=$e?.countReset??yt,Ope=$e?.dir??yt,kpe=$e?.dirxml??yt,Rpe=$e?.group??yt,Mpe=$e?.groupEnd??yt,Ppe=$e?.groupCollapsed??yt,Ipe=$e?.profile??yt,Bpe=$e?.profileEnd??yt,Dpe=$e?.time??yt,Npe=$e?.timeEnd??yt,Lpe=$e?.timeLog??yt,Fpe=$e?.timeStamp??yt,VT=$e?.Console??Hs("console.Console"),KT=new Map,GT=yt,WT=yt});var Hv,Jpe,Vpe,Kpe,Gpe,Wpe,Ype,Qpe,Xpe,Zpe,efe,tfe,rfe,nfe,sfe,ife,ofe,afe,cfe,ufe,lfe,dfe,pfe,ffe,mfe,QT,XT=fe(()=>{l();u();c();YT();Hv=globalThis.console,{assert:Jpe,clear:Vpe,context:Kpe,count:Gpe,countReset:Wpe,createTask:Ype,debug:Qpe,dir:Xpe,dirxml:Zpe,error:efe,group:tfe,groupCollapsed:rfe,groupEnd:nfe,info:sfe,log:ife,profile:ofe,profileEnd:afe,table:cfe,time:ufe,timeEnd:lfe,timeLog:dfe,timeStamp:pfe,trace:ffe,warn:mfe}=Hv;Object.assign(Hv,{Console:VT,_ignoreErrors:zT,_stderr:$T,_stderrErrorHandler:WT,_stdout:JT,_stdoutErrorHandler:GT,_times:KT});QT=Hv});var u=fe(()=>{XT();globalThis.console=QT});var ZT,eO=fe(()=>{l();u();c();ZT=Object.assign(o(function(t){let r=Date.now(),n=Math.trunc(r/1e3),s=r%1e3*1e6;if(t){let i=n-t[0],a=s-t[0];return a<0&&(i=i-1,a=1e9+a),[i,a]}return[n,s]},"hrtime"),{bigint:o(function(){return BigInt(Date.now()*1e6)},"bigint")})});var Ui,zv=fe(()=>{l();u();c();Ui=class{static{o(this,"ReadStream")}fd;isRaw=!1;isTTY=!1;constructor(t){this.fd=t}setRawMode(t){return this.isRaw=t,this}}});var zs,$v=fe(()=>{l();u();c();zs=class{static{o(this,"WriteStream")}fd;columns=80;rows=24;isTTY=!1;constructor(t){this.fd=t}clearLine(t,r){return r&&r(),!1}clearScreenDown(t){return t&&t(),!1}cursorTo(t,r,n){return n&&typeof n=="function"&&n(),!1}moveCursor(t,r,n){return n&&n(),!1}getColorDepth(t){return 1}hasColors(t,r){return!1}getWindowSize(){return[this.columns,this.rows]}write(t,r,n){t instanceof Uint8Array&&(t=new TextDecoder().decode(t));try{console.log(t)}catch{}return n&&typeof n=="function"&&n(),!1}}});var Y$,tO,Jv=fe(()=>{l();u();c();zv();$v();zv();$v();Y$=o(function(){return!1},"isatty"),tO={ReadStream:Ui,WriteStream:zs,isatty:Y$}});var Vv,rO=fe(()=>{l();u();c();Vv="22.14.0"});import{EventEmitter as nO}from"node:events";var Md,sO=fe(()=>{l();u();c();Jv();Fi();rO();Md=class e extends nO{static{o(this,"Process")}env;hrtime;nextTick;constructor(t){super(),this.env=t.env,this.hrtime=t.hrtime,this.nextTick=t.nextTick;for(let r of[...Object.getOwnPropertyNames(e.prototype),...Object.getOwnPropertyNames(nO.prototype)]){let n=this[r];typeof n=="function"&&(this[r]=n.bind(this))}}emitWarning(t,r,n){console.warn(`${n?`[${n}] `:""}${r?`${r}: `:""}${t}`)}emit(...t){return super.emit(...t)}listeners(t){return super.listeners(t)}#t;#e;#r;get stdin(){return this.#t??=new Ui(0)}get stdout(){return this.#e??=new zs(1)}get stderr(){return this.#r??=new zs(2)}#i="/";chdir(t){this.#i=t}cwd(){return this.#i}arch="";platform="";argv=[];argv0="";execArgv=[];execPath="";title="";pid=200;ppid=100;get version(){return`v${Vv}`}get versions(){return{node:Vv}}get allowedNodeEnvironmentFlags(){return new Set}get sourceMapsEnabled(){return!1}get debugPort(){return 0}get throwDeprecation(){return!1}get traceDeprecation(){return!1}get features(){return{}}get release(){return{}}get connected(){return!1}get config(){return{}}get moduleLoadList(){return[]}constrainedMemory(){return 0}availableMemory(){return 0}uptime(){return 0}resourceUsage(){return{}}ref(){}unref(){}umask(){throw Le("process.umask")}getBuiltinModule(){}getActiveResourcesInfo(){throw Le("process.getActiveResourcesInfo")}exit(){throw Le("process.exit")}reallyExit(){throw Le("process.reallyExit")}kill(){throw Le("process.kill")}abort(){throw Le("process.abort")}dlopen(){throw Le("process.dlopen")}setSourceMapsEnabled(){throw Le("process.setSourceMapsEnabled")}loadEnvFile(){throw Le("process.loadEnvFile")}disconnect(){throw Le("process.disconnect")}cpuUsage(){throw Le("process.cpuUsage")}setUncaughtExceptionCaptureCallback(){throw Le("process.setUncaughtExceptionCaptureCallback")}hasUncaughtExceptionCaptureCallback(){throw Le("process.hasUncaughtExceptionCaptureCallback")}initgroups(){throw Le("process.initgroups")}openStdin(){throw Le("process.openStdin")}assert(){throw Le("process.assert")}binding(){throw Le("process.binding")}permission={has:F("process.permission.has")};report={directory:"",filename:"",signal:"SIGUSR2",compact:!1,reportOnFatalError:!1,reportOnSignal:!1,reportOnUncaughtException:!1,getReport:F("process.report.getReport"),writeReport:F("process.report.writeReport")};finalization={register:F("process.finalization.register"),unregister:F("process.finalization.unregister"),registerBeforeExit:F("process.finalization.registerBeforeExit")};memoryUsage=Object.assign(()=>({arrayBuffers:0,rss:0,external:0,heapTotal:0,heapUsed:0}),{rss:o(()=>0,"rss")});mainModule=void 0;domain=void 0;send=void 0;exitCode=void 0;channel=void 0;getegid=void 0;geteuid=void 0;getgid=void 0;getgroups=void 0;getuid=void 0;setegid=void 0;seteuid=void 0;setgid=void 0;setgroups=void 0;setuid=void 0;_events=void 0;_eventsCount=void 0;_exiting=void 0;_maxListeners=void 0;_debugEnd=void 0;_debugProcess=void 0;_fatalException=void 0;_getActiveHandles=void 0;_getActiveRequests=void 0;_kill=void 0;_preload_modules=void 0;_rawDebug=void 0;_startProfilerIdleNotifier=void 0;_stopProfilerIdleNotifier=void 0;_tickCallback=void 0;_disconnect=void 0;_handleQueue=void 0;_pendingMessage=void 0;_channel=void 0;_send=void 0;_linkedBinding=void 0}});var iO,oO,Pd,aO,Kv,Q$,X$,Z$,eJ,tJ,rJ,nJ,sJ,iJ,oJ,aJ,cJ,uJ,lJ,dJ,pJ,fJ,mJ,hJ,gJ,yJ,bJ,xJ,vJ,_J,SJ,wJ,EJ,CJ,AJ,TJ,OJ,kJ,RJ,MJ,PJ,IJ,BJ,DJ,NJ,LJ,FJ,jJ,UJ,qJ,HJ,zJ,$J,JJ,VJ,KJ,GJ,WJ,YJ,QJ,XJ,ZJ,eV,tV,rV,nV,sV,iV,oV,aV,cV,uV,lV,dV,pV,fV,mV,hV,gV,yV,bV,xV,vV,_V,SV,wV,ime,EV,CV,AV,TV,OV,kV,RV,MV,PV,IV,BV,DV,NV,LV,FV,jV,UV,qV,HV,zV,$V,JV,ome,VV,KV,GV,WV,cO,uO=fe(()=>{l();u();c();eO();sO();iO=globalThis.process,oO=iO.getBuiltinModule,Pd=oO("node:process"),aO=globalThis.Cloudflare.compatibilityFlags.enable_nodejs_process_v2,Kv=new Md({env:iO.env,hrtime:aO?Pd.hrtime:ZT,nextTick:Pd.nextTick}),{exit:Q$,features:X$,platform:Z$}=Pd,{env:eJ,hrtime:tJ,nextTick:rJ}=Kv,{_channel:nJ,_disconnect:sJ,_events:iJ,_eventsCount:oJ,_handleQueue:aJ,_maxListeners:cJ,_pendingMessage:uJ,_send:lJ,assert:dJ,disconnect:pJ,mainModule:fJ}=Kv,{_debugEnd:mJ,_debugProcess:hJ,_exiting:gJ,_fatalException:yJ,_getActiveHandles:bJ,_getActiveRequests:xJ,_kill:vJ,_linkedBinding:_J,_preload_modules:SJ,_rawDebug:wJ,_startProfilerIdleNotifier:EJ,_stopProfilerIdleNotifier:CJ,_tickCallback:AJ,abort:TJ,addListener:OJ,allowedNodeEnvironmentFlags:kJ,arch:RJ,argv:MJ,argv0:PJ,availableMemory:IJ,binding:BJ,channel:DJ,chdir:NJ,config:LJ,connected:FJ,constrainedMemory:jJ,cpuUsage:UJ,cwd:qJ,debugPort:HJ,dlopen:zJ,domain:$J,emit:JJ,emitWarning:VJ,eventNames:KJ,execArgv:GJ,execPath:WJ,exitCode:YJ,finalization:QJ,getActiveResourcesInfo:XJ,getegid:ZJ,geteuid:eV,getgid:tV,getgroups:rV,getMaxListeners:nV,getuid:sV,hasUncaughtExceptionCaptureCallback:iV,initgroups:oV,kill:aV,listenerCount:cV,listeners:uV,loadEnvFile:lV,memoryUsage:dV,moduleLoadList:pV,off:fV,on:mV,once:hV,openStdin:gV,permission:yV,pid:bV,ppid:xV,prependListener:vV,prependOnceListener:_V,rawListeners:SV,reallyExit:wV,ref:ime,release:EV,removeAllListeners:CV,removeListener:AV,report:TV,resourceUsage:OV,send:kV,setegid:RV,seteuid:MV,setgid:PV,setgroups:IV,setMaxListeners:BV,setSourceMapsEnabled:DV,setuid:NV,setUncaughtExceptionCaptureCallback:LV,sourceMapsEnabled:FV,stderr:jV,stdin:UV,stdout:qV,throwDeprecation:HV,title:zV,traceDeprecation:$V,umask:JV,unref:ome,uptime:VV,version:KV,versions:GV}=aO?Pd:Kv,WV={abort:TJ,addListener:OJ,allowedNodeEnvironmentFlags:kJ,hasUncaughtExceptionCaptureCallback:iV,setUncaughtExceptionCaptureCallback:LV,loadEnvFile:lV,sourceMapsEnabled:FV,arch:RJ,argv:MJ,argv0:PJ,chdir:NJ,config:LJ,connected:FJ,constrainedMemory:jJ,availableMemory:IJ,cpuUsage:UJ,cwd:qJ,debugPort:HJ,dlopen:zJ,disconnect:pJ,emit:JJ,emitWarning:VJ,env:eJ,eventNames:KJ,execArgv:GJ,execPath:WJ,exit:Q$,finalization:QJ,features:X$,getBuiltinModule:oO,getActiveResourcesInfo:XJ,getMaxListeners:nV,hrtime:tJ,kill:aV,listeners:uV,listenerCount:cV,memoryUsage:dV,nextTick:rJ,on:mV,off:fV,once:hV,pid:bV,platform:Z$,ppid:xV,prependListener:vV,prependOnceListener:_V,rawListeners:SV,release:EV,removeAllListeners:CV,removeListener:AV,report:TV,resourceUsage:OV,setMaxListeners:BV,setSourceMapsEnabled:DV,stderr:jV,stdin:UV,stdout:qV,title:zV,throwDeprecation:HV,traceDeprecation:$V,umask:JV,uptime:VV,version:KV,versions:GV,domain:$J,initgroups:oV,moduleLoadList:pV,reallyExit:wV,openStdin:gV,assert:dJ,binding:BJ,send:kV,exitCode:YJ,channel:DJ,getegid:ZJ,geteuid:eV,getgid:tV,getgroups:rV,getuid:sV,setegid:RV,seteuid:MV,setgid:PV,setgroups:IV,setuid:NV,permission:yV,mainModule:fJ,_events:iJ,_eventsCount:oJ,_exiting:gJ,_maxListeners:cJ,_debugEnd:mJ,_debugProcess:hJ,_fatalException:yJ,_getActiveHandles:bJ,_getActiveRequests:xJ,_kill:vJ,_preload_modules:SJ,_rawDebug:wJ,_startProfilerIdleNotifier:EJ,_stopProfilerIdleNotifier:CJ,_tickCallback:AJ,_disconnect:sJ,_handleQueue:aJ,_pendingMessage:uJ,_channel:nJ,_send:lJ,_linkedBinding:_J},cO=WV});var l=fe(()=>{uO();globalThis.process=cO});var r2=b((sxe,T9)=>{T9.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var s2=b((ixe,n2)=>{l();u();c();n2.exports=r2()});import O9 from"path";var Jd=b((lxe,i2)=>{l();u();c();i2.exports=O9});var c2=b(mr=>{"use strict";l();u();c();var Vd=s2(),k9=Jd().extname,o2=/^\s*([^;\s]*)(?:;|\s|$)/,R9=/^text\//i;mr.charset=a2;mr.charsets={lookup:a2};mr.contentType=M9;mr.extension=P9;mr.extensions=Object.create(null);mr.lookup=I9;mr.types=Object.create(null);B9(mr.extensions,mr.types);function a2(e){if(!e||typeof e!="string")return!1;var t=o2.exec(e),r=t&&Vd[t[1].toLowerCase()];return r&&r.charset?r.charset:t&&R9.test(t[1])?"UTF-8":!1}o(a2,"charset");function M9(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?mr.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var r=mr.charset(t);r&&(t+="; charset="+r.toLowerCase())}return t}o(M9,"contentType");function P9(e){if(!e||typeof e!="string")return!1;var t=o2.exec(e),r=t&&mr.extensions[t[1].toLowerCase()];return!r||!r.length?!1:r[0]}o(P9,"extension");function I9(e){if(!e||typeof e!="string")return!1;var t=k9("x."+e).toLowerCase().substr(1);return t&&mr.types[t]||!1}o(I9,"lookup");function B9(e,t){var r=["nginx","apache",void 0,"iana"];Object.keys(Vd).forEach(o(function(s){var i=Vd[s],a=i.extensions;if(!(!a||!a.length)){e[s]=a;for(var d=0;d<a.length;d++){var p=a[d];if(t[p]){var f=r.indexOf(Vd[t[p]].source),m=r.indexOf(i.source);if(t[p]!=="application/octet-stream"&&(f>m||f===m&&t[p].substr(0,12)==="application/"))continue}t[p]=s}}},"forEachMimeType"))}o(B9,"populateMaps")});var gs=b((xxe,u2)=>{"use strict";l();u();c();u2.exports=function(e){try{return!!e()}catch{return!0}}});var nu=b((wxe,l2)=>{"use strict";l();u();c();var D9=gs();l2.exports=!D9(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var $s=b((Txe,f2)=>{"use strict";l();u();c();var d2=nu(),p2=Function.prototype,b_=p2.call,N9=d2&&p2.bind.bind(b_,b_);f2.exports=d2?N9:function(e){return function(){return b_.apply(e,arguments)}}});var x_=b((Mxe,m2)=>{"use strict";l();u();c();var L9=$s();m2.exports=L9({}.isPrototypeOf)});var _n=b((v_,h2)=>{"use strict";l();u();c();var su=o(function(e){return e&&e.Math===Math&&e},"check");h2.exports=su(typeof globalThis=="object"&&globalThis)||su(typeof window=="object"&&window)||su(typeof self=="object"&&self)||su(typeof global=="object"&&global)||su(typeof v_=="object"&&v_)||(function(){return this})()||Function("return this")()});var v2=b((jxe,x2)=>{"use strict";l();u();c();var F9=nu(),b2=Function.prototype,g2=b2.apply,y2=b2.call;x2.exports=typeof Reflect=="object"&&Reflect.apply||(F9?y2.bind(g2):function(){return y2.apply(g2,arguments)})});var Kd=b((zxe,S2)=>{"use strict";l();u();c();var _2=$s(),j9=_2({}.toString),U9=_2("".slice);S2.exports=function(e){return U9(j9(e),8,-1)}});var __=b((Kxe,w2)=>{"use strict";l();u();c();var q9=Kd(),H9=$s();w2.exports=function(e){if(q9(e)==="Function")return H9(e)}});var ys=b((Qxe,E2)=>{"use strict";l();u();c();var S_=typeof document=="object"&&document.all;E2.exports=typeof S_>"u"&&S_!==void 0?function(e){return typeof e=="function"||e===S_}:function(e){return typeof e=="function"}});var $i=b((tve,C2)=>{"use strict";l();u();c();var z9=gs();C2.exports=!z9(function(){return Object.defineProperty({},1,{get:o(function(){return 7},"get")})[1]!==7})});var Wd=b((ove,A2)=>{"use strict";l();u();c();var $9=nu(),Gd=Function.prototype.call;A2.exports=$9?Gd.bind(Gd):function(){return Gd.apply(Gd,arguments)}});var R2=b(k2=>{"use strict";l();u();c();var T2={}.propertyIsEnumerable,O2=Object.getOwnPropertyDescriptor,J9=O2&&!T2.call({1:2},1);k2.f=J9?o(function(t){var r=O2(this,t);return!!r&&r.enumerable},"propertyIsEnumerable"):T2});var w_=b((hve,M2)=>{"use strict";l();u();c();M2.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var I2=b((xve,P2)=>{"use strict";l();u();c();var V9=$s(),K9=gs(),G9=Kd(),E_=Object,W9=V9("".split);P2.exports=K9(function(){return!E_("z").propertyIsEnumerable(0)})?function(e){return G9(e)==="String"?W9(e,""):E_(e)}:E_});var C_=b((wve,B2)=>{"use strict";l();u();c();B2.exports=function(e){return e==null}});var Yd=b((Tve,D2)=>{"use strict";l();u();c();var Y9=C_(),Q9=TypeError;D2.exports=function(e){if(Y9(e))throw new Q9("Can't call method on "+e);return e}});var L2=b((Mve,N2)=>{"use strict";l();u();c();var X9=I2(),Z9=Yd();N2.exports=function(e){return X9(Z9(e))}});var iu=b((Dve,F2)=>{"use strict";l();u();c();var eK=ys();F2.exports=function(e){return typeof e=="object"?e!==null:eK(e)}});var Qd=b((jve,j2)=>{"use strict";l();u();c();j2.exports={}});var H2=b((zve,q2)=>{"use strict";l();u();c();var A_=Qd(),T_=_n(),tK=ys(),U2=o(function(e){return tK(e)?e:void 0},"aFunction");q2.exports=function(e,t){return arguments.length<2?U2(A_[e])||U2(T_[e]):A_[e]&&A_[e][t]||T_[e]&&T_[e][t]}});var V2=b((Gve,J2)=>{"use strict";l();u();c();var rK=_n(),z2=rK.navigator,$2=z2&&z2.userAgent;J2.exports=$2?String($2):""});var Z2=b((Xve,X2)=>{"use strict";l();u();c();var Q2=_n(),O_=V2(),K2=Q2.process,G2=Q2.Deno,W2=K2&&K2.versions||G2&&G2.version,Y2=W2&&W2.v8,Sn,Xd;Y2&&(Sn=Y2.split("."),Xd=Sn[0]>0&&Sn[0]<4?1:+(Sn[0]+Sn[1]));!Xd&&O_&&(Sn=O_.match(/Edge\/(\d+)/),(!Sn||Sn[1]>=74)&&(Sn=O_.match(/Chrome\/(\d+)/),Sn&&(Xd=+Sn[1])));X2.exports=Xd});var k_=b((r_e,tk)=>{"use strict";l();u();c();var ek=Z2(),nK=gs(),sK=_n(),iK=sK.String;tk.exports=!!Object.getOwnPropertySymbols&&!nK(function(){var e=Symbol("symbol detection");return!iK(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ek&&ek<41})});var R_=b((o_e,rk)=>{"use strict";l();u();c();var oK=k_();rk.exports=oK&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var M_=b((l_e,nk)=>{"use strict";l();u();c();var aK=H2(),cK=ys(),uK=x_(),lK=R_(),dK=Object;nk.exports=lK?function(e){return typeof e=="symbol"}:function(e){var t=aK("Symbol");return cK(t)&&uK(t.prototype,dK(e))}});var ik=b((m_e,sk)=>{"use strict";l();u();c();var pK=String;sk.exports=function(e){try{return pK(e)}catch{return"Object"}}});var P_=b((b_e,ok)=>{"use strict";l();u();c();var fK=ys(),mK=ik(),hK=TypeError;ok.exports=function(e){if(fK(e))return e;throw new hK(mK(e)+" is not a function")}});var ck=b((S_e,ak)=>{"use strict";l();u();c();var gK=P_(),yK=C_();ak.exports=function(e,t){var r=e[t];return yK(r)?void 0:gK(r)}});var lk=b((A_e,uk)=>{"use strict";l();u();c();var I_=Wd(),B_=ys(),D_=iu(),bK=TypeError;uk.exports=function(e,t){var r,n;if(t==="string"&&B_(r=e.toString)&&!D_(n=I_(r,e))||B_(r=e.valueOf)&&!D_(n=I_(r,e))||t!=="string"&&B_(r=e.toString)&&!D_(n=I_(r,e)))return n;throw new bK("Can't convert object to primitive value")}});var pk=b((R_e,dk)=>{"use strict";l();u();c();dk.exports=!0});var hk=b((B_e,mk)=>{"use strict";l();u();c();var fk=_n(),xK=Object.defineProperty;mk.exports=function(e,t){try{xK(fk,e,{value:t,configurable:!0,writable:!0})}catch{fk[e]=t}return t}});var N_=b((F_e,bk)=>{"use strict";l();u();c();var vK=pk(),_K=_n(),SK=hk(),gk="__core-js_shared__",yk=bk.exports=_K[gk]||SK(gk,{});(yk.versions||(yk.versions=[])).push({version:"3.47.0",mode:vK?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var _k=b((H_e,vk)=>{"use strict";l();u();c();var xk=N_();vk.exports=function(e,t){return xk[e]||(xk[e]=t||{})}});var wk=b((V_e,Sk)=>{"use strict";l();u();c();var wK=Yd(),EK=Object;Sk.exports=function(e){return EK(wK(e))}});var ou=b((Y_e,Ek)=>{"use strict";l();u();c();var CK=$s(),AK=wk(),TK=CK({}.hasOwnProperty);Ek.exports=Object.hasOwn||o(function(t,r){return TK(AK(t),r)},"hasOwn")});var Ak=b((t0e,Ck)=>{"use strict";l();u();c();var OK=$s(),kK=0,RK=Math.random(),MK=OK(1.1.toString);Ck.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+MK(++kK+RK,36)}});var Zd=b((i0e,Ok)=>{"use strict";l();u();c();var PK=_n(),IK=_k(),Tk=ou(),BK=Ak(),DK=k_(),NK=R_(),_a=PK.Symbol,L_=IK("wks"),LK=NK?_a.for||_a:_a&&_a.withoutSetter||BK;Ok.exports=function(e){return Tk(L_,e)||(L_[e]=DK&&Tk(_a,e)?_a[e]:LK("Symbol."+e)),L_[e]}});var Pk=b((u0e,Mk)=>{"use strict";l();u();c();var FK=Wd(),kk=iu(),Rk=M_(),jK=ck(),UK=lk(),qK=Zd(),HK=TypeError,zK=qK("toPrimitive");Mk.exports=function(e,t){if(!kk(e)||Rk(e))return e;var r=jK(e,zK),n;if(r){if(t===void 0&&(t="default"),n=FK(r,e,t),!kk(n)||Rk(n))return n;throw new HK("Can't convert object to primitive value")}return t===void 0&&(t="number"),UK(e,t)}});var F_=b((f0e,Ik)=>{"use strict";l();u();c();var $K=Pk(),JK=M_();Ik.exports=function(e){var t=$K(e,"string");return JK(t)?t:t+""}});var Nk=b((y0e,Dk)=>{"use strict";l();u();c();var VK=_n(),Bk=iu(),j_=VK.document,KK=Bk(j_)&&Bk(j_.createElement);Dk.exports=function(e){return KK?j_.createElement(e):{}}});var U_=b((_0e,Lk)=>{"use strict";l();u();c();var GK=$i(),WK=gs(),YK=Nk();Lk.exports=!GK&&!WK(function(){return Object.defineProperty(YK("div"),"a",{get:o(function(){return 7},"get")}).a!==7})});var Uk=b(jk=>{"use strict";l();u();c();var QK=$i(),XK=Wd(),ZK=R2(),eG=w_(),tG=L2(),rG=F_(),nG=ou(),sG=U_(),Fk=Object.getOwnPropertyDescriptor;jk.f=QK?Fk:o(function(t,r){if(t=tG(t),r=rG(r),sG)try{return Fk(t,r)}catch{}if(nG(t,r))return eG(!XK(ZK.f,t,r),t[r])},"getOwnPropertyDescriptor")});var Hk=b((M0e,qk)=>{"use strict";l();u();c();var iG=gs(),oG=ys(),aG=/#|\.prototype\./,au=o(function(e,t){var r=uG[cG(e)];return r===dG?!0:r===lG?!1:oG(t)?iG(t):!!t},"isForced"),cG=au.normalize=function(e){return String(e).replace(aG,".").toLowerCase()},uG=au.data={},lG=au.NATIVE="N",dG=au.POLYFILL="P";qk.exports=au});var Jk=b((N0e,$k)=>{"use strict";l();u();c();var zk=__(),pG=P_(),fG=nu(),mG=zk(zk.bind);$k.exports=function(e,t){return pG(e),t===void 0?e:fG?mG(e,t):function(){return e.apply(t,arguments)}}});var Kk=b((U0e,Vk)=>{"use strict";l();u();c();var hG=$i(),gG=gs();Vk.exports=hG&&gG(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var Wk=b(($0e,Gk)=>{"use strict";l();u();c();var yG=iu(),bG=String,xG=TypeError;Gk.exports=function(e){if(yG(e))return e;throw new xG(bG(e)+" is not an object")}});var Xk=b(Qk=>{"use strict";l();u();c();var vG=$i(),_G=U_(),SG=Kk(),ep=Wk(),Yk=F_(),wG=TypeError,q_=Object.defineProperty,EG=Object.getOwnPropertyDescriptor,H_="enumerable",z_="configurable",$_="writable";Qk.f=vG?SG?o(function(t,r,n){if(ep(t),r=Yk(r),ep(n),typeof t=="function"&&r==="prototype"&&"value"in n&&$_ in n&&!n[$_]){var s=EG(t,r);s&&s[$_]&&(t[r]=n.value,n={configurable:z_ in n?n[z_]:s[z_],enumerable:H_ in n?n[H_]:s[H_],writable:!1})}return q_(t,r,n)},"defineProperty"):q_:o(function(t,r,n){if(ep(t),r=Yk(r),ep(n),_G)try{return q_(t,r,n)}catch{}if("get"in n||"set"in n)throw new wG("Accessors not supported");return"value"in n&&(t[r]=n.value),t},"defineProperty")});var e1=b((Z0e,Zk)=>{"use strict";l();u();c();var CG=$i(),AG=Xk(),TG=w_();Zk.exports=CG?function(e,t,r){return AG.f(e,t,TG(1,r))}:function(e,t,r){return e[t]=r,e}});var n1=b((nSe,r1)=>{"use strict";l();u();c();var cu=_n(),OG=v2(),kG=__(),RG=ys(),MG=Uk().f,PG=Hk(),Sa=Qd(),IG=Jk(),wa=e1(),t1=ou();N_();var BG=o(function(e){var t=o(function(r,n,s){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,s)}return OG(e,this,arguments)},"Wrapper");return t.prototype=e.prototype,t},"wrapConstructor");r1.exports=function(e,t){var r=e.target,n=e.global,s=e.stat,i=e.proto,a=n?cu:s?cu[r]:cu[r]&&cu[r].prototype,d=n?Sa:Sa[r]||wa(Sa,r,{})[r],p=d.prototype,f,m,h,g,y,x,_,E,T;for(g in t)f=PG(n?g:r+(s?".":"#")+g,e.forced),m=!f&&a&&t1(a,g),x=d[g],m&&(e.dontCallGetSet?(T=MG(a,g),_=T&&T.value):_=a[g]),y=m&&_?_:t[g],!(!f&&!i&&typeof x==typeof y)&&(e.bind&&m?E=IG(y,cu):e.wrap&&m?E=BG(y):i&&RG(y)?E=kG(y):E=y,(e.sham||y&&y.sham||x&&x.sham)&&wa(E,"sham",!0),wa(d,g,E),i&&(h=r+"Prototype",t1(Sa,h)||wa(Sa,h,{}),wa(Sa[h],g,y),e.real&&p&&(f||!p[g])&&wa(p,g,y)))}});var o1=b((cSe,i1)=>{"use strict";l();u();c();var DG=Zd(),NG=DG("toStringTag"),s1={};s1[NG]="z";i1.exports=String(s1)==="[object z]"});var c1=b((pSe,a1)=>{"use strict";l();u();c();var LG=o1(),FG=ys(),tp=Kd(),jG=Zd(),UG=jG("toStringTag"),qG=Object,HG=tp((function(){return arguments})())==="Arguments",zG=o(function(e,t){try{return e[t]}catch{}},"tryGet");a1.exports=LG?tp:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=zG(t=qG(e),UG))=="string"?r:HG?tp(t):(n=tp(t))==="Object"&&FG(t.callee)?"Arguments":n}});var l1=b((ySe,u1)=>{"use strict";l();u();c();var $G=c1(),JG=String;u1.exports=function(e){if($G(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return JG(e)}});var J_=b((_Se,d1)=>{"use strict";l();u();c();d1.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var m1=b((CSe,f1)=>{"use strict";l();u();c();var VG=$s(),KG=Yd(),GG=l1(),K_=J_(),p1=VG("".replace),WG=RegExp("^["+K_+"]+"),YG=RegExp("(^|[^"+K_+"])["+K_+"]+$"),V_=o(function(e){return function(t){var r=GG(KG(t));return e&1&&(r=p1(r,WG,"")),e&2&&(r=p1(r,YG,"$1")),r}},"createMethod");f1.exports={start:V_(1),end:V_(2),trim:V_(3)}});var y1=b((RSe,g1)=>{"use strict";l();u();c();var G_=$i(),QG=ou(),h1=Function.prototype,XG=G_&&Object.getOwnPropertyDescriptor,W_=QG(h1,"name"),ZG=W_&&o((function(){}),"something").name==="something",e7=W_&&(!G_||G_&&XG(h1,"name").configurable);g1.exports={EXISTS:W_,PROPER:ZG,CONFIGURABLE:e7}});var _1=b((DSe,v1)=>{"use strict";l();u();c();var t7=y1().PROPER,r7=gs(),b1=J_(),x1="\u200B\x85\u180E";v1.exports=function(e){return r7(function(){return!!b1[e]()||x1[e]()!==x1||t7&&b1[e].name!==e})}});var S1=b(()=>{"use strict";l();u();c();var n7=n1(),s7=m1().trim,i7=_1();n7({target:"String",proto:!0,forced:i7("trim")},{trim:o(function(){return s7(this)},"trim")})});var E1=b((JSe,w1)=>{"use strict";l();u();c();var o7=_n(),a7=Qd();w1.exports=function(e,t){var r=a7[e+"Prototype"],n=r&&r[t];if(n)return n;var s=o7[e],i=s&&s.prototype;return i&&i[t]}});var A1=b((WSe,C1)=>{"use strict";l();u();c();S1();var c7=E1();C1.exports=c7("String","trim")});var O1=b((ZSe,T1)=>{"use strict";l();u();c();var u7=x_(),l7=A1(),Y_=String.prototype;T1.exports=function(e){var t=e.trim;return typeof e=="string"||e===Y_||u7(Y_,e)&&t===Y_.trim?l7:t}});var R1=b((nwe,k1)=>{"use strict";l();u();c();var d7=O1();k1.exports=d7});var P1=b((awe,M1)=>{"use strict";l();u();c();var p7=R1();M1.exports=p7});var B1=b((dwe,I1)=>{"use strict";l();u();c();var f7=P1();I1.exports=f7});var N1=b((hwe,D1)=>{"use strict";l();u();c();D1.exports=B1()});var F1=b((xwe,L1)=>{l();u();c();L1.exports=N1()});var jr,m0=fe(()=>{l();u();c();jr=o(e=>new TextEncoder().encode(e),"fromUtf8")});var On,sR=fe(()=>{l();u();c();m0();On=o(e=>typeof e=="string"?jr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array")});var Ws,iR=fe(()=>{l();u();c();Ws=o(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},"toUtf8")});var Ur=fe(()=>{l();u();c();m0();sR();iR()});var uN=b((Zu,Iw)=>{l();u();c();(function(e,t){typeof Zu=="object"&&typeof Iw=="object"?Iw.exports=t():typeof define=="function"&&define.amd?define([],t):typeof Zu=="object"?Zu.bowser=t():e.bowser=t()})(Zu,(function(){return(function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return o(r,"r"),r.m=e,r.c=t,r.d=function(n,s,i){r.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,s){if(1&s&&(n=r(n)),8&s||4&s&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&s&&typeof n!="string")for(var a in n)r.d(i,a,function(d){return n[d]}.bind(null,a));return i},r.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(s,"a",s),s},r.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},r.p="",r(r.s=90)})({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),s=(function(){function i(){}return o(i,"e"),i.getFirstMatch=function(a,d){var p=d.match(a);return p&&p.length>0&&p[1]||""},i.getSecondMatch=function(a,d){var p=d.match(a);return p&&p.length>1&&p[2]||""},i.matchAndReturnConst=function(a,d,p){if(a.test(d))return p},i.getWindowsVersionName=function(a){switch(a){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},i.getMacOSVersionName=function(a){var d=a.split(".").splice(0,2).map((function(m){return parseInt(m,10)||0}));d.push(0);var p=d[0],f=d[1];if(p===10)switch(f){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}switch(p){case 11:return"Big Sur";case 12:return"Monterey";case 13:return"Ventura";case 14:return"Sonoma";case 15:return"Sequoia";default:return}},i.getAndroidVersionName=function(a){var d=a.split(".").splice(0,2).map((function(p){return parseInt(p,10)||0}));if(d.push(0),!(d[0]===1&&d[1]<5))return d[0]===1&&d[1]<6?"Cupcake":d[0]===1&&d[1]>=6?"Donut":d[0]===2&&d[1]<2?"Eclair":d[0]===2&&d[1]===2?"Froyo":d[0]===2&&d[1]>2?"Gingerbread":d[0]===3?"Honeycomb":d[0]===4&&d[1]<1?"Ice Cream Sandwich":d[0]===4&&d[1]<4?"Jelly Bean":d[0]===4&&d[1]>=4?"KitKat":d[0]===5?"Lollipop":d[0]===6?"Marshmallow":d[0]===7?"Nougat":d[0]===8?"Oreo":d[0]===9?"Pie":void 0},i.getVersionPrecision=function(a){return a.split(".").length},i.compareVersions=function(a,d,p){p===void 0&&(p=!1);var f=i.getVersionPrecision(a),m=i.getVersionPrecision(d),h=Math.max(f,m),g=0,y=i.map([a,d],(function(x){var _=h-i.getVersionPrecision(x),E=x+new Array(_+1).join(".0");return i.map(E.split("."),(function(T){return new Array(20-T.length).join("0")+T})).reverse()}));for(p&&(g=h-Math.min(f,m)),h-=1;h>=g;){if(y[0][h]>y[1][h])return 1;if(y[0][h]===y[1][h]){if(h===g)return 0;h-=1}else if(y[0][h]<y[1][h])return-1}},i.map=function(a,d){var p,f=[];if(Array.prototype.map)return Array.prototype.map.call(a,d);for(p=0;p<a.length;p+=1)f.push(d(a[p]));return f},i.find=function(a,d){var p,f;if(Array.prototype.find)return Array.prototype.find.call(a,d);for(p=0,f=a.length;p<f;p+=1){var m=a[p];if(d(m,p))return m}},i.assign=function(a){for(var d,p,f=a,m=arguments.length,h=new Array(m>1?m-1:0),g=1;g<m;g++)h[g-1]=arguments[g];if(Object.assign)return Object.assign.apply(Object,[a].concat(h));var y=o(function(){var x=h[d];typeof x=="object"&&x!==null&&Object.keys(x).forEach((function(_){f[_]=x[_]}))},"s");for(d=0,p=h.length;d<p;d+=1)y();return a},i.getBrowserAlias=function(a){return n.BROWSER_ALIASES_MAP[a]},i.getBrowserTypeByAlias=function(a){return n.BROWSER_MAP[a]||""},i})();t.default=s,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={AmazonBot:"amazonbot","Amazon Silk":"amazon_silk","Android Browser":"android",BaiduSpider:"baiduspider",Bada:"bada",BingCrawler:"bingcrawler",BlackBerry:"blackberry","ChatGPT-User":"chatgpt_user",Chrome:"chrome",ClaudeBot:"claudebot",Chromium:"chromium",Diffbot:"diffbot",DuckDuckBot:"duckduckbot",Electron:"electron",Epiphany:"epiphany",FacebookExternalHit:"facebookexternalhit",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot",GPTBot:"gptbot","Internet Explorer":"ie",InternetArchiveCrawler:"internetarchivecrawler","K-Meleon":"k_meleon",LibreWolf:"librewolf",Maxthon:"maxthon","Meta-ExternalAds":"meta_externalads","Meta-ExternalAgent":"meta_externalagent","Meta-ExternalFetcher":"meta_externalfetcher","Meta-WebIndexer":"meta_webindexer","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver","OAI-SearchBot":"oai_searchbot",Omgilibot:"omgilibot",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PerplexityBot:"perplexitybot","Perplexity-User":"perplexity_user",PhantomJS:"phantomjs",PingdomBot:"pingdombot",Puffin:"puffin",QQ:"qq",QQLite:"qqlite",QupZilla:"qupzilla",Roku:"roku",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir","Sogou Browser":"sogou",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat",YahooSlurp:"yahooslurp","Yandex Browser":"yandex",YandexBot:"yandexbot",YouBot:"youbot"},t.BROWSER_MAP={amazonbot:"AmazonBot",amazon_silk:"Amazon Silk",android:"Android Browser",baiduspider:"BaiduSpider",bada:"Bada",bingcrawler:"BingCrawler",blackberry:"BlackBerry",chatgpt_user:"ChatGPT-User",chrome:"Chrome",claudebot:"ClaudeBot",chromium:"Chromium",diffbot:"Diffbot",duckduckbot:"DuckDuckBot",edge:"Microsoft Edge",electron:"Electron",epiphany:"Epiphany",facebookexternalhit:"FacebookExternalHit",firefox:"Firefox",focus:"Focus",generic:"Generic",google_search:"Google Search",googlebot:"Googlebot",gptbot:"GPTBot",ie:"Internet Explorer",internetarchivecrawler:"InternetArchiveCrawler",k_meleon:"K-Meleon",librewolf:"LibreWolf",maxthon:"Maxthon",meta_externalads:"Meta-ExternalAds",meta_externalagent:"Meta-ExternalAgent",meta_externalfetcher:"Meta-ExternalFetcher",meta_webindexer:"Meta-WebIndexer",mz:"MZ Browser",naver:"NAVER Whale Browser",oai_searchbot:"OAI-SearchBot",omgilibot:"Omgilibot",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",perplexitybot:"PerplexityBot",perplexity_user:"Perplexity-User",phantomjs:"PhantomJS",pingdombot:"PingdomBot",puffin:"Puffin",qq:"QQ Browser",qqlite:"QQ Browser Lite",qupzilla:"QupZilla",roku:"Roku",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",sogou:"Sogou Browser",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yahooslurp:"YahooSlurp",yandex:"Yandex Browser",yandexbot:"YandexBot",youbot:"YouBot"},t.PLATFORMS_MAP={bot:"bot",desktop:"desktop",mobile:"mobile",tablet:"tablet",tv:"tv"},t.OS_MAP={Android:"Android",Bada:"Bada",BlackBerry:"BlackBerry",ChromeOS:"Chrome OS",HarmonyOS:"HarmonyOS",iOS:"iOS",Linux:"Linux",MacOS:"macOS",PlayStation4:"PlayStation 4",Roku:"Roku",Tizen:"Tizen",WebOS:"WebOS",Windows:"Windows",WindowsPhone:"Windows Phone"},t.ENGINE_MAP={Blink:"Blink",EdgeHTML:"EdgeHTML",Gecko:"Gecko",Presto:"Presto",Trident:"Trident",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,s=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function a(p,f){for(var m=0;m<f.length;m++){var h=f[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}o(a,"o");var d=(function(){function p(){}o(p,"e");var f,m,h;return p.getParser=function(g,y){if(y===void 0&&(y=!1),typeof g!="string")throw new Error("UserAgent should be a string");return new s.default(g,y)},p.parse=function(g){return new s.default(g).getResult()},f=p,h=[{key:"BROWSER_MAP",get:o(function(){return i.BROWSER_MAP},"get")},{key:"ENGINE_MAP",get:o(function(){return i.ENGINE_MAP},"get")},{key:"OS_MAP",get:o(function(){return i.OS_MAP},"get")},{key:"PLATFORMS_MAP",get:o(function(){return i.PLATFORMS_MAP},"get")}],(m=null)&&a(f.prototype,m),h&&a(f,h),p})();t.default=d,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=p(r(92)),s=p(r(93)),i=p(r(94)),a=p(r(95)),d=p(r(17));function p(m){return m&&m.__esModule?m:{default:m}}o(p,"u");var f=(function(){function m(g,y){if(y===void 0&&(y=!1),g==null||g==="")throw new Error("UserAgent parameter can't be empty");this._ua=g,this.parsedResult={},y!==!0&&this.parse()}o(m,"e");var h=m.prototype;return h.getUA=function(){return this._ua},h.test=function(g){return g.test(this._ua)},h.parseBrowser=function(){var g=this;this.parsedResult.browser={};var y=d.default.find(n.default,(function(x){if(typeof x.test=="function")return x.test(g);if(Array.isArray(x.test))return x.test.some((function(_){return g.test(_)}));throw new Error("Browser's test function is not valid")}));return y&&(this.parsedResult.browser=y.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(g){return g?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var g=this;this.parsedResult.os={};var y=d.default.find(s.default,(function(x){if(typeof x.test=="function")return x.test(g);if(Array.isArray(x.test))return x.test.some((function(_){return g.test(_)}));throw new Error("Browser's test function is not valid")}));return y&&(this.parsedResult.os=y.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(g){var y=this.getOS().name;return g?String(y).toLowerCase()||"":y||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(g){g===void 0&&(g=!1);var y=this.getPlatform().type;return g?String(y).toLowerCase()||"":y||""},h.parsePlatform=function(){var g=this;this.parsedResult.platform={};var y=d.default.find(i.default,(function(x){if(typeof x.test=="function")return x.test(g);if(Array.isArray(x.test))return x.test.some((function(_){return g.test(_)}));throw new Error("Browser's test function is not valid")}));return y&&(this.parsedResult.platform=y.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(g){return g?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var g=this;this.parsedResult.engine={};var y=d.default.find(a.default,(function(x){if(typeof x.test=="function")return x.test(g);if(Array.isArray(x.test))return x.test.some((function(_){return g.test(_)}));throw new Error("Browser's test function is not valid")}));return y&&(this.parsedResult.engine=y.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return d.default.assign({},this.parsedResult)},h.satisfies=function(g){var y=this,x={},_=0,E={},T=0;if(Object.keys(g).forEach((function(te){var Te=g[te];typeof Te=="string"?(E[te]=Te,T+=1):typeof Te=="object"&&(x[te]=Te,_+=1)})),_>0){var k=Object.keys(x),D=d.default.find(k,(function(te){return y.isOS(te)}));if(D){var I=this.satisfies(x[D]);if(I!==void 0)return I}var N=d.default.find(k,(function(te){return y.isPlatform(te)}));if(N){var G=this.satisfies(x[N]);if(G!==void 0)return G}}if(T>0){var ee=Object.keys(E),K=d.default.find(ee,(function(te){return y.isBrowser(te,!0)}));if(K!==void 0)return this.compareVersion(E[K])}},h.isBrowser=function(g,y){y===void 0&&(y=!1);var x=this.getBrowserName().toLowerCase(),_=g.toLowerCase(),E=d.default.getBrowserTypeByAlias(_);return y&&E&&(_=E.toLowerCase()),_===x},h.compareVersion=function(g){var y=[0],x=g,_=!1,E=this.getBrowserVersion();if(typeof E=="string")return g[0]===">"||g[0]==="<"?(x=g.substr(1),g[1]==="="?(_=!0,x=g.substr(2)):y=[],g[0]===">"?y.push(1):y.push(-1)):g[0]==="="?x=g.substr(1):g[0]==="~"&&(_=!0,x=g.substr(1)),y.indexOf(d.default.compareVersions(E,x,_))>-1},h.isOS=function(g){return this.getOSName(!0)===String(g).toLowerCase()},h.isPlatform=function(g){return this.getPlatformType(!0)===String(g).toLowerCase()},h.isEngine=function(g){return this.getEngineName(!0)===String(g).toLowerCase()},h.is=function(g,y){return y===void 0&&(y=!1),this.isBrowser(g,y)||this.isOS(g)||this.isPlatform(g)},h.some=function(g){var y=this;return g===void 0&&(g=[]),g.some((function(x){return y.is(x)}))},m})();t.default=f,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,s=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/gptbot/i],describe:o(function(d){var p={name:"GPTBot"},f=s.default.getFirstMatch(/gptbot\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/chatgpt-user/i],describe:o(function(d){var p={name:"ChatGPT-User"},f=s.default.getFirstMatch(/chatgpt-user\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/oai-searchbot/i],describe:o(function(d){var p={name:"OAI-SearchBot"},f=s.default.getFirstMatch(/oai-searchbot\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/claudebot/i,/claude-web/i,/claude-user/i,/claude-searchbot/i],describe:o(function(d){var p={name:"ClaudeBot"},f=s.default.getFirstMatch(/(?:claudebot|claude-web|claude-user|claude-searchbot)\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/omgilibot/i,/webzio-extended/i],describe:o(function(d){var p={name:"Omgilibot"},f=s.default.getFirstMatch(/(?:omgilibot|webzio-extended)\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/diffbot/i],describe:o(function(d){var p={name:"Diffbot"},f=s.default.getFirstMatch(/diffbot\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/perplexitybot/i],describe:o(function(d){var p={name:"PerplexityBot"},f=s.default.getFirstMatch(/perplexitybot\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/perplexity-user/i],describe:o(function(d){var p={name:"Perplexity-User"},f=s.default.getFirstMatch(/perplexity-user\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/youbot/i],describe:o(function(d){var p={name:"YouBot"},f=s.default.getFirstMatch(/youbot\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/meta-webindexer/i],describe:o(function(d){var p={name:"Meta-WebIndexer"},f=s.default.getFirstMatch(/meta-webindexer\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/meta-externalads/i],describe:o(function(d){var p={name:"Meta-ExternalAds"},f=s.default.getFirstMatch(/meta-externalads\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/meta-externalagent/i],describe:o(function(d){var p={name:"Meta-ExternalAgent"},f=s.default.getFirstMatch(/meta-externalagent\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/meta-externalfetcher/i],describe:o(function(d){var p={name:"Meta-ExternalFetcher"},f=s.default.getFirstMatch(/meta-externalfetcher\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/googlebot/i],describe:o(function(d){var p={name:"Googlebot"},f=s.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/amazonbot/i],describe:o(function(d){var p={name:"AmazonBot"},f=s.default.getFirstMatch(/amazonbot\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/bingbot/i],describe:o(function(d){var p={name:"BingCrawler"},f=s.default.getFirstMatch(/bingbot\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/baiduspider/i],describe:o(function(d){var p={name:"BaiduSpider"},f=s.default.getFirstMatch(/baiduspider\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/duckduckbot/i],describe:o(function(d){var p={name:"DuckDuckBot"},f=s.default.getFirstMatch(/duckduckbot\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/ia_archiver/i],describe:o(function(d){var p={name:"InternetArchiveCrawler"},f=s.default.getFirstMatch(/ia_archiver\/(\d+(\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/facebookexternalhit/i,/facebookcatalog/i],describe:o(function(){return{name:"FacebookExternalHit"}},"describe")},{test:[/yahoo!?[\s/]*slurp/i],describe:o(function(){return{name:"YahooSlurp"}},"describe")},{test:[/yandexbot/i,/yandexmobilebot/i],describe:o(function(){return{name:"YandexBot"}},"describe")},{test:[/pingdom/i],describe:o(function(){return{name:"PingdomBot"}},"describe")},{test:[/opera/i],describe:o(function(d){var p={name:"Opera"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/opr\/|opios/i],describe:o(function(d){var p={name:"Opera"},f=s.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/SamsungBrowser/i],describe:o(function(d){var p={name:"Samsung Internet for Android"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/Whale/i],describe:o(function(d){var p={name:"NAVER Whale Browser"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/PaleMoon/i],describe:o(function(d){var p={name:"Pale Moon"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/MZBrowser/i],describe:o(function(d){var p={name:"MZ Browser"},f=s.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/focus/i],describe:o(function(d){var p={name:"Focus"},f=s.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/swing/i],describe:o(function(d){var p={name:"Swing"},f=s.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/coast/i],describe:o(function(d){var p={name:"Opera Coast"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:o(function(d){var p={name:"Opera Touch"},f=s.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/yabrowser/i],describe:o(function(d){var p={name:"Yandex Browser"},f=s.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/ucbrowser/i],describe:o(function(d){var p={name:"UC Browser"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/Maxthon|mxios/i],describe:o(function(d){var p={name:"Maxthon"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/epiphany/i],describe:o(function(d){var p={name:"Epiphany"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/puffin/i],describe:o(function(d){var p={name:"Puffin"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/sleipnir/i],describe:o(function(d){var p={name:"Sleipnir"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/k-meleon/i],describe:o(function(d){var p={name:"K-Meleon"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/micromessenger/i],describe:o(function(d){var p={name:"WeChat"},f=s.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/qqbrowser/i],describe:o(function(d){var p={name:/qqbrowserlite/i.test(d)?"QQ Browser Lite":"QQ Browser"},f=s.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/msie|trident/i],describe:o(function(d){var p={name:"Internet Explorer"},f=s.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/\sedg\//i],describe:o(function(d){var p={name:"Microsoft Edge"},f=s.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/edg([ea]|ios)/i],describe:o(function(d){var p={name:"Microsoft Edge"},f=s.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/vivaldi/i],describe:o(function(d){var p={name:"Vivaldi"},f=s.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/seamonkey/i],describe:o(function(d){var p={name:"SeaMonkey"},f=s.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/sailfish/i],describe:o(function(d){var p={name:"Sailfish"},f=s.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,d);return f&&(p.version=f),p},"describe")},{test:[/silk/i],describe:o(function(d){var p={name:"Amazon Silk"},f=s.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/phantom/i],describe:o(function(d){var p={name:"PhantomJS"},f=s.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/slimerjs/i],describe:o(function(d){var p={name:"SlimerJS"},f=s.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:o(function(d){var p={name:"BlackBerry"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/(web|hpw)[o0]s/i],describe:o(function(d){var p={name:"WebOS Browser"},f=s.default.getFirstMatch(i,d)||s.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/bada/i],describe:o(function(d){var p={name:"Bada"},f=s.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/tizen/i],describe:o(function(d){var p={name:"Tizen"},f=s.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/qupzilla/i],describe:o(function(d){var p={name:"QupZilla"},f=s.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/librewolf/i],describe:o(function(d){var p={name:"LibreWolf"},f=s.default.getFirstMatch(/(?:librewolf)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/firefox|iceweasel|fxios/i],describe:o(function(d){var p={name:"Firefox"},f=s.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/electron/i],describe:o(function(d){var p={name:"Electron"},f=s.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/sogoumobilebrowser/i,/metasr/i,/se 2\.[x]/i],describe:o(function(d){var p={name:"Sogou Browser"},f=s.default.getFirstMatch(/(?:sogoumobilebrowser)[\s/](\d+(\.?_?\d+)+)/i,d),m=s.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,d),h=s.default.getFirstMatch(/se ([\d.]+)x/i,d),g=f||m||h;return g&&(p.version=g),p},"describe")},{test:[/MiuiBrowser/i],describe:o(function(d){var p={name:"Miui"},f=s.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/chromium/i],describe:o(function(d){var p={name:"Chromium"},f=s.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,d)||s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/chrome|crios|crmo/i],describe:o(function(d){var p={name:"Chrome"},f=s.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/GSA/i],describe:o(function(d){var p={name:"Google Search"},f=s.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:o(function(d){var p=!d.test(/like android/i),f=d.test(/android/i);return p&&f},"test"),describe:o(function(d){var p={name:"Android Browser"},f=s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/playstation 4/i],describe:o(function(d){var p={name:"PlayStation 4"},f=s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/safari|applewebkit/i],describe:o(function(d){var p={name:"Safari"},f=s.default.getFirstMatch(i,d);return f&&(p.version=f),p},"describe")},{test:[/.*/i],describe:o(function(d){var p=d.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:s.default.getFirstMatch(p,d),version:s.default.getSecondMatch(p,d)}},"describe")}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,s=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:[/Roku\/DVP/],describe:o(function(d){var p=s.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,d);return{name:i.OS_MAP.Roku,version:p}},"describe")},{test:[/windows phone/i],describe:o(function(d){var p=s.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,d);return{name:i.OS_MAP.WindowsPhone,version:p}},"describe")},{test:[/windows /i],describe:o(function(d){var p=s.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,d),f=s.default.getWindowsVersionName(p);return{name:i.OS_MAP.Windows,version:p,versionName:f}},"describe")},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:o(function(d){var p={name:i.OS_MAP.iOS},f=s.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,d);return f&&(p.version=f),p},"describe")},{test:[/macintosh/i],describe:o(function(d){var p=s.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,d).replace(/[_\s]/g,"."),f=s.default.getMacOSVersionName(p),m={name:i.OS_MAP.MacOS,version:p};return f&&(m.versionName=f),m},"describe")},{test:[/(ipod|iphone|ipad)/i],describe:o(function(d){var p=s.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,d).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:p}},"describe")},{test:[/OpenHarmony/i],describe:o(function(d){var p=s.default.getFirstMatch(/OpenHarmony\s+(\d+(\.\d+)*)/i,d);return{name:i.OS_MAP.HarmonyOS,version:p}},"describe")},{test:o(function(d){var p=!d.test(/like android/i),f=d.test(/android/i);return p&&f},"test"),describe:o(function(d){var p=s.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,d),f=s.default.getAndroidVersionName(p),m={name:i.OS_MAP.Android,version:p};return f&&(m.versionName=f),m},"describe")},{test:[/(web|hpw)[o0]s/i],describe:o(function(d){var p=s.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,d),f={name:i.OS_MAP.WebOS};return p&&p.length&&(f.version=p),f},"describe")},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:o(function(d){var p=s.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,d)||s.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,d)||s.default.getFirstMatch(/\bbb(\d+)/i,d);return{name:i.OS_MAP.BlackBerry,version:p}},"describe")},{test:[/bada/i],describe:o(function(d){var p=s.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,d);return{name:i.OS_MAP.Bada,version:p}},"describe")},{test:[/tizen/i],describe:o(function(d){var p=s.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,d);return{name:i.OS_MAP.Tizen,version:p}},"describe")},{test:[/linux/i],describe:o(function(){return{name:i.OS_MAP.Linux}},"describe")},{test:[/CrOS/],describe:o(function(){return{name:i.OS_MAP.ChromeOS}},"describe")},{test:[/PlayStation 4/],describe:o(function(d){var p=s.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,d);return{name:i.OS_MAP.PlayStation4,version:p}},"describe")}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,s=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:[/googlebot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Google"}},"describe")},{test:[/amazonbot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Amazon"}},"describe")},{test:[/gptbot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"OpenAI"}},"describe")},{test:[/chatgpt-user/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"OpenAI"}},"describe")},{test:[/oai-searchbot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"OpenAI"}},"describe")},{test:[/baiduspider/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Baidu"}},"describe")},{test:[/bingbot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Bing"}},"describe")},{test:[/duckduckbot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"DuckDuckGo"}},"describe")},{test:[/claudebot/i,/claude-web/i,/claude-user/i,/claude-searchbot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Anthropic"}},"describe")},{test:[/omgilibot/i,/webzio-extended/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Webz.io"}},"describe")},{test:[/diffbot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Diffbot"}},"describe")},{test:[/perplexitybot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Perplexity AI"}},"describe")},{test:[/perplexity-user/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Perplexity AI"}},"describe")},{test:[/youbot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"You.com"}},"describe")},{test:[/ia_archiver/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Internet Archive"}},"describe")},{test:[/meta-webindexer/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Meta"}},"describe")},{test:[/meta-externalads/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Meta"}},"describe")},{test:[/meta-externalagent/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Meta"}},"describe")},{test:[/meta-externalfetcher/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Meta"}},"describe")},{test:[/facebookexternalhit/i,/facebookcatalog/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Meta"}},"describe")},{test:[/yahoo/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Yahoo"}},"describe")},{test:[/yandexbot/i,/yandexmobilebot/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Yandex"}},"describe")},{test:[/pingdom/i],describe:o(function(){return{type:i.PLATFORMS_MAP.bot,vendor:"Pingdom"}},"describe")},{test:[/huawei/i],describe:o(function(d){var p=s.default.getFirstMatch(/(can-l01)/i,d)&&"Nova",f={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return p&&(f.model=p),f},"describe")},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:o(function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}},"describe")},{test:[/ipad/i],describe:o(function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}},"describe")},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:o(function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}},"describe")},{test:[/kftt build/i],describe:o(function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}},"describe")},{test:[/silk/i],describe:o(function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}},"describe")},{test:[/tablet(?! pc)/i],describe:o(function(){return{type:i.PLATFORMS_MAP.tablet}},"describe")},{test:o(function(d){var p=d.test(/ipod|iphone/i),f=d.test(/like (ipod|iphone)/i);return p&&!f},"test"),describe:o(function(d){var p=s.default.getFirstMatch(/(ipod|iphone)/i,d);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:p}},"describe")},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:o(function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}},"describe")},{test:[/Nokia/i],describe:o(function(d){var p=s.default.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,d),f={type:i.PLATFORMS_MAP.mobile,vendor:"Nokia"};return p&&(f.model=p),f},"describe")},{test:[/[^-]mobi/i],describe:o(function(){return{type:i.PLATFORMS_MAP.mobile}},"describe")},{test:o(function(d){return d.getBrowserName(!0)==="blackberry"},"test"),describe:o(function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}},"describe")},{test:o(function(d){return d.getBrowserName(!0)==="bada"},"test"),describe:o(function(){return{type:i.PLATFORMS_MAP.mobile}},"describe")},{test:o(function(d){return d.getBrowserName()==="windows phone"},"test"),describe:o(function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}},"describe")},{test:o(function(d){var p=Number(String(d.getOSVersion()).split(".")[0]);return d.getOSName(!0)==="android"&&p>=3},"test"),describe:o(function(){return{type:i.PLATFORMS_MAP.tablet}},"describe")},{test:o(function(d){return d.getOSName(!0)==="android"},"test"),describe:o(function(){return{type:i.PLATFORMS_MAP.mobile}},"describe")},{test:o(function(d){return d.getOSName(!0)==="macos"},"test"),describe:o(function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}},"describe")},{test:o(function(d){return d.getOSName(!0)==="windows"},"test"),describe:o(function(){return{type:i.PLATFORMS_MAP.desktop}},"describe")},{test:o(function(d){return d.getOSName(!0)==="linux"},"test"),describe:o(function(){return{type:i.PLATFORMS_MAP.desktop}},"describe")},{test:o(function(d){return d.getOSName(!0)==="playstation 4"},"test"),describe:o(function(){return{type:i.PLATFORMS_MAP.tv}},"describe")},{test:o(function(d){return d.getOSName(!0)==="roku"},"test"),describe:o(function(){return{type:i.PLATFORMS_MAP.tv}},"describe")}];t.default=a,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,s=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:o(function(d){return d.getBrowserName(!0)==="microsoft edge"},"test"),describe:o(function(d){if(/\sedg\//i.test(d))return{name:i.ENGINE_MAP.Blink};var p=s.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,d);return{name:i.ENGINE_MAP.EdgeHTML,version:p}},"describe")},{test:[/trident/i],describe:o(function(d){var p={name:i.ENGINE_MAP.Trident},f=s.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:o(function(d){return d.test(/presto/i)},"test"),describe:o(function(d){var p={name:i.ENGINE_MAP.Presto},f=s.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:o(function(d){var p=d.test(/gecko/i),f=d.test(/like gecko/i);return p&&!f},"test"),describe:o(function(d){var p={name:i.ENGINE_MAP.Gecko},f=s.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")},{test:[/(apple)?webkit\/537\.36/i],describe:o(function(){return{name:i.ENGINE_MAP.Blink}},"describe")},{test:[/(apple)?webkit/i],describe:o(function(d){var p={name:i.ENGINE_MAP.WebKit},f=s.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,d);return f&&(p.version=f),p},"describe")}];t.default=a,e.exports=t.default}})}))});function hm(e){let t=Math.ceil(e.length/4)*3,r=e.length,n=0;e.length%4===3?t--:e.length%4===2?t-=2:e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);let s=new ArrayBuffer(t),i=new Uint8Array(s);for(let a=0;a<r;a+=4){let d=il[e.charCodeAt(a)],p=il[e.charCodeAt(a+1)],f=il[e.charCodeAt(a+2)],m=il[e.charCodeAt(a+3)];i[n++]=d<<2|p>>4,i[n++]=(p&15)<<4|f>>2,i[n++]=(f&3)<<6|m&63}return s}function Ga(e){e=e||"utf8";let t;try{t=new TextDecoder(e)}catch{t=new TextDecoder("windows-1252")}return t}async function li(e){if("arrayBuffer"in e)return await e.arrayBuffer();let t=new FileReader;return new Promise((r,n)=>{t.onload=function(s){r(s.target.result)},t.onerror=function(s){n(t.error)},t.readAsArrayBuffer(e)})}function UN(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70?String.fromCharCode(e):!1}function vZ(e,t,r){let n=e.indexOf("*");n>=0&&(e=e.substr(0,n)),t=t.toUpperCase();let s;if(t==="Q"){r=r.replace(/=\s+([0-9a-fA-F])/g,"=$1").replace(/[_\s]/g," ");let i=ui.encode(r),a=[];for(let p=0,f=i.length;p<f;p++){let m=i[p];if(p<=f-2&&m===61){let h=UN(i[p+1]),g=UN(i[p+2]);if(h&&g){let y=parseInt(h+g,16);a.push(y),p+=2;continue}}a.push(m)}s=new ArrayBuffer(a.length);let d=new DataView(s);for(let p=0,f=a.length;p<f;p++)d.setUint8(p,a[p])}else t==="B"?s=hm(r.replace(/[^a-zA-Z0-9\+\/=]+/g,"")):s=ui.encode(r);return Ga(e).decode(s)}function di(e){let t=!0,r=!1;for(;!r;){let n=(e||"").toString().replace(/(=\?([^?]+)\?[Bb]\?([^?]*)\?=)\s*(?==\?([^?]+)\?[Bb]\?[^?]*\?=)/g,(s,i,a,d,p)=>t&&a===p&&d.length%4===0&&!/=$/.test(d)?i+"__\0JOIN\0__":s).replace(/(=\?([^?]+)\?[Qq]\?[^?]*\?=)\s*(?==\?([^?]+)\?[Qq]\?[^?]*\?=)/g,(s,i,a,d)=>t&&a===d?i+"__\0JOIN\0__":s).replace(/(\?=)?__\x00JOIN\x00__(=\?([^?]+)\?[QqBb]\?)?/g,"").replace(/(=\?[^?]+\?[QqBb]\?[^?]*\?=)\s+(?==\?[^?]+\?[QqBb]\?[^?]*\?=)/g,"$1").replace(/=\?([\w_\-*]+)\?([QqBb])\?([^?]*)\?=/g,(s,i,a,d)=>vZ(i,a,d));if(t&&n.indexOf("\uFFFD")>=0)t=!1;else return n}}function _Z(e,t){t=t||"utf-8";let r=[];for(let i=0;i<e.length;i++){let a=e.charAt(i);if(a==="%"&&/^[a-f0-9]{2}/i.test(e.substr(i+1,2))){let d=e.substr(i+1,2);i+=2,r.push(parseInt(d,16))}else if(a.charCodeAt(0)>126){a=ui.encode(a);for(let d=0;d<a.length;d++)r.push(a[d])}else r.push(a.charCodeAt(0))}let n=new ArrayBuffer(r.length),s=new DataView(n);for(let i=0,a=r.length;i<a;i++)s.setUint8(i,r[i]);return Ga(t).decode(n)}function qN(e){let t=new Map;Object.keys(e.params).forEach(r=>{let n=r.match(/\*((\d+)\*?)?$/);if(!n)return;let s=r.substr(0,n.index).toLowerCase(),i=Number(n[2])||0,a;t.has(s)?a=t.get(s):(a={charset:!1,values:[]},t.set(s,a));let d=e.params[r];i===0&&n[0].charAt(n[0].length-1)==="*"&&(n=d.match(/^([^']*)'[^']*'(.*)$/))&&(a.charset=n[1]||"utf-8",d=n[2]),a.values.push({nr:i,value:d}),delete e.params[r]}),t.forEach((r,n)=>{e.params[n]=_Z(r.values.sort((s,i)=>s.nr-i.nr).map(s=>s.value).join(""),r.charset)})}var ui,jN,il,sl,po=fe(()=>{l();u();c();ui=new TextEncoder,jN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",il=new Uint8Array(256);for(sl=0;sl<jN.length;sl++)il[jN.charCodeAt(sl)]=sl;o(hm,"decodeBase64");o(Ga,"getDecoder");o(li,"blobToArrayBuffer");o(UN,"getHex");o(vZ,"decodeWord");o(di,"decodeWords");o(_Z,"decodeURIComponentWithCharset");o(qN,"decodeParameterValueContinuations")});var ol,HN=fe(()=>{l();u();c();po();ol=class{static{o(this,"PassThroughDecoder")}constructor(){this.chunks=[]}update(t){this.chunks.push(t),this.chunks.push(`
`)}finalize(){return li(new Blob(this.chunks,{type:"application/octet-stream"}))}}});var al,zN=fe(()=>{l();u();c();po();al=class{static{o(this,"Base64Decoder")}constructor(t){t=t||{},this.decoder=t.decoder||new TextDecoder,this.maxChunkSize=100*1024,this.chunks=[],this.remainder=""}update(t){let r=this.decoder.decode(t);if(/[^a-zA-Z0-9+\/]/.test(r)&&(r=r.replace(/[^a-zA-Z0-9+\/]+/g,"")),this.remainder+=r,this.remainder.length>=this.maxChunkSize){let n=Math.floor(this.remainder.length/4)*4,s;n===this.remainder.length?(s=this.remainder,this.remainder=""):(s=this.remainder.substr(0,n),this.remainder=this.remainder.substr(n)),s.length&&this.chunks.push(hm(s))}}finalize(){return this.remainder&&!/^=+$/.test(this.remainder)&&this.chunks.push(hm(this.remainder)),li(new Blob(this.chunks,{type:"application/octet-stream"}))}}});var $N,SZ,wZ,EZ,cl,JN=fe(()=>{l();u();c();po();$N=/^=[a-f0-9]{2}$/i,SZ=/(?==[a-f0-9]{2})/i,wZ=/=\r?\n/g,EZ=/=[a-fA-F0-9]?$/,cl=class{static{o(this,"QPDecoder")}constructor(t){t=t||{},this.decoder=t.decoder||new TextDecoder,this.maxChunkSize=100*1024,this.remainder="",this.chunks=[]}decodeQPBytes(t){let r=new ArrayBuffer(t.length),n=new DataView(r);for(let s=0,i=t.length;s<i;s++)n.setUint8(s,parseInt(t[s],16));return r}decodeChunks(t){t=t.replace(wZ,"");let r=t.split(SZ),n=[];for(let s of r){if(s.charAt(0)!=="="){n.length&&(this.chunks.push(this.decodeQPBytes(n)),n=[]),this.chunks.push(s);continue}if(s.length===3){$N.test(s)?n.push(s.substr(1)):(n.length&&(this.chunks.push(this.decodeQPBytes(n)),n=[]),this.chunks.push(s));continue}if(s.length>3){let i=s.substr(0,3);$N.test(i)?(n.push(s.substr(1,2)),this.chunks.push(this.decodeQPBytes(n)),n=[],s=s.substr(3),this.chunks.push(s)):(n.length&&(this.chunks.push(this.decodeQPBytes(n)),n=[]),this.chunks.push(s))}}n.length&&(this.chunks.push(this.decodeQPBytes(n)),n=[])}update(t){let r=this.decoder.decode(t)+`
`;if(r=this.remainder+r,r.length<this.maxChunkSize){this.remainder=r;return}this.remainder="";let n=r.match(EZ);if(n){if(n.index===0){this.remainder=r;return}this.remainder=r.substr(n.index),r=r.substr(0,n.index)}this.decodeChunks(r)}finalize(){return this.remainder.length&&(this.decodeChunks(this.remainder),this.remainder=""),li(new Blob(this.chunks,{type:"application/octet-stream"}))}}});var Wa,VN=fe(()=>{l();u();c();po();HN();zN();JN();Wa=class{static{o(this,"MimeNode")}constructor(t){if(this.options=t||{},this.postalMime=this.options.postalMime,this.root=!!this.options.parentNode,this.childNodes=[],this.options.parentNode){if(this.parentNode=this.options.parentNode,this.depth=this.parentNode.depth+1,this.depth>this.options.maxNestingDepth)throw new Error(`Maximum MIME nesting depth of ${this.options.maxNestingDepth} levels exceeded`);this.options.parentNode.childNodes.push(this)}else this.depth=0;this.state="header",this.headerLines=[],this.headerSize=0;let n=(this.options.parentMultipartType||null)==="digest"?"message/rfc822":"text/plain";this.contentType={value:n,default:!0},this.contentTransferEncoding={value:"8bit"},this.contentDisposition={value:""},this.headers=[],this.contentDecoder=!1}setupContentDecoder(t){/base64/i.test(t)?this.contentDecoder=new al:/quoted-printable/i.test(t)?this.contentDecoder=new cl({decoder:Ga(this.contentType.parsed.params.charset)}):this.contentDecoder=new ol}async finalize(){if(this.state==="finished")return;this.state==="header"&&this.processHeaders();let t=this.postalMime.boundaries;for(let r=t.length-1;r>=0;r--)if(t[r].node===this){t.splice(r,1);break}await this.finalizeChildNodes(),this.content=this.contentDecoder?await this.contentDecoder.finalize():null,this.state="finished"}async finalizeChildNodes(){for(let t of this.childNodes)await t.finalize()}stripComments(t){let r="",n=0,s=!1,i=!1;for(let a=0;a<t.length;a++){let d=t.charAt(a);if(s){n===0&&(r+=d),s=!1;continue}if(d==="\\"){s=!0,n===0&&(r+=d);continue}if(d==='"'&&n===0){i=!i,r+=d;continue}if(!i){if(d==="("){n++;continue}if(d===")"&&n>0){n--;continue}}n===0&&(r+=d)}return r}parseStructuredHeader(t){t=this.stripComments(t);let r={value:!1,params:{}},n=!1,s="",i="value",a=!1,d=!1,p;for(let f=0,m=t.length;f<m;f++)switch(p=t.charAt(f),i){case"key":if(p==="="){n=s.trim().toLowerCase(),i="value",s="";break}s+=p;break;case"value":if(d)s+=p;else if(p==="\\"){d=!0;continue}else a&&p===a?a=!1:!a&&p==='"'?a=p:!a&&p===";"?(n===!1?r.value=s.trim():r.params[n]=s.trim(),i="key",s=""):s+=p;d=!1;break}return s=s.trim(),i==="value"?n===!1?r.value=s:r.params[n]=s:s&&(r.params[s.toLowerCase()]=""),r.value&&(r.value=r.value.toLowerCase()),qN(r),r}decodeFlowedText(t,r){return t.split(/\r?\n/).reduce((n,s)=>/ $/.test(n)&&!/(^|\n)-- $/.test(n)?r?n.slice(0,-1)+s:n+s:n+`
`+s).replace(/^ /gm,"")}getTextContent(){if(!this.content)return"";let t=Ga(this.contentType.parsed.params.charset).decode(this.content);return/^flowed$/i.test(this.contentType.parsed.params.format)&&(t=this.decodeFlowedText(t,/^yes$/i.test(this.contentType.parsed.params.delsp))),t}processHeaders(){for(let t=this.headerLines.length-1;t>=0;t--){let r=this.headerLines[t];t&&/^\s/.test(r)&&(this.headerLines[t-1]+=`
`+r,this.headerLines.splice(t,1))}this.rawHeaderLines=[];for(let t=this.headerLines.length-1;t>=0;t--){let r=this.headerLines[t],n=r.indexOf(":"),s=n<0?r.trim():r.substr(0,n).trim();this.rawHeaderLines.push({key:s.toLowerCase(),line:r});let i=r.replace(/\s+/g," ");n=i.indexOf(":");let a=n<0?i.trim():i.substr(0,n).trim(),d=n<0?"":i.substr(n+1).trim();switch(this.headers.push({key:a.toLowerCase(),originalKey:a,value:d}),a.toLowerCase()){case"content-type":this.contentType.default&&(this.contentType={value:d,parsed:{}});break;case"content-transfer-encoding":this.contentTransferEncoding={value:d,parsed:{}};break;case"content-disposition":this.contentDisposition={value:d,parsed:{}};break;case"content-id":this.contentId=d;break;case"content-description":this.contentDescription=d;break}}this.contentType.parsed=this.parseStructuredHeader(this.contentType.value),this.contentType.multipart=/^multipart\//i.test(this.contentType.parsed.value)?this.contentType.parsed.value.substr(this.contentType.parsed.value.indexOf("/")+1):!1,this.contentType.multipart&&this.contentType.parsed.params.boundary&&this.postalMime.boundaries.push({value:ui.encode(this.contentType.parsed.params.boundary),node:this}),this.contentDisposition.parsed=this.parseStructuredHeader(this.contentDisposition.value),this.contentTransferEncoding.encoding=this.contentTransferEncoding.value.toLowerCase().split(/[^\w-]/).shift(),this.setupContentDecoder(this.contentTransferEncoding.encoding)}feed(t){switch(this.state){case"header":if(!t.length)return this.state="body",this.processHeaders();if(this.headerSize+=t.length,this.headerSize>this.options.maxHeadersSize)throw new Error(`Maximum header size of ${this.options.maxHeadersSize} bytes exceeded`);this.headerLines.push(Ga().decode(t));break;case"body":this.contentDecoder.update(t)}}}});var CZ,Lw,KN=fe(()=>{l();u();c();CZ={"&AElig":"\xC6","&AElig;":"\xC6","&AMP":"&","&AMP;":"&","&Aacute":"\xC1","&Aacute;":"\xC1","&Abreve;":"\u0102","&Acirc":"\xC2","&Acirc;":"\xC2","&Acy;":"\u0410","&Afr;":"\u{1D504}","&Agrave":"\xC0","&Agrave;":"\xC0","&Alpha;":"\u0391","&Amacr;":"\u0100","&And;":"\u2A53","&Aogon;":"\u0104","&Aopf;":"\u{1D538}","&ApplyFunction;":"\u2061","&Aring":"\xC5","&Aring;":"\xC5","&Ascr;":"\u{1D49C}","&Assign;":"\u2254","&Atilde":"\xC3","&Atilde;":"\xC3","&Auml":"\xC4","&Auml;":"\xC4","&Backslash;":"\u2216","&Barv;":"\u2AE7","&Barwed;":"\u2306","&Bcy;":"\u0411","&Because;":"\u2235","&Bernoullis;":"\u212C","&Beta;":"\u0392","&Bfr;":"\u{1D505}","&Bopf;":"\u{1D539}","&Breve;":"\u02D8","&Bscr;":"\u212C","&Bumpeq;":"\u224E","&CHcy;":"\u0427","&COPY":"\xA9","&COPY;":"\xA9","&Cacute;":"\u0106","&Cap;":"\u22D2","&CapitalDifferentialD;":"\u2145","&Cayleys;":"\u212D","&Ccaron;":"\u010C","&Ccedil":"\xC7","&Ccedil;":"\xC7","&Ccirc;":"\u0108","&Cconint;":"\u2230","&Cdot;":"\u010A","&Cedilla;":"\xB8","&CenterDot;":"\xB7","&Cfr;":"\u212D","&Chi;":"\u03A7","&CircleDot;":"\u2299","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201D","&CloseCurlyQuote;":"\u2019","&Colon;":"\u2237","&Colone;":"\u2A74","&Congruent;":"\u2261","&Conint;":"\u222F","&ContourIntegral;":"\u222E","&Copf;":"\u2102","&Coproduct;":"\u2210","&CounterClockwiseContourIntegral;":"\u2233","&Cross;":"\u2A2F","&Cscr;":"\u{1D49E}","&Cup;":"\u22D3","&CupCap;":"\u224D","&DD;":"\u2145","&DDotrahd;":"\u2911","&DJcy;":"\u0402","&DScy;":"\u0405","&DZcy;":"\u040F","&Dagger;":"\u2021","&Darr;":"\u21A1","&Dashv;":"\u2AE4","&Dcaron;":"\u010E","&Dcy;":"\u0414","&Del;":"\u2207","&Delta;":"\u0394","&Dfr;":"\u{1D507}","&DiacriticalAcute;":"\xB4","&DiacriticalDot;":"\u02D9","&DiacriticalDoubleAcute;":"\u02DD","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02DC","&Diamond;":"\u22C4","&DifferentialD;":"\u2146","&Dopf;":"\u{1D53B}","&Dot;":"\xA8","&DotDot;":"\u20DC","&DotEqual;":"\u2250","&DoubleContourIntegral;":"\u222F","&DoubleDot;":"\xA8","&DoubleDownArrow;":"\u21D3","&DoubleLeftArrow;":"\u21D0","&DoubleLeftRightArrow;":"\u21D4","&DoubleLeftTee;":"\u2AE4","&DoubleLongLeftArrow;":"\u27F8","&DoubleLongLeftRightArrow;":"\u27FA","&DoubleLongRightArrow;":"\u27F9","&DoubleRightArrow;":"\u21D2","&DoubleRightTee;":"\u22A8","&DoubleUpArrow;":"\u21D1","&DoubleUpDownArrow;":"\u21D5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21F5","&DownBreve;":"\u0311","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295E","&DownLeftVector;":"\u21BD","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295F","&DownRightVector;":"\u21C1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22A4","&DownTeeArrow;":"\u21A7","&Downarrow;":"\u21D3","&Dscr;":"\u{1D49F}","&Dstrok;":"\u0110","&ENG;":"\u014A","&ETH":"\xD0","&ETH;":"\xD0","&Eacute":"\xC9","&Eacute;":"\xC9","&Ecaron;":"\u011A","&Ecirc":"\xCA","&Ecirc;":"\xCA","&Ecy;":"\u042D","&Edot;":"\u0116","&Efr;":"\u{1D508}","&Egrave":"\xC8","&Egrave;":"\xC8","&Element;":"\u2208","&Emacr;":"\u0112","&EmptySmallSquare;":"\u25FB","&EmptyVerySmallSquare;":"\u25AB","&Eogon;":"\u0118","&Eopf;":"\u{1D53C}","&Epsilon;":"\u0395","&Equal;":"\u2A75","&EqualTilde;":"\u2242","&Equilibrium;":"\u21CC","&Escr;":"\u2130","&Esim;":"\u2A73","&Eta;":"\u0397","&Euml":"\xCB","&Euml;":"\xCB","&Exists;":"\u2203","&ExponentialE;":"\u2147","&Fcy;":"\u0424","&Ffr;":"\u{1D509}","&FilledSmallSquare;":"\u25FC","&FilledVerySmallSquare;":"\u25AA","&Fopf;":"\u{1D53D}","&ForAll;":"\u2200","&Fouriertrf;":"\u2131","&Fscr;":"\u2131","&GJcy;":"\u0403","&GT":">","&GT;":">","&Gamma;":"\u0393","&Gammad;":"\u03DC","&Gbreve;":"\u011E","&Gcedil;":"\u0122","&Gcirc;":"\u011C","&Gcy;":"\u0413","&Gdot;":"\u0120","&Gfr;":"\u{1D50A}","&Gg;":"\u22D9","&Gopf;":"\u{1D53E}","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22DB","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2AA2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2A7E","&GreaterTilde;":"\u2273","&Gscr;":"\u{1D4A2}","&Gt;":"\u226B","&HARDcy;":"\u042A","&Hacek;":"\u02C7","&Hat;":"^","&Hcirc;":"\u0124","&Hfr;":"\u210C","&HilbertSpace;":"\u210B","&Hopf;":"\u210D","&HorizontalLine;":"\u2500","&Hscr;":"\u210B","&Hstrok;":"\u0126","&HumpDownHump;":"\u224E","&HumpEqual;":"\u224F","&IEcy;":"\u0415","&IJlig;":"\u0132","&IOcy;":"\u0401","&Iacute":"\xCD","&Iacute;":"\xCD","&Icirc":"\xCE","&Icirc;":"\xCE","&Icy;":"\u0418","&Idot;":"\u0130","&Ifr;":"\u2111","&Igrave":"\xCC","&Igrave;":"\xCC","&Im;":"\u2111","&Imacr;":"\u012A","&ImaginaryI;":"\u2148","&Implies;":"\u21D2","&Int;":"\u222C","&Integral;":"\u222B","&Intersection;":"\u22C2","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&Iogon;":"\u012E","&Iopf;":"\u{1D540}","&Iota;":"\u0399","&Iscr;":"\u2110","&Itilde;":"\u0128","&Iukcy;":"\u0406","&Iuml":"\xCF","&Iuml;":"\xCF","&Jcirc;":"\u0134","&Jcy;":"\u0419","&Jfr;":"\u{1D50D}","&Jopf;":"\u{1D541}","&Jscr;":"\u{1D4A5}","&Jsercy;":"\u0408","&Jukcy;":"\u0404","&KHcy;":"\u0425","&KJcy;":"\u040C","&Kappa;":"\u039A","&Kcedil;":"\u0136","&Kcy;":"\u041A","&Kfr;":"\u{1D50E}","&Kopf;":"\u{1D542}","&Kscr;":"\u{1D4A6}","&LJcy;":"\u0409","&LT":"<","&LT;":"<","&Lacute;":"\u0139","&Lambda;":"\u039B","&Lang;":"\u27EA","&Laplacetrf;":"\u2112","&Larr;":"\u219E","&Lcaron;":"\u013D","&Lcedil;":"\u013B","&Lcy;":"\u041B","&LeftAngleBracket;":"\u27E8","&LeftArrow;":"\u2190","&LeftArrowBar;":"\u21E4","&LeftArrowRightArrow;":"\u21C6","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27E6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21C3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230A","&LeftRightArrow;":"\u2194","&LeftRightVector;":"\u294E","&LeftTee;":"\u22A3","&LeftTeeArrow;":"\u21A4","&LeftTeeVector;":"\u295A","&LeftTriangle;":"\u22B2","&LeftTriangleBar;":"\u29CF","&LeftTriangleEqual;":"\u22B4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21BF","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21BC","&LeftVectorBar;":"\u2952","&Leftarrow;":"\u21D0","&Leftrightarrow;":"\u21D4","&LessEqualGreater;":"\u22DA","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&LessLess;":"\u2AA1","&LessSlantEqual;":"\u2A7D","&LessTilde;":"\u2272","&Lfr;":"\u{1D50F}","&Ll;":"\u22D8","&Lleftarrow;":"\u21DA","&Lmidot;":"\u013F","&LongLeftArrow;":"\u27F5","&LongLeftRightArrow;":"\u27F7","&LongRightArrow;":"\u27F6","&Longleftarrow;":"\u27F8","&Longleftrightarrow;":"\u27FA","&Longrightarrow;":"\u27F9","&Lopf;":"\u{1D543}","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&Lscr;":"\u2112","&Lsh;":"\u21B0","&Lstrok;":"\u0141","&Lt;":"\u226A","&Map;":"\u2905","&Mcy;":"\u041C","&MediumSpace;":"\u205F","&Mellintrf;":"\u2133","&Mfr;":"\u{1D510}","&MinusPlus;":"\u2213","&Mopf;":"\u{1D544}","&Mscr;":"\u2133","&Mu;":"\u039C","&NJcy;":"\u040A","&Nacute;":"\u0143","&Ncaron;":"\u0147","&Ncedil;":"\u0145","&Ncy;":"\u041D","&NegativeMediumSpace;":"\u200B","&NegativeThickSpace;":"\u200B","&NegativeThinSpace;":"\u200B","&NegativeVeryThinSpace;":"\u200B","&NestedGreaterGreater;":"\u226B","&NestedLessLess;":"\u226A","&NewLine;":`
`,"&Nfr;":"\u{1D511}","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xA0","&Nopf;":"\u2115","&Not;":"\u2AEC","&NotCongruent;":"\u2262","&NotCupCap;":"\u226D","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226F","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226B\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2A7E\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224E\u0338","&NotHumpEqual;":"\u224F\u0338","&NotLeftTriangle;":"\u22EA","&NotLeftTriangleBar;":"\u29CF\u0338","&NotLeftTriangleEqual;":"\u22EC","&NotLess;":"\u226E","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226A\u0338","&NotLessSlantEqual;":"\u2A7D\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2AA2\u0338","&NotNestedLessLess;":"\u2AA1\u0338","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2AAF\u0338","&NotPrecedesSlantEqual;":"\u22E0","&NotReverseElement;":"\u220C","&NotRightTriangle;":"\u22EB","&NotRightTriangleBar;":"\u29D0\u0338","&NotRightTriangleEqual;":"\u22ED","&NotSquareSubset;":"\u228F\u0338","&NotSquareSubsetEqual;":"\u22E2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22E3","&NotSubset;":"\u2282\u20D2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2AB0\u0338","&NotSucceedsSlantEqual;":"\u22E1","&NotSucceedsTilde;":"\u227F\u0338","&NotSuperset;":"\u2283\u20D2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&Nscr;":"\u{1D4A9}","&Ntilde":"\xD1","&Ntilde;":"\xD1","&Nu;":"\u039D","&OElig;":"\u0152","&Oacute":"\xD3","&Oacute;":"\xD3","&Ocirc":"\xD4","&Ocirc;":"\xD4","&Ocy;":"\u041E","&Odblac;":"\u0150","&Ofr;":"\u{1D512}","&Ograve":"\xD2","&Ograve;":"\xD2","&Omacr;":"\u014C","&Omega;":"\u03A9","&Omicron;":"\u039F","&Oopf;":"\u{1D546}","&OpenCurlyDoubleQuote;":"\u201C","&OpenCurlyQuote;":"\u2018","&Or;":"\u2A54","&Oscr;":"\u{1D4AA}","&Oslash":"\xD8","&Oslash;":"\xD8","&Otilde":"\xD5","&Otilde;":"\xD5","&Otimes;":"\u2A37","&Ouml":"\xD6","&Ouml;":"\xD6","&OverBar;":"\u203E","&OverBrace;":"\u23DE","&OverBracket;":"\u23B4","&OverParenthesis;":"\u23DC","&PartialD;":"\u2202","&Pcy;":"\u041F","&Pfr;":"\u{1D513}","&Phi;":"\u03A6","&Pi;":"\u03A0","&PlusMinus;":"\xB1","&Poincareplane;":"\u210C","&Popf;":"\u2119","&Pr;":"\u2ABB","&Precedes;":"\u227A","&PrecedesEqual;":"\u2AAF","&PrecedesSlantEqual;":"\u227C","&PrecedesTilde;":"\u227E","&Prime;":"\u2033","&Product;":"\u220F","&Proportion;":"\u2237","&Proportional;":"\u221D","&Pscr;":"\u{1D4AB}","&Psi;":"\u03A8","&QUOT":'"',"&QUOT;":'"',"&Qfr;":"\u{1D514}","&Qopf;":"\u211A","&Qscr;":"\u{1D4AC}","&RBarr;":"\u2910","&REG":"\xAE","&REG;":"\xAE","&Racute;":"\u0154","&Rang;":"\u27EB","&Rarr;":"\u21A0","&Rarrtl;":"\u2916","&Rcaron;":"\u0158","&Rcedil;":"\u0156","&Rcy;":"\u0420","&Re;":"\u211C","&ReverseElement;":"\u220B","&ReverseEquilibrium;":"\u21CB","&ReverseUpEquilibrium;":"\u296F","&Rfr;":"\u211C","&Rho;":"\u03A1","&RightAngleBracket;":"\u27E9","&RightArrow;":"\u2192","&RightArrowBar;":"\u21E5","&RightArrowLeftArrow;":"\u21C4","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27E7","&RightDownTeeVector;":"\u295D","&RightDownVector;":"\u21C2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230B","&RightTee;":"\u22A2","&RightTeeArrow;":"\u21A6","&RightTeeVector;":"\u295B","&RightTriangle;":"\u22B3","&RightTriangleBar;":"\u29D0","&RightTriangleEqual;":"\u22B5","&RightUpDownVector;":"\u294F","&RightUpTeeVector;":"\u295C","&RightUpVector;":"\u21BE","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21C0","&RightVectorBar;":"\u2953","&Rightarrow;":"\u21D2","&Ropf;":"\u211D","&RoundImplies;":"\u2970","&Rrightarrow;":"\u21DB","&Rscr;":"\u211B","&Rsh;":"\u21B1","&RuleDelayed;":"\u29F4","&SHCHcy;":"\u0429","&SHcy;":"\u0428","&SOFTcy;":"\u042C","&Sacute;":"\u015A","&Sc;":"\u2ABC","&Scaron;":"\u0160","&Scedil;":"\u015E","&Scirc;":"\u015C","&Scy;":"\u0421","&Sfr;":"\u{1D516}","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&Sigma;":"\u03A3","&SmallCircle;":"\u2218","&Sopf;":"\u{1D54A}","&Sqrt;":"\u221A","&Square;":"\u25A1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228F","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&Sscr;":"\u{1D4AE}","&Star;":"\u22C6","&Sub;":"\u22D0","&Subset;":"\u22D0","&SubsetEqual;":"\u2286","&Succeeds;":"\u227B","&SucceedsEqual;":"\u2AB0","&SucceedsSlantEqual;":"\u227D","&SucceedsTilde;":"\u227F","&SuchThat;":"\u220B","&Sum;":"\u2211","&Sup;":"\u22D1","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&Supset;":"\u22D1","&THORN":"\xDE","&THORN;":"\xDE","&TRADE;":"\u2122","&TSHcy;":"\u040B","&TScy;":"\u0426","&Tab;":"	","&Tau;":"\u03A4","&Tcaron;":"\u0164","&Tcedil;":"\u0162","&Tcy;":"\u0422","&Tfr;":"\u{1D517}","&Therefore;":"\u2234","&Theta;":"\u0398","&ThickSpace;":"\u205F\u200A","&ThinSpace;":"\u2009","&Tilde;":"\u223C","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&Topf;":"\u{1D54B}","&TripleDot;":"\u20DB","&Tscr;":"\u{1D4AF}","&Tstrok;":"\u0166","&Uacute":"\xDA","&Uacute;":"\xDA","&Uarr;":"\u219F","&Uarrocir;":"\u2949","&Ubrcy;":"\u040E","&Ubreve;":"\u016C","&Ucirc":"\xDB","&Ucirc;":"\xDB","&Ucy;":"\u0423","&Udblac;":"\u0170","&Ufr;":"\u{1D518}","&Ugrave":"\xD9","&Ugrave;":"\xD9","&Umacr;":"\u016A","&UnderBar;":"_","&UnderBrace;":"\u23DF","&UnderBracket;":"\u23B5","&UnderParenthesis;":"\u23DD","&Union;":"\u22C3","&UnionPlus;":"\u228E","&Uogon;":"\u0172","&Uopf;":"\u{1D54C}","&UpArrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21C5","&UpDownArrow;":"\u2195","&UpEquilibrium;":"\u296E","&UpTee;":"\u22A5","&UpTeeArrow;":"\u21A5","&Uparrow;":"\u21D1","&Updownarrow;":"\u21D5","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03D2","&Upsilon;":"\u03A5","&Uring;":"\u016E","&Uscr;":"\u{1D4B0}","&Utilde;":"\u0168","&Uuml":"\xDC","&Uuml;":"\xDC","&VDash;":"\u22AB","&Vbar;":"\u2AEB","&Vcy;":"\u0412","&Vdash;":"\u22A9","&Vdashl;":"\u2AE6","&Vee;":"\u22C1","&Verbar;":"\u2016","&Vert;":"\u2016","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200A","&Vfr;":"\u{1D519}","&Vopf;":"\u{1D54D}","&Vscr;":"\u{1D4B1}","&Vvdash;":"\u22AA","&Wcirc;":"\u0174","&Wedge;":"\u22C0","&Wfr;":"\u{1D51A}","&Wopf;":"\u{1D54E}","&Wscr;":"\u{1D4B2}","&Xfr;":"\u{1D51B}","&Xi;":"\u039E","&Xopf;":"\u{1D54F}","&Xscr;":"\u{1D4B3}","&YAcy;":"\u042F","&YIcy;":"\u0407","&YUcy;":"\u042E","&Yacute":"\xDD","&Yacute;":"\xDD","&Ycirc;":"\u0176","&Ycy;":"\u042B","&Yfr;":"\u{1D51C}","&Yopf;":"\u{1D550}","&Yscr;":"\u{1D4B4}","&Yuml;":"\u0178","&ZHcy;":"\u0416","&Zacute;":"\u0179","&Zcaron;":"\u017D","&Zcy;":"\u0417","&Zdot;":"\u017B","&ZeroWidthSpace;":"\u200B","&Zeta;":"\u0396","&Zfr;":"\u2128","&Zopf;":"\u2124","&Zscr;":"\u{1D4B5}","&aacute":"\xE1","&aacute;":"\xE1","&abreve;":"\u0103","&ac;":"\u223E","&acE;":"\u223E\u0333","&acd;":"\u223F","&acirc":"\xE2","&acirc;":"\xE2","&acute":"\xB4","&acute;":"\xB4","&acy;":"\u0430","&aelig":"\xE6","&aelig;":"\xE6","&af;":"\u2061","&afr;":"\u{1D51E}","&agrave":"\xE0","&agrave;":"\xE0","&alefsym;":"\u2135","&aleph;":"\u2135","&alpha;":"\u03B1","&amacr;":"\u0101","&amalg;":"\u2A3F","&amp":"&","&amp;":"&","&and;":"\u2227","&andand;":"\u2A55","&andd;":"\u2A5C","&andslope;":"\u2A58","&andv;":"\u2A5A","&ang;":"\u2220","&ange;":"\u29A4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29A8","&angmsdab;":"\u29A9","&angmsdac;":"\u29AA","&angmsdad;":"\u29AB","&angmsdae;":"\u29AC","&angmsdaf;":"\u29AD","&angmsdag;":"\u29AE","&angmsdah;":"\u29AF","&angrt;":"\u221F","&angrtvb;":"\u22BE","&angrtvbd;":"\u299D","&angsph;":"\u2222","&angst;":"\xC5","&angzarr;":"\u237C","&aogon;":"\u0105","&aopf;":"\u{1D552}","&ap;":"\u2248","&apE;":"\u2A70","&apacir;":"\u2A6F","&ape;":"\u224A","&apid;":"\u224B","&apos;":"'","&approx;":"\u2248","&approxeq;":"\u224A","&aring":"\xE5","&aring;":"\xE5","&ascr;":"\u{1D4B6}","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224D","&atilde":"\xE3","&atilde;":"\xE3","&auml":"\xE4","&auml;":"\xE4","&awconint;":"\u2233","&awint;":"\u2A11","&bNot;":"\u2AED","&backcong;":"\u224C","&backepsilon;":"\u03F6","&backprime;":"\u2035","&backsim;":"\u223D","&backsimeq;":"\u22CD","&barvee;":"\u22BD","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23B5","&bbrktbrk;":"\u23B6","&bcong;":"\u224C","&bcy;":"\u0431","&bdquo;":"\u201E","&becaus;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29B0","&bepsi;":"\u03F6","&bernou;":"\u212C","&beta;":"\u03B2","&beth;":"\u2136","&between;":"\u226C","&bfr;":"\u{1D51F}","&bigcap;":"\u22C2","&bigcirc;":"\u25EF","&bigcup;":"\u22C3","&bigodot;":"\u2A00","&bigoplus;":"\u2A01","&bigotimes;":"\u2A02","&bigsqcup;":"\u2A06","&bigstar;":"\u2605","&bigtriangledown;":"\u25BD","&bigtriangleup;":"\u25B3","&biguplus;":"\u2A04","&bigvee;":"\u22C1","&bigwedge;":"\u22C0","&bkarow;":"\u290D","&blacklozenge;":"\u29EB","&blacksquare;":"\u25AA","&blacktriangle;":"\u25B4","&blacktriangledown;":"\u25BE","&blacktriangleleft;":"\u25C2","&blacktriangleright;":"\u25B8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20E5","&bnequiv;":"\u2261\u20E5","&bnot;":"\u2310","&bopf;":"\u{1D553}","&bot;":"\u22A5","&bottom;":"\u22A5","&bowtie;":"\u22C8","&boxDL;":"\u2557","&boxDR;":"\u2554","&boxDl;":"\u2556","&boxDr;":"\u2553","&boxH;":"\u2550","&boxHD;":"\u2566","&boxHU;":"\u2569","&boxHd;":"\u2564","&boxHu;":"\u2567","&boxUL;":"\u255D","&boxUR;":"\u255A","&boxUl;":"\u255C","&boxUr;":"\u2559","&boxV;":"\u2551","&boxVH;":"\u256C","&boxVL;":"\u2563","&boxVR;":"\u2560","&boxVh;":"\u256B","&boxVl;":"\u2562","&boxVr;":"\u255F","&boxbox;":"\u29C9","&boxdL;":"\u2555","&boxdR;":"\u2552","&boxdl;":"\u2510","&boxdr;":"\u250C","&boxh;":"\u2500","&boxhD;":"\u2565","&boxhU;":"\u2568","&boxhd;":"\u252C","&boxhu;":"\u2534","&boxminus;":"\u229F","&boxplus;":"\u229E","&boxtimes;":"\u22A0","&boxuL;":"\u255B","&boxuR;":"\u2558","&boxul;":"\u2518","&boxur;":"\u2514","&boxv;":"\u2502","&boxvH;":"\u256A","&boxvL;":"\u2561","&boxvR;":"\u255E","&boxvh;":"\u253C","&boxvl;":"\u2524","&boxvr;":"\u251C","&bprime;":"\u2035","&breve;":"\u02D8","&brvbar":"\xA6","&brvbar;":"\xA6","&bscr;":"\u{1D4B7}","&bsemi;":"\u204F","&bsim;":"\u223D","&bsime;":"\u22CD","&bsol;":"\\","&bsolb;":"\u29C5","&bsolhsub;":"\u27C8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224E","&bumpE;":"\u2AAE","&bumpe;":"\u224F","&bumpeq;":"\u224F","&cacute;":"\u0107","&cap;":"\u2229","&capand;":"\u2A44","&capbrcup;":"\u2A49","&capcap;":"\u2A4B","&capcup;":"\u2A47","&capdot;":"\u2A40","&caps;":"\u2229\uFE00","&caret;":"\u2041","&caron;":"\u02C7","&ccaps;":"\u2A4D","&ccaron;":"\u010D","&ccedil":"\xE7","&ccedil;":"\xE7","&ccirc;":"\u0109","&ccups;":"\u2A4C","&ccupssm;":"\u2A50","&cdot;":"\u010B","&cedil":"\xB8","&cedil;":"\xB8","&cemptyv;":"\u29B2","&cent":"\xA2","&cent;":"\xA2","&centerdot;":"\xB7","&cfr;":"\u{1D520}","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&chi;":"\u03C7","&cir;":"\u25CB","&cirE;":"\u29C3","&circ;":"\u02C6","&circeq;":"\u2257","&circlearrowleft;":"\u21BA","&circlearrowright;":"\u21BB","&circledR;":"\xAE","&circledS;":"\u24C8","&circledast;":"\u229B","&circledcirc;":"\u229A","&circleddash;":"\u229D","&cire;":"\u2257","&cirfnint;":"\u2A10","&cirmid;":"\u2AEF","&cirscir;":"\u29C2","&clubs;":"\u2663","&clubsuit;":"\u2663","&colon;":":","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2A6D","&conint;":"\u222E","&copf;":"\u{1D554}","&coprod;":"\u2210","&copy":"\xA9","&copy;":"\xA9","&copysr;":"\u2117","&crarr;":"\u21B5","&cross;":"\u2717","&cscr;":"\u{1D4B8}","&csub;":"\u2ACF","&csube;":"\u2AD1","&csup;":"\u2AD0","&csupe;":"\u2AD2","&ctdot;":"\u22EF","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22DE","&cuesc;":"\u22DF","&cularr;":"\u21B6","&cularrp;":"\u293D","&cup;":"\u222A","&cupbrcap;":"\u2A48","&cupcap;":"\u2A46","&cupcup;":"\u2A4A","&cupdot;":"\u228D","&cupor;":"\u2A45","&cups;":"\u222A\uFE00","&curarr;":"\u21B7","&curarrm;":"\u293C","&curlyeqprec;":"\u22DE","&curlyeqsucc;":"\u22DF","&curlyvee;":"\u22CE","&curlywedge;":"\u22CF","&curren":"\xA4","&curren;":"\xA4","&curvearrowleft;":"\u21B6","&curvearrowright;":"\u21B7","&cuvee;":"\u22CE","&cuwed;":"\u22CF","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232D","&dArr;":"\u21D3","&dHar;":"\u2965","&dagger;":"\u2020","&daleth;":"\u2138","&darr;":"\u2193","&dash;":"\u2010","&dashv;":"\u22A3","&dbkarow;":"\u290F","&dblac;":"\u02DD","&dcaron;":"\u010F","&dcy;":"\u0434","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21CA","&ddotseq;":"\u2A77","&deg":"\xB0","&deg;":"\xB0","&delta;":"\u03B4","&demptyv;":"\u29B1","&dfisht;":"\u297F","&dfr;":"\u{1D521}","&dharl;":"\u21C3","&dharr;":"\u21C2","&diam;":"\u22C4","&diamond;":"\u22C4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xA8","&digamma;":"\u03DD","&disin;":"\u22F2","&div;":"\xF7","&divide":"\xF7","&divide;":"\xF7","&divideontimes;":"\u22C7","&divonx;":"\u22C7","&djcy;":"\u0452","&dlcorn;":"\u231E","&dlcrop;":"\u230D","&dollar;":"$","&dopf;":"\u{1D555}","&dot;":"\u02D9","&doteq;":"\u2250","&doteqdot;":"\u2251","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22A1","&doublebarwedge;":"\u2306","&downarrow;":"\u2193","&downdownarrows;":"\u21CA","&downharpoonleft;":"\u21C3","&downharpoonright;":"\u21C2","&drbkarow;":"\u2910","&drcorn;":"\u231F","&drcrop;":"\u230C","&dscr;":"\u{1D4B9}","&dscy;":"\u0455","&dsol;":"\u29F6","&dstrok;":"\u0111","&dtdot;":"\u22F1","&dtri;":"\u25BF","&dtrif;":"\u25BE","&duarr;":"\u21F5","&duhar;":"\u296F","&dwangle;":"\u29A6","&dzcy;":"\u045F","&dzigrarr;":"\u27FF","&eDDot;":"\u2A77","&eDot;":"\u2251","&eacute":"\xE9","&eacute;":"\xE9","&easter;":"\u2A6E","&ecaron;":"\u011B","&ecir;":"\u2256","&ecirc":"\xEA","&ecirc;":"\xEA","&ecolon;":"\u2255","&ecy;":"\u044D","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&efr;":"\u{1D522}","&eg;":"\u2A9A","&egrave":"\xE8","&egrave;":"\xE8","&egs;":"\u2A96","&egsdot;":"\u2A98","&el;":"\u2A99","&elinters;":"\u23E7","&ell;":"\u2113","&els;":"\u2A95","&elsdot;":"\u2A97","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&emptyv;":"\u2205","&emsp13;":"\u2004","&emsp14;":"\u2005","&emsp;":"\u2003","&eng;":"\u014B","&ensp;":"\u2002","&eogon;":"\u0119","&eopf;":"\u{1D556}","&epar;":"\u22D5","&eparsl;":"\u29E3","&eplus;":"\u2A71","&epsi;":"\u03B5","&epsilon;":"\u03B5","&epsiv;":"\u03F5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2A96","&eqslantless;":"\u2A95","&equals;":"=","&equest;":"\u225F","&equiv;":"\u2261","&equivDD;":"\u2A78","&eqvparsl;":"\u29E5","&erDot;":"\u2253","&erarr;":"\u2971","&escr;":"\u212F","&esdot;":"\u2250","&esim;":"\u2242","&eta;":"\u03B7","&eth":"\xF0","&eth;":"\xF0","&euml":"\xEB","&euml;":"\xEB","&euro;":"\u20AC","&excl;":"!","&exist;":"\u2203","&expectation;":"\u2130","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\uFB03","&fflig;":"\uFB00","&ffllig;":"\uFB04","&ffr;":"\u{1D523}","&filig;":"\uFB01","&fjlig;":"fj","&flat;":"\u266D","&fllig;":"\uFB02","&fltns;":"\u25B1","&fnof;":"\u0192","&fopf;":"\u{1D557}","&forall;":"\u2200","&fork;":"\u22D4","&forkv;":"\u2AD9","&fpartint;":"\u2A0D","&frac12":"\xBD","&frac12;":"\xBD","&frac13;":"\u2153","&frac14":"\xBC","&frac14;":"\xBC","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215B","&frac23;":"\u2154","&frac25;":"\u2156","&frac34":"\xBE","&frac34;":"\xBE","&frac35;":"\u2157","&frac38;":"\u215C","&frac45;":"\u2158","&frac56;":"\u215A","&frac58;":"\u215D","&frac78;":"\u215E","&frasl;":"\u2044","&frown;":"\u2322","&fscr;":"\u{1D4BB}","&gE;":"\u2267","&gEl;":"\u2A8C","&gacute;":"\u01F5","&gamma;":"\u03B3","&gammad;":"\u03DD","&gap;":"\u2A86","&gbreve;":"\u011F","&gcirc;":"\u011D","&gcy;":"\u0433","&gdot;":"\u0121","&ge;":"\u2265","&gel;":"\u22DB","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2A7E","&ges;":"\u2A7E","&gescc;":"\u2AA9","&gesdot;":"\u2A80","&gesdoto;":"\u2A82","&gesdotol;":"\u2A84","&gesl;":"\u22DB\uFE00","&gesles;":"\u2A94","&gfr;":"\u{1D524}","&gg;":"\u226B","&ggg;":"\u22D9","&gimel;":"\u2137","&gjcy;":"\u0453","&gl;":"\u2277","&glE;":"\u2A92","&gla;":"\u2AA5","&glj;":"\u2AA4","&gnE;":"\u2269","&gnap;":"\u2A8A","&gnapprox;":"\u2A8A","&gne;":"\u2A88","&gneq;":"\u2A88","&gneqq;":"\u2269","&gnsim;":"\u22E7","&gopf;":"\u{1D558}","&grave;":"`","&gscr;":"\u210A","&gsim;":"\u2273","&gsime;":"\u2A8E","&gsiml;":"\u2A90","&gt":">","&gt;":">","&gtcc;":"\u2AA7","&gtcir;":"\u2A7A","&gtdot;":"\u22D7","&gtlPar;":"\u2995","&gtquest;":"\u2A7C","&gtrapprox;":"\u2A86","&gtrarr;":"\u2978","&gtrdot;":"\u22D7","&gtreqless;":"\u22DB","&gtreqqless;":"\u2A8C","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\uFE00","&gvnE;":"\u2269\uFE00","&hArr;":"\u21D4","&hairsp;":"\u200A","&half;":"\xBD","&hamilt;":"\u210B","&hardcy;":"\u044A","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21AD","&hbar;":"\u210F","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22B9","&hfr;":"\u{1D525}","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21FF","&homtht;":"\u223B","&hookleftarrow;":"\u21A9","&hookrightarrow;":"\u21AA","&hopf;":"\u{1D559}","&horbar;":"\u2015","&hscr;":"\u{1D4BD}","&hslash;":"\u210F","&hstrok;":"\u0127","&hybull;":"\u2043","&hyphen;":"\u2010","&iacute":"\xED","&iacute;":"\xED","&ic;":"\u2063","&icirc":"\xEE","&icirc;":"\xEE","&icy;":"\u0438","&iecy;":"\u0435","&iexcl":"\xA1","&iexcl;":"\xA1","&iff;":"\u21D4","&ifr;":"\u{1D526}","&igrave":"\xEC","&igrave;":"\xEC","&ii;":"\u2148","&iiiint;":"\u2A0C","&iiint;":"\u222D","&iinfin;":"\u29DC","&iiota;":"\u2129","&ijlig;":"\u0133","&imacr;":"\u012B","&image;":"\u2111","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22B7","&imped;":"\u01B5","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221E","&infintie;":"\u29DD","&inodot;":"\u0131","&int;":"\u222B","&intcal;":"\u22BA","&integers;":"\u2124","&intercal;":"\u22BA","&intlarhk;":"\u2A17","&intprod;":"\u2A3C","&iocy;":"\u0451","&iogon;":"\u012F","&iopf;":"\u{1D55A}","&iota;":"\u03B9","&iprod;":"\u2A3C","&iquest":"\xBF","&iquest;":"\xBF","&iscr;":"\u{1D4BE}","&isin;":"\u2208","&isinE;":"\u22F9","&isindot;":"\u22F5","&isins;":"\u22F4","&isinsv;":"\u22F3","&isinv;":"\u2208","&it;":"\u2062","&itilde;":"\u0129","&iukcy;":"\u0456","&iuml":"\xEF","&iuml;":"\xEF","&jcirc;":"\u0135","&jcy;":"\u0439","&jfr;":"\u{1D527}","&jmath;":"\u0237","&jopf;":"\u{1D55B}","&jscr;":"\u{1D4BF}","&jsercy;":"\u0458","&jukcy;":"\u0454","&kappa;":"\u03BA","&kappav;":"\u03F0","&kcedil;":"\u0137","&kcy;":"\u043A","&kfr;":"\u{1D528}","&kgreen;":"\u0138","&khcy;":"\u0445","&kjcy;":"\u045C","&kopf;":"\u{1D55C}","&kscr;":"\u{1D4C0}","&lAarr;":"\u21DA","&lArr;":"\u21D0","&lAtail;":"\u291B","&lBarr;":"\u290E","&lE;":"\u2266","&lEg;":"\u2A8B","&lHar;":"\u2962","&lacute;":"\u013A","&laemptyv;":"\u29B4","&lagran;":"\u2112","&lambda;":"\u03BB","&lang;":"\u27E8","&langd;":"\u2991","&langle;":"\u27E8","&lap;":"\u2A85","&laquo":"\xAB","&laquo;":"\xAB","&larr;":"\u2190","&larrb;":"\u21E4","&larrbfs;":"\u291F","&larrfs;":"\u291D","&larrhk;":"\u21A9","&larrlp;":"\u21AB","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21A2","&lat;":"\u2AAB","&latail;":"\u2919","&late;":"\u2AAD","&lates;":"\u2AAD\uFE00","&lbarr;":"\u290C","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298B","&lbrksld;":"\u298F","&lbrkslu;":"\u298D","&lcaron;":"\u013E","&lcedil;":"\u013C","&lceil;":"\u2308","&lcub;":"{","&lcy;":"\u043B","&ldca;":"\u2936","&ldquo;":"\u201C","&ldquor;":"\u201E","&ldrdhar;":"\u2967","&ldrushar;":"\u294B","&ldsh;":"\u21B2","&le;":"\u2264","&leftarrow;":"\u2190","&leftarrowtail;":"\u21A2","&leftharpoondown;":"\u21BD","&leftharpoonup;":"\u21BC","&leftleftarrows;":"\u21C7","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21C6","&leftrightharpoons;":"\u21CB","&leftrightsquigarrow;":"\u21AD","&leftthreetimes;":"\u22CB","&leg;":"\u22DA","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2A7D","&les;":"\u2A7D","&lescc;":"\u2AA8","&lesdot;":"\u2A7F","&lesdoto;":"\u2A81","&lesdotor;":"\u2A83","&lesg;":"\u22DA\uFE00","&lesges;":"\u2A93","&lessapprox;":"\u2A85","&lessdot;":"\u22D6","&lesseqgtr;":"\u22DA","&lesseqqgtr;":"\u2A8B","&lessgtr;":"\u2276","&lesssim;":"\u2272","&lfisht;":"\u297C","&lfloor;":"\u230A","&lfr;":"\u{1D529}","&lg;":"\u2276","&lgE;":"\u2A91","&lhard;":"\u21BD","&lharu;":"\u21BC","&lharul;":"\u296A","&lhblk;":"\u2584","&ljcy;":"\u0459","&ll;":"\u226A","&llarr;":"\u21C7","&llcorner;":"\u231E","&llhard;":"\u296B","&lltri;":"\u25FA","&lmidot;":"\u0140","&lmoust;":"\u23B0","&lmoustache;":"\u23B0","&lnE;":"\u2268","&lnap;":"\u2A89","&lnapprox;":"\u2A89","&lne;":"\u2A87","&lneq;":"\u2A87","&lneqq;":"\u2268","&lnsim;":"\u22E6","&loang;":"\u27EC","&loarr;":"\u21FD","&lobrk;":"\u27E6","&longleftarrow;":"\u27F5","&longleftrightarrow;":"\u27F7","&longmapsto;":"\u27FC","&longrightarrow;":"\u27F6","&looparrowleft;":"\u21AB","&looparrowright;":"\u21AC","&lopar;":"\u2985","&lopf;":"\u{1D55D}","&loplus;":"\u2A2D","&lotimes;":"\u2A34","&lowast;":"\u2217","&lowbar;":"_","&loz;":"\u25CA","&lozenge;":"\u25CA","&lozf;":"\u29EB","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21C6","&lrcorner;":"\u231F","&lrhar;":"\u21CB","&lrhard;":"\u296D","&lrm;":"\u200E","&lrtri;":"\u22BF","&lsaquo;":"\u2039","&lscr;":"\u{1D4C1}","&lsh;":"\u21B0","&lsim;":"\u2272","&lsime;":"\u2A8D","&lsimg;":"\u2A8F","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201A","&lstrok;":"\u0142","&lt":"<","&lt;":"<","&ltcc;":"\u2AA6","&ltcir;":"\u2A79","&ltdot;":"\u22D6","&lthree;":"\u22CB","&ltimes;":"\u22C9","&ltlarr;":"\u2976","&ltquest;":"\u2A7B","&ltrPar;":"\u2996","&ltri;":"\u25C3","&ltrie;":"\u22B4","&ltrif;":"\u25C2","&lurdshar;":"\u294A","&luruhar;":"\u2966","&lvertneqq;":"\u2268\uFE00","&lvnE;":"\u2268\uFE00","&mDDot;":"\u223A","&macr":"\xAF","&macr;":"\xAF","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&map;":"\u21A6","&mapsto;":"\u21A6","&mapstodown;":"\u21A7","&mapstoleft;":"\u21A4","&mapstoup;":"\u21A5","&marker;":"\u25AE","&mcomma;":"\u2A29","&mcy;":"\u043C","&mdash;":"\u2014","&measuredangle;":"\u2221","&mfr;":"\u{1D52A}","&mho;":"\u2127","&micro":"\xB5","&micro;":"\xB5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2AF0","&middot":"\xB7","&middot;":"\xB7","&minus;":"\u2212","&minusb;":"\u229F","&minusd;":"\u2238","&minusdu;":"\u2A2A","&mlcp;":"\u2ADB","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22A7","&mopf;":"\u{1D55E}","&mp;":"\u2213","&mscr;":"\u{1D4C2}","&mstpos;":"\u223E","&mu;":"\u03BC","&multimap;":"\u22B8","&mumap;":"\u22B8","&nGg;":"\u22D9\u0338","&nGt;":"\u226B\u20D2","&nGtv;":"\u226B\u0338","&nLeftarrow;":"\u21CD","&nLeftrightarrow;":"\u21CE","&nLl;":"\u22D8\u0338","&nLt;":"\u226A\u20D2","&nLtv;":"\u226A\u0338","&nRightarrow;":"\u21CF","&nVDash;":"\u22AF","&nVdash;":"\u22AE","&nabla;":"\u2207","&nacute;":"\u0144","&nang;":"\u2220\u20D2","&nap;":"\u2249","&napE;":"\u2A70\u0338","&napid;":"\u224B\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266E","&natural;":"\u266E","&naturals;":"\u2115","&nbsp":"\xA0","&nbsp;":"\xA0","&nbump;":"\u224E\u0338","&nbumpe;":"\u224F\u0338","&ncap;":"\u2A43","&ncaron;":"\u0148","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2A6D\u0338","&ncup;":"\u2A42","&ncy;":"\u043D","&ndash;":"\u2013","&ne;":"\u2260","&neArr;":"\u21D7","&nearhk;":"\u2924","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&nexist;":"\u2204","&nexists;":"\u2204","&nfr;":"\u{1D52B}","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2A7E\u0338","&nges;":"\u2A7E\u0338","&ngsim;":"\u2275","&ngt;":"\u226F","&ngtr;":"\u226F","&nhArr;":"\u21CE","&nharr;":"\u21AE","&nhpar;":"\u2AF2","&ni;":"\u220B","&nis;":"\u22FC","&nisd;":"\u22FA","&niv;":"\u220B","&njcy;":"\u045A","&nlArr;":"\u21CD","&nlE;":"\u2266\u0338","&nlarr;":"\u219A","&nldr;":"\u2025","&nle;":"\u2270","&nleftarrow;":"\u219A","&nleftrightarrow;":"\u21AE","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2A7D\u0338","&nles;":"\u2A7D\u0338","&nless;":"\u226E","&nlsim;":"\u2274","&nlt;":"\u226E","&nltri;":"\u22EA","&nltrie;":"\u22EC","&nmid;":"\u2224","&nopf;":"\u{1D55F}","&not":"\xAC","&not;":"\xAC","&notin;":"\u2209","&notinE;":"\u22F9\u0338","&notindot;":"\u22F5\u0338","&notinva;":"\u2209","&notinvb;":"\u22F7","&notinvc;":"\u22F6","&notni;":"\u220C","&notniva;":"\u220C","&notnivb;":"\u22FE","&notnivc;":"\u22FD","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2AFD\u20E5","&npart;":"\u2202\u0338","&npolint;":"\u2A14","&npr;":"\u2280","&nprcue;":"\u22E0","&npre;":"\u2AAF\u0338","&nprec;":"\u2280","&npreceq;":"\u2AAF\u0338","&nrArr;":"\u21CF","&nrarr;":"\u219B","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219D\u0338","&nrightarrow;":"\u219B","&nrtri;":"\u22EB","&nrtrie;":"\u22ED","&nsc;":"\u2281","&nsccue;":"\u22E1","&nsce;":"\u2AB0\u0338","&nscr;":"\u{1D4C3}","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22E2","&nsqsupe;":"\u22E3","&nsub;":"\u2284","&nsubE;":"\u2AC5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20D2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2AC5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2AB0\u0338","&nsup;":"\u2285","&nsupE;":"\u2AC6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20D2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2AC6\u0338","&ntgl;":"\u2279","&ntilde":"\xF1","&ntilde;":"\xF1","&ntlg;":"\u2278","&ntriangleleft;":"\u22EA","&ntrianglelefteq;":"\u22EC","&ntriangleright;":"\u22EB","&ntrianglerighteq;":"\u22ED","&nu;":"\u03BD","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvDash;":"\u22AD","&nvHarr;":"\u2904","&nvap;":"\u224D\u20D2","&nvdash;":"\u22AC","&nvge;":"\u2265\u20D2","&nvgt;":">\u20D2","&nvinfin;":"\u29DE","&nvlArr;":"\u2902","&nvle;":"\u2264\u20D2","&nvlt;":"<\u20D2","&nvltrie;":"\u22B4\u20D2","&nvrArr;":"\u2903","&nvrtrie;":"\u22B5\u20D2","&nvsim;":"\u223C\u20D2","&nwArr;":"\u21D6","&nwarhk;":"\u2923","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&oS;":"\u24C8","&oacute":"\xF3","&oacute;":"\xF3","&oast;":"\u229B","&ocir;":"\u229A","&ocirc":"\xF4","&ocirc;":"\xF4","&ocy;":"\u043E","&odash;":"\u229D","&odblac;":"\u0151","&odiv;":"\u2A38","&odot;":"\u2299","&odsold;":"\u29BC","&oelig;":"\u0153","&ofcir;":"\u29BF","&ofr;":"\u{1D52C}","&ogon;":"\u02DB","&ograve":"\xF2","&ograve;":"\xF2","&ogt;":"\u29C1","&ohbar;":"\u29B5","&ohm;":"\u03A9","&oint;":"\u222E","&olarr;":"\u21BA","&olcir;":"\u29BE","&olcross;":"\u29BB","&oline;":"\u203E","&olt;":"\u29C0","&omacr;":"\u014D","&omega;":"\u03C9","&omicron;":"\u03BF","&omid;":"\u29B6","&ominus;":"\u2296","&oopf;":"\u{1D560}","&opar;":"\u29B7","&operp;":"\u29B9","&oplus;":"\u2295","&or;":"\u2228","&orarr;":"\u21BB","&ord;":"\u2A5D","&order;":"\u2134","&orderof;":"\u2134","&ordf":"\xAA","&ordf;":"\xAA","&ordm":"\xBA","&ordm;":"\xBA","&origof;":"\u22B6","&oror;":"\u2A56","&orslope;":"\u2A57","&orv;":"\u2A5B","&oscr;":"\u2134","&oslash":"\xF8","&oslash;":"\xF8","&osol;":"\u2298","&otilde":"\xF5","&otilde;":"\xF5","&otimes;":"\u2297","&otimesas;":"\u2A36","&ouml":"\xF6","&ouml;":"\xF6","&ovbar;":"\u233D","&par;":"\u2225","&para":"\xB6","&para;":"\xB6","&parallel;":"\u2225","&parsim;":"\u2AF3","&parsl;":"\u2AFD","&part;":"\u2202","&pcy;":"\u043F","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22A5","&pertenk;":"\u2031","&pfr;":"\u{1D52D}","&phi;":"\u03C6","&phiv;":"\u03D5","&phmmat;":"\u2133","&phone;":"\u260E","&pi;":"\u03C0","&pitchfork;":"\u22D4","&piv;":"\u03D6","&planck;":"\u210F","&planckh;":"\u210E","&plankv;":"\u210F","&plus;":"+","&plusacir;":"\u2A23","&plusb;":"\u229E","&pluscir;":"\u2A22","&plusdo;":"\u2214","&plusdu;":"\u2A25","&pluse;":"\u2A72","&plusmn":"\xB1","&plusmn;":"\xB1","&plussim;":"\u2A26","&plustwo;":"\u2A27","&pm;":"\xB1","&pointint;":"\u2A15","&popf;":"\u{1D561}","&pound":"\xA3","&pound;":"\xA3","&pr;":"\u227A","&prE;":"\u2AB3","&prap;":"\u2AB7","&prcue;":"\u227C","&pre;":"\u2AAF","&prec;":"\u227A","&precapprox;":"\u2AB7","&preccurlyeq;":"\u227C","&preceq;":"\u2AAF","&precnapprox;":"\u2AB9","&precneqq;":"\u2AB5","&precnsim;":"\u22E8","&precsim;":"\u227E","&prime;":"\u2032","&primes;":"\u2119","&prnE;":"\u2AB5","&prnap;":"\u2AB9","&prnsim;":"\u22E8","&prod;":"\u220F","&profalar;":"\u232E","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221D","&propto;":"\u221D","&prsim;":"\u227E","&prurel;":"\u22B0","&pscr;":"\u{1D4C5}","&psi;":"\u03C8","&puncsp;":"\u2008","&qfr;":"\u{1D52E}","&qint;":"\u2A0C","&qopf;":"\u{1D562}","&qprime;":"\u2057","&qscr;":"\u{1D4C6}","&quaternions;":"\u210D","&quatint;":"\u2A16","&quest;":"?","&questeq;":"\u225F","&quot":'"',"&quot;":'"',"&rAarr;":"\u21DB","&rArr;":"\u21D2","&rAtail;":"\u291C","&rBarr;":"\u290F","&rHar;":"\u2964","&race;":"\u223D\u0331","&racute;":"\u0155","&radic;":"\u221A","&raemptyv;":"\u29B3","&rang;":"\u27E9","&rangd;":"\u2992","&range;":"\u29A5","&rangle;":"\u27E9","&raquo":"\xBB","&raquo;":"\xBB","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21E5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291E","&rarrhk;":"\u21AA","&rarrlp;":"\u21AC","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&rarrtl;":"\u21A3","&rarrw;":"\u219D","&ratail;":"\u291A","&ratio;":"\u2236","&rationals;":"\u211A","&rbarr;":"\u290D","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298C","&rbrksld;":"\u298E","&rbrkslu;":"\u2990","&rcaron;":"\u0159","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201D","&rdquor;":"\u201D","&rdsh;":"\u21B3","&real;":"\u211C","&realine;":"\u211B","&realpart;":"\u211C","&reals;":"\u211D","&rect;":"\u25AD","&reg":"\xAE","&reg;":"\xAE","&rfisht;":"\u297D","&rfloor;":"\u230B","&rfr;":"\u{1D52F}","&rhard;":"\u21C1","&rharu;":"\u21C0","&rharul;":"\u296C","&rho;":"\u03C1","&rhov;":"\u03F1","&rightarrow;":"\u2192","&rightarrowtail;":"\u21A3","&rightharpoondown;":"\u21C1","&rightharpoonup;":"\u21C0","&rightleftarrows;":"\u21C4","&rightleftharpoons;":"\u21CC","&rightrightarrows;":"\u21C9","&rightsquigarrow;":"\u219D","&rightthreetimes;":"\u22CC","&ring;":"\u02DA","&risingdotseq;":"\u2253","&rlarr;":"\u21C4","&rlhar;":"\u21CC","&rlm;":"\u200F","&rmoust;":"\u23B1","&rmoustache;":"\u23B1","&rnmid;":"\u2AEE","&roang;":"\u27ED","&roarr;":"\u21FE","&robrk;":"\u27E7","&ropar;":"\u2986","&ropf;":"\u{1D563}","&roplus;":"\u2A2E","&rotimes;":"\u2A35","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2A12","&rrarr;":"\u21C9","&rsaquo;":"\u203A","&rscr;":"\u{1D4C7}","&rsh;":"\u21B1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22CC","&rtimes;":"\u22CA","&rtri;":"\u25B9","&rtrie;":"\u22B5","&rtrif;":"\u25B8","&rtriltri;":"\u29CE","&ruluhar;":"\u2968","&rx;":"\u211E","&sacute;":"\u015B","&sbquo;":"\u201A","&sc;":"\u227B","&scE;":"\u2AB4","&scap;":"\u2AB8","&scaron;":"\u0161","&sccue;":"\u227D","&sce;":"\u2AB0","&scedil;":"\u015F","&scirc;":"\u015D","&scnE;":"\u2AB6","&scnap;":"\u2ABA","&scnsim;":"\u22E9","&scpolint;":"\u2A13","&scsim;":"\u227F","&scy;":"\u0441","&sdot;":"\u22C5","&sdotb;":"\u22A1","&sdote;":"\u2A66","&seArr;":"\u21D8","&searhk;":"\u2925","&searr;":"\u2198","&searrow;":"\u2198","&sect":"\xA7","&sect;":"\xA7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&sfr;":"\u{1D530}","&sfrown;":"\u2322","&sharp;":"\u266F","&shchcy;":"\u0449","&shcy;":"\u0448","&shortmid;":"\u2223","&shortparallel;":"\u2225","&shy":"\xAD","&shy;":"\xAD","&sigma;":"\u03C3","&sigmaf;":"\u03C2","&sigmav;":"\u03C2","&sim;":"\u223C","&simdot;":"\u2A6A","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2A9E","&simgE;":"\u2AA0","&siml;":"\u2A9D","&simlE;":"\u2A9F","&simne;":"\u2246","&simplus;":"\u2A24","&simrarr;":"\u2972","&slarr;":"\u2190","&smallsetminus;":"\u2216","&smashp;":"\u2A33","&smeparsl;":"\u29E4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2AAA","&smte;":"\u2AAC","&smtes;":"\u2AAC\uFE00","&softcy;":"\u044C","&sol;":"/","&solb;":"\u29C4","&solbar;":"\u233F","&sopf;":"\u{1D564}","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\uFE00","&sqcup;":"\u2294","&sqcups;":"\u2294\uFE00","&sqsub;":"\u228F","&sqsube;":"\u2291","&sqsubset;":"\u228F","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25A1","&square;":"\u25A1","&squarf;":"\u25AA","&squf;":"\u25AA","&srarr;":"\u2192","&sscr;":"\u{1D4C8}","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22C6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03F5","&straightphi;":"\u03D5","&strns;":"\xAF","&sub;":"\u2282","&subE;":"\u2AC5","&subdot;":"\u2ABD","&sube;":"\u2286","&subedot;":"\u2AC3","&submult;":"\u2AC1","&subnE;":"\u2ACB","&subne;":"\u228A","&subplus;":"\u2ABF","&subrarr;":"\u2979","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2AC5","&subsetneq;":"\u228A","&subsetneqq;":"\u2ACB","&subsim;":"\u2AC7","&subsub;":"\u2AD5","&subsup;":"\u2AD3","&succ;":"\u227B","&succapprox;":"\u2AB8","&succcurlyeq;":"\u227D","&succeq;":"\u2AB0","&succnapprox;":"\u2ABA","&succneqq;":"\u2AB6","&succnsim;":"\u22E9","&succsim;":"\u227F","&sum;":"\u2211","&sung;":"\u266A","&sup1":"\xB9","&sup1;":"\xB9","&sup2":"\xB2","&sup2;":"\xB2","&sup3":"\xB3","&sup3;":"\xB3","&sup;":"\u2283","&supE;":"\u2AC6","&supdot;":"\u2ABE","&supdsub;":"\u2AD8","&supe;":"\u2287","&supedot;":"\u2AC4","&suphsol;":"\u27C9","&suphsub;":"\u2AD7","&suplarr;":"\u297B","&supmult;":"\u2AC2","&supnE;":"\u2ACC","&supne;":"\u228B","&supplus;":"\u2AC0","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2AC6","&supsetneq;":"\u228B","&supsetneqq;":"\u2ACC","&supsim;":"\u2AC8","&supsub;":"\u2AD4","&supsup;":"\u2AD6","&swArr;":"\u21D9","&swarhk;":"\u2926","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292A","&szlig":"\xDF","&szlig;":"\xDF","&target;":"\u2316","&tau;":"\u03C4","&tbrk;":"\u23B4","&tcaron;":"\u0165","&tcedil;":"\u0163","&tcy;":"\u0442","&tdot;":"\u20DB","&telrec;":"\u2315","&tfr;":"\u{1D531}","&there4;":"\u2234","&therefore;":"\u2234","&theta;":"\u03B8","&thetasym;":"\u03D1","&thetav;":"\u03D1","&thickapprox;":"\u2248","&thicksim;":"\u223C","&thinsp;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223C","&thorn":"\xFE","&thorn;":"\xFE","&tilde;":"\u02DC","&times":"\xD7","&times;":"\xD7","&timesb;":"\u22A0","&timesbar;":"\u2A31","&timesd;":"\u2A30","&tint;":"\u222D","&toea;":"\u2928","&top;":"\u22A4","&topbot;":"\u2336","&topcir;":"\u2AF1","&topf;":"\u{1D565}","&topfork;":"\u2ADA","&tosa;":"\u2929","&tprime;":"\u2034","&trade;":"\u2122","&triangle;":"\u25B5","&triangledown;":"\u25BF","&triangleleft;":"\u25C3","&trianglelefteq;":"\u22B4","&triangleq;":"\u225C","&triangleright;":"\u25B9","&trianglerighteq;":"\u22B5","&tridot;":"\u25EC","&trie;":"\u225C","&triminus;":"\u2A3A","&triplus;":"\u2A39","&trisb;":"\u29CD","&tritime;":"\u2A3B","&trpezium;":"\u23E2","&tscr;":"\u{1D4C9}","&tscy;":"\u0446","&tshcy;":"\u045B","&tstrok;":"\u0167","&twixt;":"\u226C","&twoheadleftarrow;":"\u219E","&twoheadrightarrow;":"\u21A0","&uArr;":"\u21D1","&uHar;":"\u2963","&uacute":"\xFA","&uacute;":"\xFA","&uarr;":"\u2191","&ubrcy;":"\u045E","&ubreve;":"\u016D","&ucirc":"\xFB","&ucirc;":"\xFB","&ucy;":"\u0443","&udarr;":"\u21C5","&udblac;":"\u0171","&udhar;":"\u296E","&ufisht;":"\u297E","&ufr;":"\u{1D532}","&ugrave":"\xF9","&ugrave;":"\xF9","&uharl;":"\u21BF","&uharr;":"\u21BE","&uhblk;":"\u2580","&ulcorn;":"\u231C","&ulcorner;":"\u231C","&ulcrop;":"\u230F","&ultri;":"\u25F8","&umacr;":"\u016B","&uml":"\xA8","&uml;":"\xA8","&uogon;":"\u0173","&uopf;":"\u{1D566}","&uparrow;":"\u2191","&updownarrow;":"\u2195","&upharpoonleft;":"\u21BF","&upharpoonright;":"\u21BE","&uplus;":"\u228E","&upsi;":"\u03C5","&upsih;":"\u03D2","&upsilon;":"\u03C5","&upuparrows;":"\u21C8","&urcorn;":"\u231D","&urcorner;":"\u231D","&urcrop;":"\u230E","&uring;":"\u016F","&urtri;":"\u25F9","&uscr;":"\u{1D4CA}","&utdot;":"\u22F0","&utilde;":"\u0169","&utri;":"\u25B5","&utrif;":"\u25B4","&uuarr;":"\u21C8","&uuml":"\xFC","&uuml;":"\xFC","&uwangle;":"\u29A7","&vArr;":"\u21D5","&vBar;":"\u2AE8","&vBarv;":"\u2AE9","&vDash;":"\u22A8","&vangrt;":"\u299C","&varepsilon;":"\u03F5","&varkappa;":"\u03F0","&varnothing;":"\u2205","&varphi;":"\u03D5","&varpi;":"\u03D6","&varpropto;":"\u221D","&varr;":"\u2195","&varrho;":"\u03F1","&varsigma;":"\u03C2","&varsubsetneq;":"\u228A\uFE00","&varsubsetneqq;":"\u2ACB\uFE00","&varsupsetneq;":"\u228B\uFE00","&varsupsetneqq;":"\u2ACC\uFE00","&vartheta;":"\u03D1","&vartriangleleft;":"\u22B2","&vartriangleright;":"\u22B3","&vcy;":"\u0432","&vdash;":"\u22A2","&vee;":"\u2228","&veebar;":"\u22BB","&veeeq;":"\u225A","&vellip;":"\u22EE","&verbar;":"|","&vert;":"|","&vfr;":"\u{1D533}","&vltri;":"\u22B2","&vnsub;":"\u2282\u20D2","&vnsup;":"\u2283\u20D2","&vopf;":"\u{1D567}","&vprop;":"\u221D","&vrtri;":"\u22B3","&vscr;":"\u{1D4CB}","&vsubnE;":"\u2ACB\uFE00","&vsubne;":"\u228A\uFE00","&vsupnE;":"\u2ACC\uFE00","&vsupne;":"\u228B\uFE00","&vzigzag;":"\u299A","&wcirc;":"\u0175","&wedbar;":"\u2A5F","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&wfr;":"\u{1D534}","&wopf;":"\u{1D568}","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&wscr;":"\u{1D4CC}","&xcap;":"\u22C2","&xcirc;":"\u25EF","&xcup;":"\u22C3","&xdtri;":"\u25BD","&xfr;":"\u{1D535}","&xhArr;":"\u27FA","&xharr;":"\u27F7","&xi;":"\u03BE","&xlArr;":"\u27F8","&xlarr;":"\u27F5","&xmap;":"\u27FC","&xnis;":"\u22FB","&xodot;":"\u2A00","&xopf;":"\u{1D569}","&xoplus;":"\u2A01","&xotime;":"\u2A02","&xrArr;":"\u27F9","&xrarr;":"\u27F6","&xscr;":"\u{1D4CD}","&xsqcup;":"\u2A06","&xuplus;":"\u2A04","&xutri;":"\u25B3","&xvee;":"\u22C1","&xwedge;":"\u22C0","&yacute":"\xFD","&yacute;":"\xFD","&yacy;":"\u044F","&ycirc;":"\u0177","&ycy;":"\u044B","&yen":"\xA5","&yen;":"\xA5","&yfr;":"\u{1D536}","&yicy;":"\u0457","&yopf;":"\u{1D56A}","&yscr;":"\u{1D4CE}","&yucy;":"\u044E","&yuml":"\xFF","&yuml;":"\xFF","&zacute;":"\u017A","&zcaron;":"\u017E","&zcy;":"\u0437","&zdot;":"\u017C","&zeetrf;":"\u2128","&zeta;":"\u03B6","&zfr;":"\u{1D537}","&zhcy;":"\u0436","&zigrarr;":"\u21DD","&zopf;":"\u{1D56B}","&zscr;":"\u{1D4CF}","&zwj;":"\u200D","&zwnj;":"\u200C"},Lw=CZ});function AZ(e){return e.replace(/&(#\d+|#x[a-f0-9]+|[a-z]+\d*);?/gi,(t,r)=>{if(typeof Lw[t]=="string")return Lw[t];if(r.charAt(0)!=="#"||t.charAt(t.length-1)!==";")return t;let n;r.charAt(1)==="x"?n=parseInt(r.substr(2),16):n=parseInt(r.substr(1),10);var s="";return n>=55296&&n<=57343||n>1114111?"\uFFFD":(n>65535&&(n-=65536,s+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),s+=String.fromCharCode(n),s)})}function fo(e){return e.trim().replace(/[<>"'?&]/g,t=>{let r=t.charCodeAt(0).toString(16);return r.length<2&&(r="0"+r),"&#x"+r.toUpperCase()+";"})}function GN(e){return"<div>"+fo(e).replace(/\n/g,"<br />")+"</div>"}function WN(e){return e=e.replace(/\r?\n/g,"").replace(/<\!\-\-.*?\-\->/gi," ").replace(/<br\b[^>]*>/gi,`
`).replace(/<\/?(p|div|table|tr|td|th)\b[^>]*>/gi,`

`).replace(/<script\b[^>]*>.*?<\/script\b[^>]*>/gi," ").replace(/^.*<body\b[^>]*>/i,"").replace(/^.*<\/head\b[^>]*>/i,"").replace(/^.*<\!doctype\b[^>]*>/i,"").replace(/<\/body\b[^>]*>.*$/i,"").replace(/<\/html\b[^>]*>.*$/i,"").replace(/<a\b[^>]*href\s*=\s*["']?([^\s"']+)[^>]*>/gi," ($1) ").replace(/<\/?(span|em|i|strong|b|u|a)\b[^>]*>/gi,"").replace(/<li\b[^>]*>[\n\u0001\s]*/gi,"* ").replace(/<hr\b[^>]*>/g,`
-------------
`).replace(/<[^>]*>/g," ").replace(/\u0001/g,`
`).replace(/[ \t]+/g," ").replace(/^\s+$/gm,"").replace(/\n\n+/g,`

`).replace(/^\n+/,`
`).replace(/\n+$/,`
`),e=AZ(e),e}function YN(e){return[].concat(e.name||[]).concat(e.name?`<${e.address}>`:e.address).join(" ")}function Fw(e){let t=[],r=o((n,s)=>{if(s&&t.push(", "),n.group){let i=`${n.name}:`,a=";";t.push(i),n.group.forEach(r),t.push(a)}else t.push(YN(n))},"processAddress");return e.forEach(r),t.join("")}function QN(e){return`<a href="mailto:${fo(e.address)}" class="postal-email-address">${fo(e.name||`<${e.address}>`)}</a>`}function jw(e){let t=[],r=o((n,s)=>{if(s&&t.push('<span class="postal-email-address-separator">, </span>'),n.group){let i=`<span class="postal-email-address-group">${fo(n.name)}:</span>`,a='<span class="postal-email-address-group">;</span>';t.push(i),n.group.forEach(r),t.push(a)}else t.push(QN(n))},"processAddress");return e.forEach(r),t.join(" ")}function TZ(e,t,r){e=(e||"").toString(),t=t||76;let n=0,s=e.length,i="",a,d;for(;n<s;){if(a=e.substr(n,t),a.length<t){i+=a;break}if(d=a.match(/^[^\n\r]*(\r?\n|\r)/)){a=d[0],i+=a,n+=a.length;continue}else(d=a.match(/(\s+)[^\s]*$/))&&d[0].length-(r?(d[1]||"").length:0)<a.length?a=a.substr(0,a.length-(d[0].length-(r?(d[1]||"").length:0))):(d=e.substr(n+a.length).match(/^[^\s]+(\s*)/))&&(a=a+d[0].substr(0,d[0].length-(r?0:(d[1]||"").length)));i+=a,n+=a.length,n<s&&(i+=`\r
`)}return i}function Uw(e){let t=[];if(e.from&&t.push({key:"From",val:YN(e.from)}),e.subject&&t.push({key:"Subject",val:e.subject}),e.date){let a={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1},d=typeof Intl>"u"?e.date:new Intl.DateTimeFormat("default",a).format(new Date(e.date));t.push({key:"Date",val:d})}e.to&&e.to.length&&t.push({key:"To",val:Fw(e.to)}),e.cc&&e.cc.length&&t.push({key:"Cc",val:Fw(e.cc)}),e.bcc&&e.bcc.length&&t.push({key:"Bcc",val:Fw(e.bcc)});let r=t.map(a=>a.key.length).reduce((a,d)=>d>a?d:a,0);t=t.flatMap(a=>{let d=r-a.key.length,p=`${a.key}: ${" ".repeat(d)}`,f=`${" ".repeat(a.key.length+1)} ${" ".repeat(d)}`;return TZ(a.val,80,!0).split(/\r?\n/).map(h=>h.trim()).map((h,g)=>`${g?f:p}${h}`)});let n=t.map(a=>a.length).reduce((a,d)=>d>a?d:a,0),s="-".repeat(n);return`
${s}
${t.join(`
`)}
${s}
`}function qw(e){let t=[];if(e.from&&t.push(`<div class="postal-email-header-key">From</div><div class="postal-email-header-value">${QN(e.from)}</div>`),e.subject&&t.push(`<div class="postal-email-header-key">Subject</div><div class="postal-email-header-value postal-email-header-subject">${fo(e.subject)}</div>`),e.date){let n={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1},s=typeof Intl>"u"?e.date:new Intl.DateTimeFormat("default",n).format(new Date(e.date));t.push(`<div class="postal-email-header-key">Date</div><div class="postal-email-header-value postal-email-header-date" data-date="${fo(e.date)}">${fo(s)}</div>`)}return e.to&&e.to.length&&t.push(`<div class="postal-email-header-key">To</div><div class="postal-email-header-value">${jw(e.to)}</div>`),e.cc&&e.cc.length&&t.push(`<div class="postal-email-header-key">Cc</div><div class="postal-email-header-value">${jw(e.cc)}</div>`),e.bcc&&e.bcc.length&&t.push(`<div class="postal-email-header-key">Bcc</div><div class="postal-email-header-value">${jw(e.bcc)}</div>`),`<div class="postal-email-header">${t.length?'<div class="postal-email-header-row">':""}${t.join(`</div>
<div class="postal-email-header-row">`)}${t.length?"</div>":""}</div>`}var XN=fe(()=>{l();u();c();KN();o(AZ,"decodeHTMLEntities");o(fo,"escapeHtml");o(GN,"textToHtml");o(WN,"htmlToText");o(YN,"formatTextAddress");o(Fw,"formatTextAddresses");o(QN,"formatHtmlAddress");o(jw,"formatHtmlAddresses");o(TZ,"foldLines");o(Uw,"formatTextHeader");o(qw,"formatHtmlHeader")});function OZ(e,t){let r=!1,n="text",s,i=[],a={address:[],comment:[],group:[],text:[],textWasQuoted:[]},d,p,f=!1;for(d=0,p=e.length;d<p;d++){let m=e[d],h=d?e[d-1]:null;if(m.type==="operator")switch(m.value){case"<":n="address",f=!1;break;case"(":n="comment",f=!1;break;case":":n="group",r=!0,f=!1;break;case'"':f=!f,n="text";break;default:n="text",f=!1;break}else m.value&&(n==="address"&&(m.value=m.value.replace(/^[^<]*<\s*/,"")),h&&h.noBreak&&a[n].length?(a[n][a[n].length-1]+=m.value,n==="text"&&f&&(a.textWasQuoted[a.textWasQuoted.length-1]=!0)):(a[n].push(m.value),n==="text"&&a.textWasQuoted.push(f)))}if(!a.text.length&&a.comment.length&&(a.text=a.comment,a.comment=[]),r){a.text=a.text.join(" ");let m=[];a.group.length&&zw(a.group.join(","),{_depth:t+1}).forEach(g=>{g.group?m=m.concat(g.group):m.push(g)}),i.push({name:di(a.text||s&&s.name),group:m})}else{if(!a.address.length&&a.text.length){for(d=a.text.length-1;d>=0;d--)if(!a.textWasQuoted[d]&&a.text[d].match(/^[^@\s]+@[^@\s]+$/)){a.address=a.text.splice(d,1),a.textWasQuoted.splice(d,1);break}let m=o(function(h){return a.address.length?h:(a.address=[h.trim()]," ")},"_regexHandler");if(!a.address.length)for(d=a.text.length-1;d>=0&&!(!a.textWasQuoted[d]&&(a.text[d]=a.text[d].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,m).trim(),a.address.length));d--);}if(!a.text.length&&a.comment.length&&(a.text=a.comment,a.comment=[]),a.address.length>1&&(a.text=a.text.concat(a.address.splice(1))),a.text=a.text.join(" "),a.address=a.address.join(" "),!a.address&&/^=\?[^=]+?=$/.test(a.text.trim())){let m=zw(di(a.text));if(m&&m.length)return m}if(!a.address&&r)return[];s={address:a.address||a.text||"",name:di(a.text||a.address||"")},s.address===s.name&&((s.address||"").match(/@/)?s.name="":s.address=""),i.push(s)}return i}function zw(e,t){t=t||{};let r=t._depth||0;if(r>kZ)return[];let s=new Hw(e).tokenize(),i=[],a=[],d=[];if(s.forEach(p=>{p.type==="operator"&&(p.value===","||p.value===";")?(a.length&&i.push(a),a=[]):a.push(p)}),a.length&&i.push(a),i.forEach(p=>{p=OZ(p,r),p.length&&(d=d.concat(p))}),t.flatten){let p=[],f=o(m=>{m.forEach(h=>{if(h.group)return f(h.group);p.push(h)})},"walkAddressList");return f(d),p}return d}var Hw,kZ,ul,ZN=fe(()=>{l();u();c();po();o(OZ,"_handleAddress");Hw=class{static{o(this,"Tokenizer")}constructor(t){this.str=(t||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let t=[];for(let r=0,n=this.str.length;r<n;r++){let s=this.str.charAt(r),i=r<n-1?this.str.charAt(r+1):null;this.checkChar(s,i)}return this.list.forEach(r=>{r.value=(r.value||"").toString().trim(),r.value&&t.push(r)}),t}checkChar(t,r){if(!this.escaped){if(t===this.operatorExpecting){this.node={type:"operator",value:t},r&&![" ","	","\r",`
`,",",";"].includes(r)&&(this.node.noBreak=!0),this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&t in this.operators){this.node={type:"operator",value:t},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[t],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&t==="\\"){this.escaped=!0;return}}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),t===`
`&&(t=" "),(t.charCodeAt(0)>=33||[" ","	"].includes(t))&&(this.node.value+=t),this.escaped=!1}},kZ=50;o(zw,"addressParser");ul=zw});function e3(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(e),s=n.byteLength,i=s%3,a=s-i,d,p,f,m,h,g=0;g<a;g=g+3)h=n[g]<<16|n[g+1]<<8|n[g+2],d=(h&16515072)>>18,p=(h&258048)>>12,f=(h&4032)>>6,m=h&63,t+=r[d]+r[p]+r[f]+r[m];return i==1?(h=n[a],d=(h&252)>>2,p=(h&3)<<4,t+=r[d]+r[p]+"=="):i==2&&(h=n[a]<<8|n[a+1],d=(h&64512)>>10,p=(h&1008)>>4,f=(h&15)<<2,t+=r[d]+r[p]+r[f]+"="),t}var t3=fe(()=>{l();u();c();o(e3,"base64ArrayBuffer")});var r3={};Hn(r3,{addressParser:()=>ul,decodeWords:()=>di,default:()=>gm});var RZ,MZ,gm,n3=fe(()=>{l();u();c();VN();XN();ZN();po();t3();RZ=256,MZ=2*1024*1024,gm=class e{static{o(this,"PostalMime")}static parse(t,r){return new e(r).parse(t)}constructor(t){this.options=t||{},this.mimeOptions={maxNestingDepth:this.options.maxNestingDepth||RZ,maxHeadersSize:this.options.maxHeadersSize||MZ},this.root=this.currentNode=new Wa({postalMime:this,...this.mimeOptions}),this.boundaries=[],this.textContent={},this.attachments=[],this.attachmentEncoding=(this.options.attachmentEncoding||"").toString().replace(/[-_\s]/g,"").trim().toLowerCase()||"arraybuffer",this.started=!1}async finalize(){await this.root.finalize()}async processLine(t,r){let n=this.boundaries;if(n.length&&t.length>2&&t[0]===45&&t[1]===45)for(let s=n.length-1;s>=0;s--){let i=n[s];if(t.length<i.value.length+2)continue;let a=!0;for(let m=0;m<i.value.length;m++)if(t[m+2]!==i.value[m]){a=!1;break}if(!a)continue;let d=i.value.length+2,p=!1;t.length>=i.value.length+4&&t[i.value.length+2]===45&&t[i.value.length+3]===45&&(p=!0,d=i.value.length+4);let f=!0;for(let m=d;m<t.length;m++)if(t[m]!==32&&t[m]!==9){f=!1;break}if(f)return p?(await i.node.finalize(),this.currentNode=i.node.parentNode||this.root):(await i.node.finalizeChildNodes(),this.currentNode=new Wa({postalMime:this,parentNode:i.node,parentMultipartType:i.node.contentType.multipart,...this.mimeOptions})),r?this.finalize():void 0}if(this.currentNode.feed(t),r)return this.finalize()}readLine(){let t=this.readPos,r=this.readPos,n=o(()=>({bytes:new Uint8Array(this.buf,t,r-t),done:this.readPos>=this.av.length}),"res");for(;this.readPos<this.av.length;){let s=this.av[this.readPos++];if(s!==13&&s!==10&&(r=this.readPos),s===10)return n()}return n()}async processNodeTree(){let t={},r=new Set,n=this.textMap=new Map,s=this.forceRfc822Attachments(),i=o(async(a,d,p)=>{if(d=d||!1,p=p||!1,a.contentType.multipart)a.contentType.multipart==="alternative"?d=a:a.contentType.multipart==="related"&&(p=a);else if(this.isInlineMessageRfc822(a)&&!s){let f=new e;a.subMessage=await f.parse(a.content),n.has(a)||n.set(a,{});let m=n.get(a);(a.subMessage.text||!a.subMessage.html)&&(m.plain=m.plain||[],m.plain.push({type:"subMessage",value:a.subMessage}),r.add("plain")),a.subMessage.html&&(m.html=m.html||[],m.html.push({type:"subMessage",value:a.subMessage}),r.add("html")),f.textMap&&f.textMap.forEach((h,g)=>{n.set(g,h)});for(let h of a.subMessage.attachments||[])this.attachments.push(h)}else if(this.isInlineTextNode(a)){let f=a.contentType.parsed.value.substr(a.contentType.parsed.value.indexOf("/")+1),m=d||a;n.has(m)||n.set(m,{});let h=n.get(m);h[f]=h[f]||[],h[f].push({type:"text",value:a.getTextContent()}),r.add(f)}else if(a.content){let f=a.contentDisposition?.parsed?.params?.filename||a.contentType.parsed.params.name||null,m={filename:f?di(f):null,mimeType:a.contentType.parsed.value,disposition:a.contentDisposition?.parsed?.value||null};switch(p&&a.contentId&&(m.related=!0),a.contentDescription&&(m.description=a.contentDescription),a.contentId&&(m.contentId=a.contentId),a.contentType.parsed.value){case"text/calendar":case"application/ics":{a.contentType.parsed.params.method&&(m.method=a.contentType.parsed.params.method.toString().toUpperCase().trim());let h=a.getTextContent().replace(/\r?\n/g,`
`).replace(/\n*$/,`
`);m.content=ui.encode(h);break}default:m.content=a.content}this.attachments.push(m)}for(let f of a.childNodes)await i(f,d,p)},"walk");await i(this.root,!1,[]),n.forEach(a=>{r.forEach(d=>{if(t[d]||(t[d]=[]),a[d])a[d].forEach(p=>{switch(p.type){case"text":t[d].push(p.value);break;case"subMessage":switch(d){case"html":t[d].push(qw(p.value));break;case"plain":t[d].push(Uw(p.value));break}break}});else{let p;switch(d){case"html":p="plain";break;case"plain":p="html";break}(a[p]||[]).forEach(f=>{switch(f.type){case"text":switch(d){case"html":t[d].push(GN(f.value));break;case"plain":t[d].push(WN(f.value));break}break;case"subMessage":switch(d){case"html":t[d].push(qw(f.value));break;case"plain":t[d].push(Uw(f.value));break}break}})}})}),Object.keys(t).forEach(a=>{t[a]=t[a].join(`
`)}),this.textContent=t}isInlineTextNode(t){if(t.contentDisposition?.parsed?.value==="attachment")return!1;switch(t.contentType.parsed?.value){case"text/html":case"text/plain":return!0;case"text/calendar":case"text/csv":default:return!1}}isInlineMessageRfc822(t){return t.contentType.parsed?.value!=="message/rfc822"?!1:(t.contentDisposition?.parsed?.value||(this.options.rfc822Attachments?"attachment":"inline"))==="inline"}forceRfc822Attachments(){if(this.options.forceRfc822Attachments)return!0;let t=!1,r=o(n=>{n.contentType.multipart||n.contentType.parsed&&["message/delivery-status","message/feedback-report"].includes(n.contentType.parsed.value)&&(t=!0);for(let s of n.childNodes)r(s)},"walk");return r(this.root),t}async resolveStream(t){let r=0,n=[],s=t.getReader();for(;;){let{done:d,value:p}=await s.read();if(d)break;n.push(p),r+=p.length}let i=new Uint8Array(r),a=0;for(let d of n)i.set(d,a),a+=d.length;return i}async parse(t){if(this.started)throw new Error("Can not reuse parser, create a new PostalMime object");for(this.started=!0,t&&typeof t.getReader=="function"&&(t=await this.resolveStream(t)),t=t||new ArrayBuffer(0),typeof t=="string"&&(t=ui.encode(t)),(t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]")&&(t=await li(t)),t.buffer instanceof ArrayBuffer&&(t=new Uint8Array(t).buffer),this.buf=t,this.av=new Uint8Array(t),this.readPos=0;this.readPos<this.av.length;){let s=this.readLine();await this.processLine(s.bytes,s.done)}await this.processNodeTree();let r={headers:this.root.headers.map(s=>({key:s.key,value:s.value})).reverse()};for(let s of["from","sender"]){let i=this.root.headers.find(a=>a.key===s);if(i&&i.value){let a=ul(i.value);a&&a.length&&(r[s]=a[0])}}for(let s of["delivered-to","return-path"]){let i=this.root.headers.find(a=>a.key===s);if(i&&i.value){let a=ul(i.value);if(a&&a.length&&a[0].address){let d=s.replace(/\-(.)/g,(p,f)=>f.toUpperCase());r[d]=a[0].address}}}for(let s of["to","cc","bcc","reply-to"]){let i=this.root.headers.filter(d=>d.key===s),a=[];if(i.filter(d=>d&&d.value).map(d=>ul(d.value)).forEach(d=>a=a.concat(d||[])),a&&a.length){let d=s.replace(/\-(.)/g,(p,f)=>f.toUpperCase());r[d]=a}}for(let s of["subject","message-id","in-reply-to","references"]){let i=this.root.headers.find(a=>a.key===s);if(i&&i.value){let a=s.replace(/\-(.)/g,(d,p)=>p.toUpperCase());r[a]=di(i.value)}}let n=this.root.headers.find(s=>s.key==="date");if(n){let s=new Date(n.value);!s||s.toString()==="Invalid Date"?s=n.value:s=s.toISOString(),r.date=s}switch(this.textContent?.html&&(r.html=this.textContent.html),this.textContent?.plain&&(r.text=this.textContent.plain),r.attachments=this.attachments,r.headerLines=(this.root.rawHeaderLines||[]).slice().reverse(),this.attachmentEncoding){case"arraybuffer":break;case"base64":for(let i of r.attachments||[])i?.content&&(i.content=e3(i.content),i.encoding="base64");break;case"utf8":let s=new TextDecoder("utf8");for(let i of r.attachments||[])i?.content&&(i.content=s.decode(i.content),i.encoding="utf8");break;default:throw new Error("Unknwon attachment encoding")}return r}}});var _m=b(vm=>{"use strict";l();u();c();Object.defineProperty(vm,"__esModule",{value:!0});vm.ApplicationInSerializer=void 0;vm.ApplicationInSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}}}});var Kw=b(Sm=>{"use strict";l();u();c();Object.defineProperty(Sm,"__esModule",{value:!0});Sm.ApplicationOutSerializer=void 0;Sm.ApplicationOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt}}}});var c3=b(wm=>{"use strict";l();u();c();Object.defineProperty(wm,"__esModule",{value:!0});wm.ApplicationPatchSerializer=void 0;wm.ApplicationPatchSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}}}});var l3=b(Em=>{"use strict";l();u();c();Object.defineProperty(Em,"__esModule",{value:!0});Em.ListResponseApplicationOutSerializer=void 0;var u3=Kw();Em.ListResponseApplicationOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>u3.ApplicationOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>u3.ApplicationOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var Ww=b(Cm=>{"use strict";l();u();c();Object.defineProperty(Cm,"__esModule",{value:!0});Cm.ApiException=void 0;var Gw=class extends Error{static{o(this,"ApiException")}constructor(t,r,n){super(`HTTP-Code: ${t}
Headers: ${JSON.stringify(n)}`),this.code=t,this.body=r,this.headers={},n.forEach((s,i)=>{this.headers[i]=s})}};Cm.ApiException=Gw});var d3=b(Am=>{"use strict";l();u();c();Object.defineProperty(Am,"__esModule",{value:!0});Am.default=void 0;var Nst=Am.default="ffffffff-ffff-ffff-ffff-ffffffffffff"});var p3=b(Tm=>{"use strict";l();u();c();Object.defineProperty(Tm,"__esModule",{value:!0});Tm.default=void 0;var qst=Tm.default="00000000-0000-0000-0000-000000000000"});var f3=b(Om=>{"use strict";l();u();c();Object.defineProperty(Om,"__esModule",{value:!0});Om.default=void 0;var Vst=Om.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});var dl=b(km=>{"use strict";l();u();c();Object.defineProperty(km,"__esModule",{value:!0});km.default=void 0;var qZ=HZ(f3());function HZ(e){return e&&e.__esModule?e:{default:e}}o(HZ,"_interopRequireDefault");function zZ(e){return typeof e=="string"&&qZ.default.test(e)}o(zZ,"validate");var Qst=km.default=zZ});var pl=b(Rm=>{"use strict";l();u();c();Object.defineProperty(Rm,"__esModule",{value:!0});Rm.default=void 0;var $Z=JZ(dl());function JZ(e){return e&&e.__esModule?e:{default:e}}o(JZ,"_interopRequireDefault");function VZ(e){if(!(0,$Z.default)(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}o(VZ,"parse");var nit=Rm.default=VZ});var Es=b(fl=>{"use strict";l();u();c();Object.defineProperty(fl,"__esModule",{value:!0});fl.default=void 0;fl.unsafeStringify=m3;var KZ=GZ(dl());function GZ(e){return e&&e.__esModule?e:{default:e}}o(GZ,"_interopRequireDefault");var Rt=[];for(Mm=0;Mm<256;++Mm)Rt.push((Mm+256).toString(16).slice(1));var Mm;function m3(e,t=0){return(Rt[e[t+0]]+Rt[e[t+1]]+Rt[e[t+2]]+Rt[e[t+3]]+"-"+Rt[e[t+4]]+Rt[e[t+5]]+"-"+Rt[e[t+6]]+Rt[e[t+7]]+"-"+Rt[e[t+8]]+Rt[e[t+9]]+"-"+Rt[e[t+10]]+Rt[e[t+11]]+Rt[e[t+12]]+Rt[e[t+13]]+Rt[e[t+14]]+Rt[e[t+15]]).toLowerCase()}o(m3,"unsafeStringify");function WZ(e,t=0){var r=m3(e,t);if(!(0,KZ.default)(r))throw TypeError("Stringified UUID is invalid");return r}o(WZ,"stringify");var uit=fl.default=WZ});var Im=b(Yw=>{"use strict";l();u();c();Object.defineProperty(Yw,"__esModule",{value:!0});Yw.default=QZ;var Pm,YZ=new Uint8Array(16);function QZ(){if(!Pm&&(Pm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pm(YZ)}o(QZ,"rng")});var eE=b(Dm=>{"use strict";l();u();c();Object.defineProperty(Dm,"__esModule",{value:!0});Dm.default=void 0;var XZ=eee(Im()),ZZ=Es();function eee(e){return e&&e.__esModule?e:{default:e}}o(eee,"_interopRequireDefault");var Qw,Bm,Xw=0,Zw=0;function tee(e,t,r){var n=t&&r||0,s=t||new Array(16);e=e||{};var i=e.node,a=e.clockseq;if(e._v6||(i||(i=Qw),a==null&&(a=Bm)),i==null||a==null){var d=e.random||(e.rng||XZ.default)();i==null&&(i=[d[0],d[1],d[2],d[3],d[4],d[5]],!Qw&&!e._v6&&(i[0]|=1,Qw=i)),a==null&&(a=(d[6]<<8|d[7])&16383,Bm===void 0&&!e._v6&&(Bm=a))}var p=e.msecs!==void 0?e.msecs:Date.now(),f=e.nsecs!==void 0?e.nsecs:Zw+1,m=p-Xw+(f-Zw)/1e4;if(m<0&&e.clockseq===void 0&&(a=a+1&16383),(m<0||p>Xw)&&e.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Xw=p,Zw=f,Bm=a,p+=122192928e5;var h=((p&268435455)*1e4+f)%4294967296;s[n++]=h>>>24&255,s[n++]=h>>>16&255,s[n++]=h>>>8&255,s[n++]=h&255;var g=p/4294967296*1e4&268435455;s[n++]=g>>>8&255,s[n++]=g&255,s[n++]=g>>>24&15|16,s[n++]=g>>>16&255,s[n++]=a>>>8|128,s[n++]=a&255;for(var y=0;y<6;++y)s[n+y]=i[y];return t||(0,ZZ.unsafeStringify)(s)}o(tee,"v1");var vit=Dm.default=tee});var rE=b(tE=>{"use strict";l();u();c();Object.defineProperty(tE,"__esModule",{value:!0});tE.default=iee;var ree=see(pl()),nee=Es();function see(e){return e&&e.__esModule?e:{default:e}}o(see,"_interopRequireDefault");function iee(e){var t=typeof e=="string"?(0,ree.default)(e):e,r=oee(t);return typeof e=="string"?(0,nee.unsafeStringify)(r):r}o(iee,"v1ToV6");function oee(e,t=!1){return Uint8Array.of((e[6]&15)<<4|e[7]>>4&15,(e[7]&15)<<4|(e[4]&240)>>4,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,(e[1]&15)<<4|(e[2]&240)>>4,96|e[2]&15,e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}o(oee,"_v1ToV6")});var nE=b(ho=>{"use strict";l();u();c();Object.defineProperty(ho,"__esModule",{value:!0});ho.URL=ho.DNS=void 0;ho.default=fee;var aee=Es(),cee=uee(pl());function uee(e){return e&&e.__esModule?e:{default:e}}o(uee,"_interopRequireDefault");function lee(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}o(lee,"stringToBytes");var dee=ho.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",pee=ho.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function fee(e,t,r){function n(s,i,a,d){var p;if(typeof s=="string"&&(s=lee(s)),typeof i=="string"&&(i=(0,cee.default)(i)),((p=i)===null||p===void 0?void 0:p.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+s.length);if(f.set(i),f.set(s,i.length),f=r(f),f[6]=f[6]&15|t,f[8]=f[8]&63|128,a){d=d||0;for(var m=0;m<16;++m)a[d+m]=f[m];return a}return(0,aee.unsafeStringify)(f)}o(n,"generateUUID");try{n.name=e}catch{}return n.DNS=dee,n.URL=pee,n}o(fee,"v35")});var g3=b(Lm=>{"use strict";l();u();c();Object.defineProperty(Lm,"__esModule",{value:!0});Lm.default=void 0;function mee(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return hee(gee(yee(e),e.length*8))}o(mee,"md5");function hee(e){for(var t=[],r=e.length*32,n="0123456789abcdef",s=0;s<r;s+=8){var i=e[s>>5]>>>s%32&255,a=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(a)}return t}o(hee,"md5ToHexEncodedArray");function h3(e){return(e+64>>>9<<4)+14+1}o(h3,"getOutputLength");function gee(e,t){e[t>>5]|=128<<t%32,e[h3(t)-1]=t;for(var r=1732584193,n=-271733879,s=-1732584194,i=271733878,a=0;a<e.length;a+=16){var d=r,p=n,f=s,m=i;r=qt(r,n,s,i,e[a],7,-680876936),i=qt(i,r,n,s,e[a+1],12,-389564586),s=qt(s,i,r,n,e[a+2],17,606105819),n=qt(n,s,i,r,e[a+3],22,-1044525330),r=qt(r,n,s,i,e[a+4],7,-176418897),i=qt(i,r,n,s,e[a+5],12,1200080426),s=qt(s,i,r,n,e[a+6],17,-1473231341),n=qt(n,s,i,r,e[a+7],22,-45705983),r=qt(r,n,s,i,e[a+8],7,1770035416),i=qt(i,r,n,s,e[a+9],12,-1958414417),s=qt(s,i,r,n,e[a+10],17,-42063),n=qt(n,s,i,r,e[a+11],22,-1990404162),r=qt(r,n,s,i,e[a+12],7,1804603682),i=qt(i,r,n,s,e[a+13],12,-40341101),s=qt(s,i,r,n,e[a+14],17,-1502002290),n=qt(n,s,i,r,e[a+15],22,1236535329),r=Ht(r,n,s,i,e[a+1],5,-165796510),i=Ht(i,r,n,s,e[a+6],9,-1069501632),s=Ht(s,i,r,n,e[a+11],14,643717713),n=Ht(n,s,i,r,e[a],20,-373897302),r=Ht(r,n,s,i,e[a+5],5,-701558691),i=Ht(i,r,n,s,e[a+10],9,38016083),s=Ht(s,i,r,n,e[a+15],14,-660478335),n=Ht(n,s,i,r,e[a+4],20,-405537848),r=Ht(r,n,s,i,e[a+9],5,568446438),i=Ht(i,r,n,s,e[a+14],9,-1019803690),s=Ht(s,i,r,n,e[a+3],14,-187363961),n=Ht(n,s,i,r,e[a+8],20,1163531501),r=Ht(r,n,s,i,e[a+13],5,-1444681467),i=Ht(i,r,n,s,e[a+2],9,-51403784),s=Ht(s,i,r,n,e[a+7],14,1735328473),n=Ht(n,s,i,r,e[a+12],20,-1926607734),r=zt(r,n,s,i,e[a+5],4,-378558),i=zt(i,r,n,s,e[a+8],11,-2022574463),s=zt(s,i,r,n,e[a+11],16,1839030562),n=zt(n,s,i,r,e[a+14],23,-35309556),r=zt(r,n,s,i,e[a+1],4,-1530992060),i=zt(i,r,n,s,e[a+4],11,1272893353),s=zt(s,i,r,n,e[a+7],16,-155497632),n=zt(n,s,i,r,e[a+10],23,-1094730640),r=zt(r,n,s,i,e[a+13],4,681279174),i=zt(i,r,n,s,e[a],11,-358537222),s=zt(s,i,r,n,e[a+3],16,-722521979),n=zt(n,s,i,r,e[a+6],23,76029189),r=zt(r,n,s,i,e[a+9],4,-640364487),i=zt(i,r,n,s,e[a+12],11,-421815835),s=zt(s,i,r,n,e[a+15],16,530742520),n=zt(n,s,i,r,e[a+2],23,-995338651),r=$t(r,n,s,i,e[a],6,-198630844),i=$t(i,r,n,s,e[a+7],10,1126891415),s=$t(s,i,r,n,e[a+14],15,-1416354905),n=$t(n,s,i,r,e[a+5],21,-57434055),r=$t(r,n,s,i,e[a+12],6,1700485571),i=$t(i,r,n,s,e[a+3],10,-1894986606),s=$t(s,i,r,n,e[a+10],15,-1051523),n=$t(n,s,i,r,e[a+1],21,-2054922799),r=$t(r,n,s,i,e[a+8],6,1873313359),i=$t(i,r,n,s,e[a+15],10,-30611744),s=$t(s,i,r,n,e[a+6],15,-1560198380),n=$t(n,s,i,r,e[a+13],21,1309151649),r=$t(r,n,s,i,e[a+4],6,-145523070),i=$t(i,r,n,s,e[a+11],10,-1120210379),s=$t(s,i,r,n,e[a+2],15,718787259),n=$t(n,s,i,r,e[a+9],21,-343485551),r=fi(r,d),n=fi(n,p),s=fi(s,f),i=fi(i,m)}return[r,n,s,i]}o(gee,"wordsToMd5");function yee(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(h3(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}o(yee,"bytesToWords");function fi(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}o(fi,"safeAdd");function bee(e,t){return e<<t|e>>>32-t}o(bee,"bitRotateLeft");function Nm(e,t,r,n,s,i){return fi(bee(fi(fi(t,e),fi(n,i)),s),r)}o(Nm,"md5cmn");function qt(e,t,r,n,s,i,a){return Nm(t&r|~t&n,e,t,s,i,a)}o(qt,"md5ff");function Ht(e,t,r,n,s,i,a){return Nm(t&n|r&~n,e,t,s,i,a)}o(Ht,"md5gg");function zt(e,t,r,n,s,i,a){return Nm(t^r^n,e,t,s,i,a)}o(zt,"md5hh");function $t(e,t,r,n,s,i,a){return Nm(r^(t|~n),e,t,s,i,a)}o($t,"md5ii");var Nit=Lm.default=mee});var b3=b(Fm=>{"use strict";l();u();c();Object.defineProperty(Fm,"__esModule",{value:!0});Fm.default=void 0;var xee=y3(nE()),vee=y3(g3());function y3(e){return e&&e.__esModule?e:{default:e}}o(y3,"_interopRequireDefault");var _ee=(0,xee.default)("v3",48,vee.default),Hit=Fm.default=_ee});var x3=b(jm=>{"use strict";l();u();c();Object.defineProperty(jm,"__esModule",{value:!0});jm.default=void 0;var See=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Git=jm.default={randomUUID:See}});var S3=b(Um=>{"use strict";l();u();c();Object.defineProperty(Um,"__esModule",{value:!0});Um.default=void 0;var v3=_3(x3()),wee=_3(Im()),Eee=Es();function _3(e){return e&&e.__esModule?e:{default:e}}o(_3,"_interopRequireDefault");function Cee(e,t,r){if(v3.default.randomUUID&&!t&&!e)return v3.default.randomUUID();e=e||{};var n=e.random||(e.rng||wee.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=n[s];return t}return(0,Eee.unsafeStringify)(n)}o(Cee,"v4");var Zit=Um.default=Cee});var w3=b(qm=>{"use strict";l();u();c();Object.defineProperty(qm,"__esModule",{value:!0});qm.default=void 0;function Aee(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}o(Aee,"f");function sE(e,t){return e<<t|e>>>32-t}o(sE,"ROTL");function Tee(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var s=0;s<n.length;++s)e.push(n.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,a=Math.ceil(i/16),d=new Array(a),p=0;p<a;++p){for(var f=new Uint32Array(16),m=0;m<16;++m)f[m]=e[p*64+m*4]<<24|e[p*64+m*4+1]<<16|e[p*64+m*4+2]<<8|e[p*64+m*4+3];d[p]=f}d[a-1][14]=(e.length-1)*8/Math.pow(2,32),d[a-1][14]=Math.floor(d[a-1][14]),d[a-1][15]=(e.length-1)*8&4294967295;for(var h=0;h<a;++h){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=d[h][y];for(var x=16;x<80;++x)g[x]=sE(g[x-3]^g[x-8]^g[x-14]^g[x-16],1);for(var _=r[0],E=r[1],T=r[2],k=r[3],D=r[4],I=0;I<80;++I){var N=Math.floor(I/20),G=sE(_,5)+Aee(N,E,T,k)+D+t[N]+g[I]>>>0;D=k,k=T,T=sE(E,30)>>>0,E=_,_=G}r[0]=r[0]+_>>>0,r[1]=r[1]+E>>>0,r[2]=r[2]+T>>>0,r[3]=r[3]+k>>>0,r[4]=r[4]+D>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}o(Tee,"sha1");var iot=qm.default=Tee});var C3=b(Hm=>{"use strict";l();u();c();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.default=void 0;var Oee=E3(nE()),kee=E3(w3());function E3(e){return e&&e.__esModule?e:{default:e}}o(E3,"_interopRequireDefault");var Ree=(0,Oee.default)("v5",80,kee.default),dot=Hm.default=Ree});var k3=b(iE=>{"use strict";l();u();c();Object.defineProperty(iE,"__esModule",{value:!0});iE.default=Lee;var Mee=Es(),Pee=O3(eE()),Iee=O3(rE());function O3(e){return e&&e.__esModule?e:{default:e}}o(O3,"_interopRequireDefault");function A3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}o(A3,"ownKeys");function T3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(r),!0).forEach(function(n){Bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}o(T3,"_objectSpread");function Bee(e,t,r){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}o(Bee,"_defineProperty");function Dee(e){var t=Nee(e,"string");return typeof t=="symbol"?t:t+""}o(Dee,"_toPropertyKey");function Nee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}o(Nee,"_toPrimitive");function Lee(e={},t,r=0){var n=(0,Pee.default)(T3(T3({},e),{},{_v6:!0}),new Uint8Array(16));if(n=(0,Iee.default)(n),t){for(var s=0;s<16;s++)t[r+s]=n[s];return t}return(0,Mee.unsafeStringify)(n)}o(Lee,"v6")});var R3=b(oE=>{"use strict";l();u();c();Object.defineProperty(oE,"__esModule",{value:!0});oE.default=qee;var Fee=Uee(pl()),jee=Es();function Uee(e){return e&&e.__esModule?e:{default:e}}o(Uee,"_interopRequireDefault");function qee(e){var t=typeof e=="string"?(0,Fee.default)(e):e,r=Hee(t);return typeof e=="string"?(0,jee.unsafeStringify)(r):r}o(qee,"v6ToV1");function Hee(e){return Uint8Array.of((e[3]&15)<<4|e[4]>>4&15,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|e[6]&15,e[7],(e[1]&15)<<4|(e[2]&240)>>4,(e[2]&15)<<4|(e[3]&240)>>4,16|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}o(Hee,"_v6ToV1")});var I3=b(zm=>{"use strict";l();u();c();Object.defineProperty(zm,"__esModule",{value:!0});zm.default=void 0;var zee=Jee(Im()),$ee=Es();function Jee(e){return e&&e.__esModule?e:{default:e}}o(Jee,"_interopRequireDefault");var M3=null,P3=null,kn=0;function Vee(e,t,r){e=e||{};var n=t&&r||0,s=t||new Uint8Array(16),i=e.random||(e.rng||zee.default)(),a=e.msecs!==void 0?e.msecs:Date.now(),d=e.seq!==void 0?e.seq:null,p=P3,f=M3;return a>kn&&e.msecs===void 0&&(kn=a,d!==null&&(p=null,f=null)),d!==null&&(d>2147483647&&(d=2147483647),p=d>>>19&4095,f=d&524287),(p===null||f===null)&&(p=i[6]&127,p=p<<8|i[7],f=i[8]&63,f=f<<8|i[9],f=f<<5|i[10]>>>3),a+1e4>kn&&d===null?++f>524287&&(f=0,++p>4095&&(p=0,kn++)):kn=a,P3=p,M3=f,s[n++]=kn/1099511627776&255,s[n++]=kn/4294967296&255,s[n++]=kn/16777216&255,s[n++]=kn/65536&255,s[n++]=kn/256&255,s[n++]=kn&255,s[n++]=p>>>4&15|112,s[n++]=p&255,s[n++]=f>>>13&63|128,s[n++]=f>>>5&255,s[n++]=f<<3&255|i[10]&7,s[n++]=i[11],s[n++]=i[12],s[n++]=i[13],s[n++]=i[14],s[n++]=i[15],t||(0,$ee.unsafeStringify)(s)}o(Vee,"v7");var Tot=zm.default=Vee});var B3=b($m=>{"use strict";l();u();c();Object.defineProperty($m,"__esModule",{value:!0});$m.default=void 0;var Kee=Gee(dl());function Gee(e){return e&&e.__esModule?e:{default:e}}o(Gee,"_interopRequireDefault");function Wee(e){if(!(0,Kee.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}o(Wee,"version");var Iot=$m.default=Wee});var D3=b(Jt=>{"use strict";l();u();c();Object.defineProperty(Jt,"__esModule",{value:!0});Object.defineProperty(Jt,"MAX",{enumerable:!0,get:o(function(){return Yee.default},"get")});Object.defineProperty(Jt,"NIL",{enumerable:!0,get:o(function(){return Qee.default},"get")});Object.defineProperty(Jt,"parse",{enumerable:!0,get:o(function(){return Xee.default},"get")});Object.defineProperty(Jt,"stringify",{enumerable:!0,get:o(function(){return Zee.default},"get")});Object.defineProperty(Jt,"v1",{enumerable:!0,get:o(function(){return ete.default},"get")});Object.defineProperty(Jt,"v1ToV6",{enumerable:!0,get:o(function(){return tte.default},"get")});Object.defineProperty(Jt,"v3",{enumerable:!0,get:o(function(){return rte.default},"get")});Object.defineProperty(Jt,"v4",{enumerable:!0,get:o(function(){return nte.default},"get")});Object.defineProperty(Jt,"v5",{enumerable:!0,get:o(function(){return ste.default},"get")});Object.defineProperty(Jt,"v6",{enumerable:!0,get:o(function(){return ite.default},"get")});Object.defineProperty(Jt,"v6ToV1",{enumerable:!0,get:o(function(){return ote.default},"get")});Object.defineProperty(Jt,"v7",{enumerable:!0,get:o(function(){return ate.default},"get")});Object.defineProperty(Jt,"validate",{enumerable:!0,get:o(function(){return cte.default},"get")});Object.defineProperty(Jt,"version",{enumerable:!0,get:o(function(){return ute.default},"get")});var Yee=br(d3()),Qee=br(p3()),Xee=br(pl()),Zee=br(Es()),ete=br(eE()),tte=br(rE()),rte=br(b3()),nte=br(S3()),ste=br(C3()),ite=br(k3()),ote=br(R3()),ate=br(I3()),cte=br(dl()),ute=br(B3());function br(e){return e&&e.__esModule?e:{default:e}}o(br,"_interopRequireDefault")});var Ve=b(tn=>{"use strict";l();u();c();var ml=tn&&tn.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return o(s,"adopt"),new(r||(r=Promise))(function(i,a){function d(m){try{f(n.next(m))}catch(h){a(h)}}o(d,"fulfilled");function p(m){try{f(n.throw(m))}catch(h){a(h)}}o(p,"rejected");function f(m){m.done?i(m.value):s(m.value).then(d,p)}o(f,"step"),f((n=n.apply(e,t||[])).next())})};Object.defineProperty(tn,"__esModule",{value:!0});tn.SvixRequest=tn.HttpMethod=tn.LIB_VERSION=void 0;var aE=Ww(),lte=D3();tn.LIB_VERSION="1.84.1";var dte=`svix-libs/${tn.LIB_VERSION}/javascript`,pte;(function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.CONNECT="CONNECT",e.OPTIONS="OPTIONS",e.TRACE="TRACE",e.PATCH="PATCH"})(pte=tn.HttpMethod||(tn.HttpMethod={}));var cE=class{static{o(this,"SvixRequest")}constructor(t,r){this.method=t,this.path=r,this.queryParams={},this.headerParams={}}setPathParam(t,r){let n=this.path.replace(`{${t}}`,encodeURIComponent(r));if(this.path===n)throw new Error(`path parameter ${t} not found`);this.path=n}setQueryParams(t){for(let[r,n]of Object.entries(t))this.setQueryParam(r,n)}setQueryParam(t,r){if(r!=null)if(typeof r=="string")this.queryParams[t]=r;else if(typeof r=="boolean"||typeof r=="number")this.queryParams[t]=r.toString();else if(r instanceof Date)this.queryParams[t]=r.toISOString();else if(Array.isArray(r))r.length>0&&(this.queryParams[t]=r.join(","));else{let n=r;throw new Error(`query parameter ${t} has unsupported type`)}}setHeaderParam(t,r){r!==void 0&&(this.headerParams[t]=r)}setBody(t){this.body=JSON.stringify(t)}send(t,r){return ml(this,void 0,void 0,function*(){let n=yield this.sendInner(t);if(n.status===204)return null;let s=yield n.text();return r(JSON.parse(s))})}sendNoResponseBody(t){return ml(this,void 0,void 0,function*(){yield this.sendInner(t)})}sendInner(t){var r,n;return ml(this,void 0,void 0,function*(){let s=new URL(t.baseUrl+this.path);for(let[p,f]of Object.entries(this.queryParams))s.searchParams.set(p,f);this.headerParams["idempotency-key"]===void 0&&this.method.toUpperCase()==="POST"&&(this.headerParams["idempotency-key"]=`auto_${(0,lte.v4)()}`);let i=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);this.body!=null&&(this.headerParams["content-type"]="application/json");let a="credentials"in Request.prototype,d=yield N3(s,{method:this.method.toString(),body:this.body,headers:Object.assign({accept:"application/json, */*;q=0.8",authorization:`Bearer ${t.token}`,"user-agent":dte,"svix-req-id":i.toString()},this.headerParams),credentials:a?"same-origin":void 0,signal:t.timeout!==void 0?AbortSignal.timeout(t.timeout):void 0},t.retryScheduleInMs,(r=t.retryScheduleInMs)===null||r===void 0?void 0:r[0],((n=t.retryScheduleInMs)===null||n===void 0?void 0:n.length)||t.numRetries,t.fetch);return fte(d)})}};tn.SvixRequest=cE;function fte(e){return ml(this,void 0,void 0,function*(){if(e.status<300)return e;let t=yield e.text();throw e.status===422?new aE.ApiException(e.status,JSON.parse(t),e.headers):e.status>=400&&e.status<=499?new aE.ApiException(e.status,JSON.parse(t),e.headers):new aE.ApiException(e.status,t,e.headers)})}o(fte,"filterResponseForErrors");function N3(e,t,r,n=50,s=2,i=fetch,a=1){return ml(this,void 0,void 0,function*(){let d=o(p=>new Promise(f=>setTimeout(f,p)),"sleep");try{let p=yield i(e,t);if(s<=0||p.status<500)return p}catch(p){if(s<=0)throw p}return yield d(n),t.headers["svix-retry-count"]=a.toString(),n=r?.[a]||n*2,yield N3(e,t,r,n,--s,i,++a)})}o(N3,"sendWithRetry")});var L3=b(Jm=>{"use strict";l();u();c();Object.defineProperty(Jm,"__esModule",{value:!0});Jm.Application=void 0;var uE=_m(),hl=Kw(),mte=c3(),hte=l3(),xr=Ve(),lE=class{static{o(this,"Application")}constructor(t){this.requestCtx=t}list(t){let r=new xr.SvixRequest(xr.HttpMethod.GET,"/api/v1/app");return r.setQueryParams({exclude_apps_with_no_endpoints:t?.excludeAppsWithNoEndpoints,exclude_apps_with_disabled_endpoints:t?.excludeAppsWithDisabledEndpoints,limit:t?.limit,iterator:t?.iterator,order:t?.order}),r.send(this.requestCtx,hte.ListResponseApplicationOutSerializer._fromJsonObject)}create(t,r){let n=new xr.SvixRequest(xr.HttpMethod.POST,"/api/v1/app");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(uE.ApplicationInSerializer._toJsonObject(t)),n.send(this.requestCtx,hl.ApplicationOutSerializer._fromJsonObject)}getOrCreate(t,r){let n=new xr.SvixRequest(xr.HttpMethod.POST,"/api/v1/app");return n.setQueryParam("get_if_exists",!0),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(uE.ApplicationInSerializer._toJsonObject(t)),n.send(this.requestCtx,hl.ApplicationOutSerializer._fromJsonObject)}get(t){let r=new xr.SvixRequest(xr.HttpMethod.GET,"/api/v1/app/{app_id}");return r.setPathParam("app_id",t),r.send(this.requestCtx,hl.ApplicationOutSerializer._fromJsonObject)}update(t,r){let n=new xr.SvixRequest(xr.HttpMethod.PUT,"/api/v1/app/{app_id}");return n.setPathParam("app_id",t),n.setBody(uE.ApplicationInSerializer._toJsonObject(r)),n.send(this.requestCtx,hl.ApplicationOutSerializer._fromJsonObject)}delete(t){let r=new xr.SvixRequest(xr.HttpMethod.DELETE,"/api/v1/app/{app_id}");return r.setPathParam("app_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new xr.SvixRequest(xr.HttpMethod.PATCH,"/api/v1/app/{app_id}");return n.setPathParam("app_id",t),n.setBody(mte.ApplicationPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,hl.ApplicationOutSerializer._fromJsonObject)}};Jm.Application=lE});var F3=b(Vm=>{"use strict";l();u();c();Object.defineProperty(Vm,"__esModule",{value:!0});Vm.ApiTokenOutSerializer=void 0;Vm.ApiTokenOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),expiresAt:e.expiresAt?new Date(e.expiresAt):null,id:e.id,name:e.name,scopes:e.scopes,token:e.token}},_toJsonObject(e){return{createdAt:e.createdAt,expiresAt:e.expiresAt,id:e.id,name:e.name,scopes:e.scopes,token:e.token}}}});var dE=b(go=>{"use strict";l();u();c();Object.defineProperty(go,"__esModule",{value:!0});go.AppPortalCapabilitySerializer=go.AppPortalCapability=void 0;var gte;(function(e){e.ViewBase="ViewBase",e.ViewEndpointSecret="ViewEndpointSecret",e.ManageEndpointSecret="ManageEndpointSecret",e.ManageTransformations="ManageTransformations",e.CreateAttempts="CreateAttempts",e.ManageEndpoint="ManageEndpoint"})(gte=go.AppPortalCapability||(go.AppPortalCapability={}));go.AppPortalCapabilitySerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var q3=b(Km=>{"use strict";l();u();c();Object.defineProperty(Km,"__esModule",{value:!0});Km.AppPortalAccessInSerializer=void 0;var j3=dE(),U3=_m();Km.AppPortalAccessInSerializer={_fromJsonObject(e){var t;return{application:e.application?U3.ApplicationInSerializer._fromJsonObject(e.application):void 0,capabilities:(t=e.capabilities)===null||t===void 0?void 0:t.map(r=>j3.AppPortalCapabilitySerializer._fromJsonObject(r)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}},_toJsonObject(e){var t;return{application:e.application?U3.ApplicationInSerializer._toJsonObject(e.application):void 0,capabilities:(t=e.capabilities)===null||t===void 0?void 0:t.map(r=>j3.AppPortalCapabilitySerializer._toJsonObject(r)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}}}});var H3=b(Gm=>{"use strict";l();u();c();Object.defineProperty(Gm,"__esModule",{value:!0});Gm.AppPortalAccessOutSerializer=void 0;Gm.AppPortalAccessOutSerializer={_fromJsonObject(e){return{token:e.token,url:e.url}},_toJsonObject(e){return{token:e.token,url:e.url}}}});var z3=b(Wm=>{"use strict";l();u();c();Object.defineProperty(Wm,"__esModule",{value:!0});Wm.ApplicationTokenExpireInSerializer=void 0;Wm.ApplicationTokenExpireInSerializer={_fromJsonObject(e){return{expiry:e.expiry,sessionIds:e.sessionIds}},_toJsonObject(e){return{expiry:e.expiry,sessionIds:e.sessionIds}}}});var $3=b(Ym=>{"use strict";l();u();c();Object.defineProperty(Ym,"__esModule",{value:!0});Ym.RotatePollerTokenInSerializer=void 0;Ym.RotatePollerTokenInSerializer={_fromJsonObject(e){return{expiry:e.expiry,oldTokenExpiry:e.oldTokenExpiry}},_toJsonObject(e){return{expiry:e.expiry,oldTokenExpiry:e.oldTokenExpiry}}}});var J3=b(Qm=>{"use strict";l();u();c();Object.defineProperty(Qm,"__esModule",{value:!0});Qm.StreamPortalAccessInSerializer=void 0;Qm.StreamPortalAccessInSerializer={_fromJsonObject(e){return{expiry:e.expiry,featureFlags:e.featureFlags,sessionId:e.sessionId}},_toJsonObject(e){return{expiry:e.expiry,featureFlags:e.featureFlags,sessionId:e.sessionId}}}});var pE=b(Xm=>{"use strict";l();u();c();Object.defineProperty(Xm,"__esModule",{value:!0});Xm.DashboardAccessOutSerializer=void 0;Xm.DashboardAccessOutSerializer={_fromJsonObject(e){return{token:e.token,url:e.url}},_toJsonObject(e){return{token:e.token,url:e.url}}}});var G3=b(Zm=>{"use strict";l();u();c();Object.defineProperty(Zm,"__esModule",{value:!0});Zm.Authentication=void 0;var V3=F3(),yte=q3(),K3=H3(),bte=z3(),xte=$3(),vte=J3(),_te=pE(),vr=Ve(),fE=class{static{o(this,"Authentication")}constructor(t){this.requestCtx=t}appPortalAccess(t,r,n){let s=new vr.SvixRequest(vr.HttpMethod.POST,"/api/v1/auth/app-portal-access/{app_id}");return s.setPathParam("app_id",t),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(yte.AppPortalAccessInSerializer._toJsonObject(r)),s.send(this.requestCtx,K3.AppPortalAccessOutSerializer._fromJsonObject)}expireAll(t,r,n){let s=new vr.SvixRequest(vr.HttpMethod.POST,"/api/v1/auth/app/{app_id}/expire-all");return s.setPathParam("app_id",t),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(bte.ApplicationTokenExpireInSerializer._toJsonObject(r)),s.sendNoResponseBody(this.requestCtx)}dashboardAccess(t,r){let n=new vr.SvixRequest(vr.HttpMethod.POST,"/api/v1/auth/dashboard-access/{app_id}");return n.setPathParam("app_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,_te.DashboardAccessOutSerializer._fromJsonObject)}logout(t){let r=new vr.SvixRequest(vr.HttpMethod.POST,"/api/v1/auth/logout");return r.setHeaderParam("idempotency-key",t?.idempotencyKey),r.sendNoResponseBody(this.requestCtx)}streamPortalAccess(t,r,n){let s=new vr.SvixRequest(vr.HttpMethod.POST,"/api/v1/auth/stream-portal-access/{stream_id}");return s.setPathParam("stream_id",t),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(vte.StreamPortalAccessInSerializer._toJsonObject(r)),s.send(this.requestCtx,K3.AppPortalAccessOutSerializer._fromJsonObject)}getStreamPollerToken(t,r){let n=new vr.SvixRequest(vr.HttpMethod.GET,"/api/v1/auth/stream/{stream_id}/sink/{sink_id}/poller/token");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,V3.ApiTokenOutSerializer._fromJsonObject)}rotateStreamPollerToken(t,r,n,s){let i=new vr.SvixRequest(vr.HttpMethod.POST,"/api/v1/auth/stream/{stream_id}/sink/{sink_id}/poller/token/rotate");return i.setPathParam("stream_id",t),i.setPathParam("sink_id",r),i.setHeaderParam("idempotency-key",s?.idempotencyKey),i.setBody(xte.RotatePollerTokenInSerializer._toJsonObject(n)),i.send(this.requestCtx,V3.ApiTokenOutSerializer._fromJsonObject)}};Zm.Authentication=fE});var mi=b(yo=>{"use strict";l();u();c();Object.defineProperty(yo,"__esModule",{value:!0});yo.BackgroundTaskStatusSerializer=yo.BackgroundTaskStatus=void 0;var Ste;(function(e){e.Running="running",e.Finished="finished",e.Failed="failed"})(Ste=yo.BackgroundTaskStatus||(yo.BackgroundTaskStatus={}));yo.BackgroundTaskStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var hi=b(bo=>{"use strict";l();u();c();Object.defineProperty(bo,"__esModule",{value:!0});bo.BackgroundTaskTypeSerializer=bo.BackgroundTaskType=void 0;var wte;(function(e){e.EndpointReplay="endpoint.replay",e.EndpointRecover="endpoint.recover",e.ApplicationStats="application.stats",e.MessageBroadcast="message.broadcast",e.SdkGenerate="sdk.generate",e.EventTypeAggregate="event-type.aggregate",e.ApplicationPurgeContent="application.purge_content",e.EndpointBulkReplay="endpoint.bulk_replay"})(wte=bo.BackgroundTaskType||(bo.BackgroundTaskType={}));bo.BackgroundTaskTypeSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var mE=b(eh=>{"use strict";l();u();c();Object.defineProperty(eh,"__esModule",{value:!0});eh.BackgroundTaskOutSerializer=void 0;var W3=mi(),Y3=hi();eh.BackgroundTaskOutSerializer={_fromJsonObject(e){return{data:e.data,id:e.id,status:W3.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:Y3.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{data:e.data,id:e.id,status:W3.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:Y3.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var X3=b(th=>{"use strict";l();u();c();Object.defineProperty(th,"__esModule",{value:!0});th.ListResponseBackgroundTaskOutSerializer=void 0;var Q3=mE();th.ListResponseBackgroundTaskOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>Q3.BackgroundTaskOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>Q3.BackgroundTaskOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var Z3=b(nh=>{"use strict";l();u();c();Object.defineProperty(nh,"__esModule",{value:!0});nh.BackgroundTask=void 0;var Ete=mE(),Cte=X3(),rh=Ve(),hE=class{static{o(this,"BackgroundTask")}constructor(t){this.requestCtx=t}list(t){let r=new rh.SvixRequest(rh.HttpMethod.GET,"/api/v1/background-task");return r.setQueryParams({status:t?.status,task:t?.task,limit:t?.limit,iterator:t?.iterator,order:t?.order}),r.send(this.requestCtx,Cte.ListResponseBackgroundTaskOutSerializer._fromJsonObject)}listByEndpoint(t){return this.list(t)}get(t){let r=new rh.SvixRequest(rh.HttpMethod.GET,"/api/v1/background-task/{task_id}");return r.setPathParam("task_id",t),r.send(this.requestCtx,Ete.BackgroundTaskOutSerializer._fromJsonObject)}};nh.BackgroundTask=hE});var Za=b(xo=>{"use strict";l();u();c();Object.defineProperty(xo,"__esModule",{value:!0});xo.ConnectorKindSerializer=xo.ConnectorKind=void 0;var Ate;(function(e){e.Custom="Custom",e.AgenticCommerceProtocol="AgenticCommerceProtocol",e.CloseCrm="CloseCRM",e.CustomerIo="CustomerIO",e.Discord="Discord",e.Hubspot="Hubspot",e.Inngest="Inngest",e.Loops="Loops",e.Otel="Otel",e.Resend="Resend",e.Salesforce="Salesforce",e.Segment="Segment",e.Sendgrid="Sendgrid",e.Slack="Slack",e.Teams="Teams",e.TriggerDev="TriggerDev",e.Windmill="Windmill",e.Zapier="Zapier"})(Ate=xo.ConnectorKind||(xo.ConnectorKind={}));xo.ConnectorKindSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var sh=b(vo=>{"use strict";l();u();c();Object.defineProperty(vo,"__esModule",{value:!0});vo.ConnectorProductSerializer=vo.ConnectorProduct=void 0;var Tte;(function(e){e.Dispatch="Dispatch",e.Stream="Stream"})(Tte=vo.ConnectorProduct||(vo.ConnectorProduct={}));vo.ConnectorProductSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var gE=b(ih=>{"use strict";l();u();c();Object.defineProperty(ih,"__esModule",{value:!0});ih.ConnectorInSerializer=void 0;var eL=Za(),tL=sh();ih.ConnectorInSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?eL.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,productType:e.productType?tL.ConnectorProductSerializer._fromJsonObject(e.productType):void 0,transformation:e.transformation,uid:e.uid}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?eL.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,productType:e.productType?tL.ConnectorProductSerializer._toJsonObject(e.productType):void 0,transformation:e.transformation,uid:e.uid}}}});var ah=b(oh=>{"use strict";l();u();c();Object.defineProperty(oh,"__esModule",{value:!0});oh.ConnectorOutSerializer=void 0;var rL=Za(),nL=sh();oh.ConnectorOutSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,createdAt:new Date(e.createdAt),description:e.description,featureFlags:e.featureFlags,id:e.id,instructions:e.instructions,kind:rL.ConnectorKindSerializer._fromJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,productType:nL.ConnectorProductSerializer._fromJsonObject(e.productType),transformation:e.transformation,transformationUpdatedAt:new Date(e.transformationUpdatedAt),uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,createdAt:e.createdAt,description:e.description,featureFlags:e.featureFlags,id:e.id,instructions:e.instructions,kind:rL.ConnectorKindSerializer._toJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,productType:nL.ConnectorProductSerializer._toJsonObject(e.productType),transformation:e.transformation,transformationUpdatedAt:e.transformationUpdatedAt,uid:e.uid,updatedAt:e.updatedAt}}}});var iL=b(ch=>{"use strict";l();u();c();Object.defineProperty(ch,"__esModule",{value:!0});ch.ConnectorPatchSerializer=void 0;var sL=Za();ch.ConnectorPatchSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?sL.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?sL.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var aL=b(uh=>{"use strict";l();u();c();Object.defineProperty(uh,"__esModule",{value:!0});uh.ConnectorUpdateSerializer=void 0;var oL=Za();uh.ConnectorUpdateSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?oL.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?oL.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var uL=b(lh=>{"use strict";l();u();c();Object.defineProperty(lh,"__esModule",{value:!0});lh.ListResponseConnectorOutSerializer=void 0;var cL=ah();lh.ListResponseConnectorOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>cL.ConnectorOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>cL.ConnectorOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var lL=b(ph=>{"use strict";l();u();c();Object.defineProperty(ph,"__esModule",{value:!0});ph.Connector=void 0;var Ote=gE(),dh=ah(),kte=iL(),Rte=aL(),Mte=uL(),rn=Ve(),yE=class{static{o(this,"Connector")}constructor(t){this.requestCtx=t}list(t){let r=new rn.SvixRequest(rn.HttpMethod.GET,"/api/v1/connector");return r.setQueryParams({limit:t?.limit,iterator:t?.iterator,order:t?.order,product_type:t?.productType}),r.send(this.requestCtx,Mte.ListResponseConnectorOutSerializer._fromJsonObject)}create(t,r){let n=new rn.SvixRequest(rn.HttpMethod.POST,"/api/v1/connector");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(Ote.ConnectorInSerializer._toJsonObject(t)),n.send(this.requestCtx,dh.ConnectorOutSerializer._fromJsonObject)}get(t){let r=new rn.SvixRequest(rn.HttpMethod.GET,"/api/v1/connector/{connector_id}");return r.setPathParam("connector_id",t),r.send(this.requestCtx,dh.ConnectorOutSerializer._fromJsonObject)}update(t,r){let n=new rn.SvixRequest(rn.HttpMethod.PUT,"/api/v1/connector/{connector_id}");return n.setPathParam("connector_id",t),n.setBody(Rte.ConnectorUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,dh.ConnectorOutSerializer._fromJsonObject)}delete(t){let r=new rn.SvixRequest(rn.HttpMethod.DELETE,"/api/v1/connector/{connector_id}");return r.setPathParam("connector_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new rn.SvixRequest(rn.HttpMethod.PATCH,"/api/v1/connector/{connector_id}");return n.setPathParam("connector_id",t),n.setBody(kte.ConnectorPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,dh.ConnectorOutSerializer._fromJsonObject)}};ph.Connector=yE});var dL=b(fh=>{"use strict";l();u();c();Object.defineProperty(fh,"__esModule",{value:!0});fh.EndpointHeadersInSerializer=void 0;fh.EndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var bE=b(mh=>{"use strict";l();u();c();Object.defineProperty(mh,"__esModule",{value:!0});mh.EndpointHeadersOutSerializer=void 0;mh.EndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var pL=b(hh=>{"use strict";l();u();c();Object.defineProperty(hh,"__esModule",{value:!0});hh.EndpointHeadersPatchInSerializer=void 0;hh.EndpointHeadersPatchInSerializer={_fromJsonObject(e){return{deleteHeaders:e.deleteHeaders,headers:e.headers}},_toJsonObject(e){return{deleteHeaders:e.deleteHeaders,headers:e.headers}}}});var fL=b(gh=>{"use strict";l();u();c();Object.defineProperty(gh,"__esModule",{value:!0});gh.EndpointInSerializer=void 0;gh.EndpointInSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}}}});var xE=b(yh=>{"use strict";l();u();c();Object.defineProperty(yh,"__esModule",{value:!0});yh.EndpointOutSerializer=void 0;yh.EndpointOutSerializer={_fromJsonObject(e){return{channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version}}}});var mL=b(bh=>{"use strict";l();u();c();Object.defineProperty(bh,"__esModule",{value:!0});bh.EndpointPatchSerializer=void 0;bh.EndpointPatchSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}}}});var hL=b(xh=>{"use strict";l();u();c();Object.defineProperty(xh,"__esModule",{value:!0});xh.EndpointSecretOutSerializer=void 0;xh.EndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var vE=b(vh=>{"use strict";l();u();c();Object.defineProperty(vh,"__esModule",{value:!0});vh.EndpointSecretRotateInSerializer=void 0;vh.EndpointSecretRotateInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var gL=b(_h=>{"use strict";l();u();c();Object.defineProperty(_h,"__esModule",{value:!0});_h.EndpointStatsSerializer=void 0;_h.EndpointStatsSerializer={_fromJsonObject(e){return{fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}},_toJsonObject(e){return{fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}}}});var yL=b(Sh=>{"use strict";l();u();c();Object.defineProperty(Sh,"__esModule",{value:!0});Sh.EndpointTransformationInSerializer=void 0;Sh.EndpointTransformationInSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var bL=b(wh=>{"use strict";l();u();c();Object.defineProperty(wh,"__esModule",{value:!0});wh.EndpointTransformationOutSerializer=void 0;wh.EndpointTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled,updatedAt:e.updatedAt?new Date(e.updatedAt):null}},_toJsonObject(e){return{code:e.code,enabled:e.enabled,updatedAt:e.updatedAt}}}});var xL=b(Eh=>{"use strict";l();u();c();Object.defineProperty(Eh,"__esModule",{value:!0});Eh.EndpointTransformationPatchSerializer=void 0;Eh.EndpointTransformationPatchSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var vL=b(Ch=>{"use strict";l();u();c();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.EndpointUpdateSerializer=void 0;Ch.EndpointUpdateSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}}}});var _L=b(Ah=>{"use strict";l();u();c();Object.defineProperty(Ah,"__esModule",{value:!0});Ah.EventExampleInSerializer=void 0;Ah.EventExampleInSerializer={_fromJsonObject(e){return{eventType:e.eventType,exampleIndex:e.exampleIndex}},_toJsonObject(e){return{eventType:e.eventType,exampleIndex:e.exampleIndex}}}});var wL=b(Th=>{"use strict";l();u();c();Object.defineProperty(Th,"__esModule",{value:!0});Th.ListResponseEndpointOutSerializer=void 0;var SL=xE();Th.ListResponseEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>SL.EndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>SL.EndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var gl=b(Oh=>{"use strict";l();u();c();Object.defineProperty(Oh,"__esModule",{value:!0});Oh.MessageOutSerializer=void 0;Oh.MessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp}}}});var EL=b(kh=>{"use strict";l();u();c();Object.defineProperty(kh,"__esModule",{value:!0});kh.RecoverInSerializer=void 0;kh.RecoverInSerializer={_fromJsonObject(e){return{since:new Date(e.since),until:e.until?new Date(e.until):null}},_toJsonObject(e){return{since:e.since,until:e.until}}}});var TL=b(Rh=>{"use strict";l();u();c();Object.defineProperty(Rh,"__esModule",{value:!0});Rh.RecoverOutSerializer=void 0;var CL=mi(),AL=hi();Rh.RecoverOutSerializer={_fromJsonObject(e){return{id:e.id,status:CL.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:AL.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:CL.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:AL.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var OL=b(Mh=>{"use strict";l();u();c();Object.defineProperty(Mh,"__esModule",{value:!0});Mh.ReplayInSerializer=void 0;Mh.ReplayInSerializer={_fromJsonObject(e){return{since:new Date(e.since),until:e.until?new Date(e.until):null}},_toJsonObject(e){return{since:e.since,until:e.until}}}});var ML=b(Ph=>{"use strict";l();u();c();Object.defineProperty(Ph,"__esModule",{value:!0});Ph.ReplayOutSerializer=void 0;var kL=mi(),RL=hi();Ph.ReplayOutSerializer={_fromJsonObject(e){return{id:e.id,status:kL.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:RL.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:kL.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:RL.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var PL=b(Bh=>{"use strict";l();u();c();Object.defineProperty(Bh,"__esModule",{value:!0});Bh.Endpoint=void 0;var Pte=dL(),Ite=bE(),Bte=pL(),Dte=fL(),Ih=xE(),Nte=mL(),Lte=hL(),Fte=vE(),jte=gL(),Ute=yL(),qte=bL(),Hte=xL(),zte=vL(),$te=_L(),Jte=wL(),Vte=gl(),Kte=EL(),Gte=TL(),Wte=OL(),Yte=ML(),ye=Ve(),_E=class{static{o(this,"Endpoint")}constructor(t){this.requestCtx=t}list(t,r){let n=new ye.SvixRequest(ye.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint");return n.setPathParam("app_id",t),n.setQueryParams({limit:r?.limit,iterator:r?.iterator,order:r?.order}),n.send(this.requestCtx,Jte.ListResponseEndpointOutSerializer._fromJsonObject)}create(t,r,n){let s=new ye.SvixRequest(ye.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint");return s.setPathParam("app_id",t),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(Dte.EndpointInSerializer._toJsonObject(r)),s.send(this.requestCtx,Ih.EndpointOutSerializer._fromJsonObject)}get(t,r){let n=new ye.SvixRequest(ye.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,Ih.EndpointOutSerializer._fromJsonObject)}update(t,r,n){let s=new ye.SvixRequest(ye.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return s.setPathParam("app_id",t),s.setPathParam("endpoint_id",r),s.setBody(zte.EndpointUpdateSerializer._toJsonObject(n)),s.send(this.requestCtx,Ih.EndpointOutSerializer._fromJsonObject)}delete(t,r){let n=new ye.SvixRequest(ye.HttpMethod.DELETE,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.sendNoResponseBody(this.requestCtx)}patch(t,r,n){let s=new ye.SvixRequest(ye.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return s.setPathParam("app_id",t),s.setPathParam("endpoint_id",r),s.setBody(Nte.EndpointPatchSerializer._toJsonObject(n)),s.send(this.requestCtx,Ih.EndpointOutSerializer._fromJsonObject)}getHeaders(t,r){let n=new ye.SvixRequest(ye.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,Ite.EndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r,n){let s=new ye.SvixRequest(ye.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return s.setPathParam("app_id",t),s.setPathParam("endpoint_id",r),s.setBody(Pte.EndpointHeadersInSerializer._toJsonObject(n)),s.sendNoResponseBody(this.requestCtx)}headersUpdate(t,r,n){return this.updateHeaders(t,r,n)}patchHeaders(t,r,n){let s=new ye.SvixRequest(ye.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return s.setPathParam("app_id",t),s.setPathParam("endpoint_id",r),s.setBody(Bte.EndpointHeadersPatchInSerializer._toJsonObject(n)),s.sendNoResponseBody(this.requestCtx)}headersPatch(t,r,n){return this.patchHeaders(t,r,n)}recover(t,r,n,s){let i=new ye.SvixRequest(ye.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/recover");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",s?.idempotencyKey),i.setBody(Kte.RecoverInSerializer._toJsonObject(n)),i.send(this.requestCtx,Gte.RecoverOutSerializer._fromJsonObject)}replayMissing(t,r,n,s){let i=new ye.SvixRequest(ye.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/replay-missing");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",s?.idempotencyKey),i.setBody(Wte.ReplayInSerializer._toJsonObject(n)),i.send(this.requestCtx,Yte.ReplayOutSerializer._fromJsonObject)}getSecret(t,r){let n=new ye.SvixRequest(ye.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,Lte.EndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,s){let i=new ye.SvixRequest(ye.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",s?.idempotencyKey),i.setBody(Fte.EndpointSecretRotateInSerializer._toJsonObject(n)),i.sendNoResponseBody(this.requestCtx)}sendExample(t,r,n,s){let i=new ye.SvixRequest(ye.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/send-example");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",s?.idempotencyKey),i.setBody($te.EventExampleInSerializer._toJsonObject(n)),i.send(this.requestCtx,Vte.MessageOutSerializer._fromJsonObject)}getStats(t,r,n){let s=new ye.SvixRequest(ye.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/stats");return s.setPathParam("app_id",t),s.setPathParam("endpoint_id",r),s.setQueryParams({since:n?.since,until:n?.until}),s.send(this.requestCtx,jte.EndpointStatsSerializer._fromJsonObject)}transformationGet(t,r){let n=new ye.SvixRequest(ye.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,qte.EndpointTransformationOutSerializer._fromJsonObject)}patchTransformation(t,r,n){let s=new ye.SvixRequest(ye.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return s.setPathParam("app_id",t),s.setPathParam("endpoint_id",r),s.setBody(Hte.EndpointTransformationPatchSerializer._toJsonObject(n)),s.sendNoResponseBody(this.requestCtx)}transformationPartialUpdate(t,r,n){let s=new ye.SvixRequest(ye.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return s.setPathParam("app_id",t),s.setPathParam("endpoint_id",r),s.setBody(Ute.EndpointTransformationInSerializer._toJsonObject(n)),s.sendNoResponseBody(this.requestCtx)}};Bh.Endpoint=_E});var SE=b(Dh=>{"use strict";l();u();c();Object.defineProperty(Dh,"__esModule",{value:!0});Dh.EventTypeInSerializer=void 0;Dh.EventTypeInSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}}}});var DL=b(Nh=>{"use strict";l();u();c();Object.defineProperty(Nh,"__esModule",{value:!0});Nh.EnvironmentInSerializer=void 0;var IL=gE(),BL=SE();Nh.EnvironmentInSerializer={_fromJsonObject(e){var t,r;return{connectors:(t=e.connectors)===null||t===void 0?void 0:t.map(n=>IL.ConnectorInSerializer._fromJsonObject(n)),eventTypes:(r=e.eventTypes)===null||r===void 0?void 0:r.map(n=>BL.EventTypeInSerializer._fromJsonObject(n)),settings:e.settings}},_toJsonObject(e){var t,r;return{connectors:(t=e.connectors)===null||t===void 0?void 0:t.map(n=>IL.ConnectorInSerializer._toJsonObject(n)),eventTypes:(r=e.eventTypes)===null||r===void 0?void 0:r.map(n=>BL.EventTypeInSerializer._toJsonObject(n)),settings:e.settings}}}});var Fh=b(Lh=>{"use strict";l();u();c();Object.defineProperty(Lh,"__esModule",{value:!0});Lh.EventTypeOutSerializer=void 0;Lh.EventTypeOutSerializer={_fromJsonObject(e){return{archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:e.updatedAt}}}});var FL=b(jh=>{"use strict";l();u();c();Object.defineProperty(jh,"__esModule",{value:!0});jh.EnvironmentOutSerializer=void 0;var NL=ah(),LL=Fh();jh.EnvironmentOutSerializer={_fromJsonObject(e){return{connectors:e.connectors.map(t=>NL.ConnectorOutSerializer._fromJsonObject(t)),createdAt:new Date(e.createdAt),eventTypes:e.eventTypes.map(t=>LL.EventTypeOutSerializer._fromJsonObject(t)),settings:e.settings,version:e.version}},_toJsonObject(e){return{connectors:e.connectors.map(t=>NL.ConnectorOutSerializer._toJsonObject(t)),createdAt:e.createdAt,eventTypes:e.eventTypes.map(t=>LL.EventTypeOutSerializer._toJsonObject(t)),settings:e.settings,version:e.version}}}});var jL=b(qh=>{"use strict";l();u();c();Object.defineProperty(qh,"__esModule",{value:!0});qh.Environment=void 0;var Qte=DL(),Xte=FL(),Uh=Ve(),wE=class{static{o(this,"Environment")}constructor(t){this.requestCtx=t}export(t){let r=new Uh.SvixRequest(Uh.HttpMethod.POST,"/api/v1/environment/export");return r.setHeaderParam("idempotency-key",t?.idempotencyKey),r.send(this.requestCtx,Xte.EnvironmentOutSerializer._fromJsonObject)}import(t,r){let n=new Uh.SvixRequest(Uh.HttpMethod.POST,"/api/v1/environment/import");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(Qte.EnvironmentInSerializer._toJsonObject(t)),n.sendNoResponseBody(this.requestCtx)}};qh.Environment=wE});var UL=b(Hh=>{"use strict";l();u();c();Object.defineProperty(Hh,"__esModule",{value:!0});Hh.EventTypeImportOpenApiInSerializer=void 0;Hh.EventTypeImportOpenApiInSerializer={_fromJsonObject(e){return{dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}},_toJsonObject(e){return{dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}}}});var qL=b(zh=>{"use strict";l();u();c();Object.defineProperty(zh,"__esModule",{value:!0});zh.EventTypeFromOpenApiSerializer=void 0;zh.EventTypeFromOpenApiSerializer={_fromJsonObject(e){return{deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}},_toJsonObject(e){return{deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}}}});var zL=b($h=>{"use strict";l();u();c();Object.defineProperty($h,"__esModule",{value:!0});$h.EventTypeImportOpenApiOutDataSerializer=void 0;var HL=qL();$h.EventTypeImportOpenApiOutDataSerializer={_fromJsonObject(e){var t;return{modified:e.modified,toModify:(t=e.to_modify)===null||t===void 0?void 0:t.map(r=>HL.EventTypeFromOpenApiSerializer._fromJsonObject(r))}},_toJsonObject(e){var t;return{modified:e.modified,to_modify:(t=e.toModify)===null||t===void 0?void 0:t.map(r=>HL.EventTypeFromOpenApiSerializer._toJsonObject(r))}}}});var JL=b(Jh=>{"use strict";l();u();c();Object.defineProperty(Jh,"__esModule",{value:!0});Jh.EventTypeImportOpenApiOutSerializer=void 0;var $L=zL();Jh.EventTypeImportOpenApiOutSerializer={_fromJsonObject(e){return{data:$L.EventTypeImportOpenApiOutDataSerializer._fromJsonObject(e.data)}},_toJsonObject(e){return{data:$L.EventTypeImportOpenApiOutDataSerializer._toJsonObject(e.data)}}}});var VL=b(Vh=>{"use strict";l();u();c();Object.defineProperty(Vh,"__esModule",{value:!0});Vh.EventTypePatchSerializer=void 0;Vh.EventTypePatchSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}}}});var KL=b(Kh=>{"use strict";l();u();c();Object.defineProperty(Kh,"__esModule",{value:!0});Kh.EventTypeUpdateSerializer=void 0;Kh.EventTypeUpdateSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}}}});var WL=b(Gh=>{"use strict";l();u();c();Object.defineProperty(Gh,"__esModule",{value:!0});Gh.ListResponseEventTypeOutSerializer=void 0;var GL=Fh();Gh.ListResponseEventTypeOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>GL.EventTypeOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>GL.EventTypeOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var YL=b(Yh=>{"use strict";l();u();c();Object.defineProperty(Yh,"__esModule",{value:!0});Yh.EventType=void 0;var Zte=UL(),ere=JL(),tre=SE(),Wh=Fh(),rre=VL(),nre=KL(),sre=WL(),_r=Ve(),EE=class{static{o(this,"EventType")}constructor(t){this.requestCtx=t}list(t){let r=new _r.SvixRequest(_r.HttpMethod.GET,"/api/v1/event-type");return r.setQueryParams({limit:t?.limit,iterator:t?.iterator,order:t?.order,include_archived:t?.includeArchived,with_content:t?.withContent}),r.send(this.requestCtx,sre.ListResponseEventTypeOutSerializer._fromJsonObject)}create(t,r){let n=new _r.SvixRequest(_r.HttpMethod.POST,"/api/v1/event-type");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(tre.EventTypeInSerializer._toJsonObject(t)),n.send(this.requestCtx,Wh.EventTypeOutSerializer._fromJsonObject)}importOpenapi(t,r){let n=new _r.SvixRequest(_r.HttpMethod.POST,"/api/v1/event-type/import/openapi");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(Zte.EventTypeImportOpenApiInSerializer._toJsonObject(t)),n.send(this.requestCtx,ere.EventTypeImportOpenApiOutSerializer._fromJsonObject)}get(t){let r=new _r.SvixRequest(_r.HttpMethod.GET,"/api/v1/event-type/{event_type_name}");return r.setPathParam("event_type_name",t),r.send(this.requestCtx,Wh.EventTypeOutSerializer._fromJsonObject)}update(t,r){let n=new _r.SvixRequest(_r.HttpMethod.PUT,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setBody(nre.EventTypeUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,Wh.EventTypeOutSerializer._fromJsonObject)}delete(t,r){let n=new _r.SvixRequest(_r.HttpMethod.DELETE,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setQueryParams({expunge:r?.expunge}),n.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new _r.SvixRequest(_r.HttpMethod.PATCH,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setBody(rre.EventTypePatchSerializer._toJsonObject(r)),n.send(this.requestCtx,Wh.EventTypeOutSerializer._fromJsonObject)}};Yh.EventType=EE});var XL=b(Qh=>{"use strict";l();u();c();Object.defineProperty(Qh,"__esModule",{value:!0});Qh.Health=void 0;var QL=Ve(),CE=class{static{o(this,"Health")}constructor(t){this.requestCtx=t}get(){return new QL.SvixRequest(QL.HttpMethod.GET,"/api/v1/health").sendNoResponseBody(this.requestCtx)}};Qh.Health=CE});var ZL=b(Xh=>{"use strict";l();u();c();Object.defineProperty(Xh,"__esModule",{value:!0});Xh.IngestSourceConsumerPortalAccessInSerializer=void 0;Xh.IngestSourceConsumerPortalAccessInSerializer={_fromJsonObject(e){return{expiry:e.expiry,readOnly:e.readOnly}},_toJsonObject(e){return{expiry:e.expiry,readOnly:e.readOnly}}}});var eF=b(Zh=>{"use strict";l();u();c();Object.defineProperty(Zh,"__esModule",{value:!0});Zh.IngestEndpointHeadersInSerializer=void 0;Zh.IngestEndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var tF=b(eg=>{"use strict";l();u();c();Object.defineProperty(eg,"__esModule",{value:!0});eg.IngestEndpointHeadersOutSerializer=void 0;eg.IngestEndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var rF=b(tg=>{"use strict";l();u();c();Object.defineProperty(tg,"__esModule",{value:!0});tg.IngestEndpointInSerializer=void 0;tg.IngestEndpointInSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}}}});var AE=b(rg=>{"use strict";l();u();c();Object.defineProperty(rg,"__esModule",{value:!0});rg.IngestEndpointOutSerializer=void 0;rg.IngestEndpointOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}},_toJsonObject(e){return{createdAt:e.createdAt,description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url}}}});var nF=b(ng=>{"use strict";l();u();c();Object.defineProperty(ng,"__esModule",{value:!0});ng.IngestEndpointSecretInSerializer=void 0;ng.IngestEndpointSecretInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var sF=b(sg=>{"use strict";l();u();c();Object.defineProperty(sg,"__esModule",{value:!0});sg.IngestEndpointSecretOutSerializer=void 0;sg.IngestEndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var iF=b(ig=>{"use strict";l();u();c();Object.defineProperty(ig,"__esModule",{value:!0});ig.IngestEndpointTransformationOutSerializer=void 0;ig.IngestEndpointTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var oF=b(og=>{"use strict";l();u();c();Object.defineProperty(og,"__esModule",{value:!0});og.IngestEndpointTransformationPatchSerializer=void 0;og.IngestEndpointTransformationPatchSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var aF=b(ag=>{"use strict";l();u();c();Object.defineProperty(ag,"__esModule",{value:!0});ag.IngestEndpointUpdateSerializer=void 0;ag.IngestEndpointUpdateSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}}}});var uF=b(cg=>{"use strict";l();u();c();Object.defineProperty(cg,"__esModule",{value:!0});cg.ListResponseIngestEndpointOutSerializer=void 0;var cF=AE();cg.ListResponseIngestEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>cF.IngestEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>cF.IngestEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var lF=b(ug=>{"use strict";l();u();c();Object.defineProperty(ug,"__esModule",{value:!0});ug.IngestEndpoint=void 0;var ire=eF(),ore=tF(),are=rF(),TE=AE(),cre=nF(),ure=sF(),lre=iF(),dre=oF(),pre=aF(),fre=uF(),We=Ve(),OE=class{static{o(this,"IngestEndpoint")}constructor(t){this.requestCtx=t}list(t,r){let n=new We.SvixRequest(We.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint");return n.setPathParam("source_id",t),n.setQueryParams({limit:r?.limit,iterator:r?.iterator,order:r?.order}),n.send(this.requestCtx,fre.ListResponseIngestEndpointOutSerializer._fromJsonObject)}create(t,r,n){let s=new We.SvixRequest(We.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint");return s.setPathParam("source_id",t),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(are.IngestEndpointInSerializer._toJsonObject(r)),s.send(this.requestCtx,TE.IngestEndpointOutSerializer._fromJsonObject)}get(t,r){let n=new We.SvixRequest(We.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,TE.IngestEndpointOutSerializer._fromJsonObject)}update(t,r,n){let s=new We.SvixRequest(We.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return s.setPathParam("source_id",t),s.setPathParam("endpoint_id",r),s.setBody(pre.IngestEndpointUpdateSerializer._toJsonObject(n)),s.send(this.requestCtx,TE.IngestEndpointOutSerializer._fromJsonObject)}delete(t,r){let n=new We.SvixRequest(We.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.sendNoResponseBody(this.requestCtx)}getHeaders(t,r){let n=new We.SvixRequest(We.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,ore.IngestEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r,n){let s=new We.SvixRequest(We.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return s.setPathParam("source_id",t),s.setPathParam("endpoint_id",r),s.setBody(ire.IngestEndpointHeadersInSerializer._toJsonObject(n)),s.sendNoResponseBody(this.requestCtx)}getSecret(t,r){let n=new We.SvixRequest(We.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,ure.IngestEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,s){let i=new We.SvixRequest(We.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("source_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",s?.idempotencyKey),i.setBody(cre.IngestEndpointSecretInSerializer._toJsonObject(n)),i.sendNoResponseBody(this.requestCtx)}getTransformation(t,r){let n=new We.SvixRequest(We.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,lre.IngestEndpointTransformationOutSerializer._fromJsonObject)}setTransformation(t,r,n){let s=new We.SvixRequest(We.HttpMethod.PATCH,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return s.setPathParam("source_id",t),s.setPathParam("endpoint_id",r),s.setBody(dre.IngestEndpointTransformationPatchSerializer._toJsonObject(n)),s.sendNoResponseBody(this.requestCtx)}};ug.IngestEndpoint=OE});var dF=b(lg=>{"use strict";l();u();c();Object.defineProperty(lg,"__esModule",{value:!0});lg.AdobeSignConfigSerializer=void 0;lg.AdobeSignConfigSerializer={_fromJsonObject(e){return{clientId:e.clientId}},_toJsonObject(e){return{clientId:e.clientId}}}});var pF=b(dg=>{"use strict";l();u();c();Object.defineProperty(dg,"__esModule",{value:!0});dg.AirwallexConfigSerializer=void 0;dg.AirwallexConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var fF=b(pg=>{"use strict";l();u();c();Object.defineProperty(pg,"__esModule",{value:!0});pg.CheckbookConfigSerializer=void 0;pg.CheckbookConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var kE=b(fg=>{"use strict";l();u();c();Object.defineProperty(fg,"__esModule",{value:!0});fg.CronConfigSerializer=void 0;fg.CronConfigSerializer={_fromJsonObject(e){return{contentType:e.contentType,payload:e.payload,schedule:e.schedule}},_toJsonObject(e){return{contentType:e.contentType,payload:e.payload,schedule:e.schedule}}}});var mF=b(mg=>{"use strict";l();u();c();Object.defineProperty(mg,"__esModule",{value:!0});mg.DocusignConfigSerializer=void 0;mg.DocusignConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var hF=b(hg=>{"use strict";l();u();c();Object.defineProperty(hg,"__esModule",{value:!0});hg.EasypostConfigSerializer=void 0;hg.EasypostConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var gF=b(gg=>{"use strict";l();u();c();Object.defineProperty(gg,"__esModule",{value:!0});gg.GithubConfigSerializer=void 0;gg.GithubConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var yF=b(yg=>{"use strict";l();u();c();Object.defineProperty(yg,"__esModule",{value:!0});yg.HubspotConfigSerializer=void 0;yg.HubspotConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var bF=b(bg=>{"use strict";l();u();c();Object.defineProperty(bg,"__esModule",{value:!0});bg.OrumIoConfigSerializer=void 0;bg.OrumIoConfigSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var xF=b(xg=>{"use strict";l();u();c();Object.defineProperty(xg,"__esModule",{value:!0});xg.PandaDocConfigSerializer=void 0;xg.PandaDocConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var vF=b(vg=>{"use strict";l();u();c();Object.defineProperty(vg,"__esModule",{value:!0});vg.PortIoConfigSerializer=void 0;vg.PortIoConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var _F=b(_g=>{"use strict";l();u();c();Object.defineProperty(_g,"__esModule",{value:!0});_g.RutterConfigSerializer=void 0;_g.RutterConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var SF=b(Sg=>{"use strict";l();u();c();Object.defineProperty(Sg,"__esModule",{value:!0});Sg.SegmentConfigSerializer=void 0;Sg.SegmentConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var wF=b(wg=>{"use strict";l();u();c();Object.defineProperty(wg,"__esModule",{value:!0});wg.ShopifyConfigSerializer=void 0;wg.ShopifyConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var EF=b(Eg=>{"use strict";l();u();c();Object.defineProperty(Eg,"__esModule",{value:!0});Eg.SlackConfigSerializer=void 0;Eg.SlackConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var CF=b(Cg=>{"use strict";l();u();c();Object.defineProperty(Cg,"__esModule",{value:!0});Cg.StripeConfigSerializer=void 0;Cg.StripeConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var AF=b(Ag=>{"use strict";l();u();c();Object.defineProperty(Ag,"__esModule",{value:!0});Ag.SvixConfigSerializer=void 0;Ag.SvixConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var TF=b(Tg=>{"use strict";l();u();c();Object.defineProperty(Tg,"__esModule",{value:!0});Tg.TelnyxConfigSerializer=void 0;Tg.TelnyxConfigSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var OF=b(Og=>{"use strict";l();u();c();Object.defineProperty(Og,"__esModule",{value:!0});Og.VapiConfigSerializer=void 0;Og.VapiConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var kF=b(kg=>{"use strict";l();u();c();Object.defineProperty(kg,"__esModule",{value:!0});kg.VeriffConfigSerializer=void 0;kg.VeriffConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var RF=b(Rg=>{"use strict";l();u();c();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.ZoomConfigSerializer=void 0;Rg.ZoomConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var QF=b(Mg=>{"use strict";l();u();c();Object.defineProperty(Mg,"__esModule",{value:!0});Mg.IngestSourceInSerializer=void 0;var MF=dF(),PF=pF(),IF=fF(),BF=kE(),DF=mF(),NF=hF(),LF=gF(),FF=yF(),jF=bF(),UF=xF(),qF=vF(),HF=_F(),zF=SF(),$F=wF(),JF=EF(),VF=CF(),we=AF(),KF=TF(),GF=OF(),WF=kF(),YF=RF();Mg.IngestSourceInSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"generic-webhook":return{};case"cron":return BF.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return MF.AdobeSignConfigSerializer._fromJsonObject(e.config);case"beehiiv":return we.SvixConfigSerializer._fromJsonObject(e.config);case"brex":return we.SvixConfigSerializer._fromJsonObject(e.config);case"checkbook":return IF.CheckbookConfigSerializer._fromJsonObject(e.config);case"clerk":return we.SvixConfigSerializer._fromJsonObject(e.config);case"docusign":return DF.DocusignConfigSerializer._fromJsonObject(e.config);case"easypost":return NF.EasypostConfigSerializer._fromJsonObject(e.config);case"github":return LF.GithubConfigSerializer._fromJsonObject(e.config);case"guesty":return we.SvixConfigSerializer._fromJsonObject(e.config);case"hubspot":return FF.HubspotConfigSerializer._fromJsonObject(e.config);case"incident-io":return we.SvixConfigSerializer._fromJsonObject(e.config);case"lithic":return we.SvixConfigSerializer._fromJsonObject(e.config);case"nash":return we.SvixConfigSerializer._fromJsonObject(e.config);case"orum-io":return jF.OrumIoConfigSerializer._fromJsonObject(e.config);case"panda-doc":return UF.PandaDocConfigSerializer._fromJsonObject(e.config);case"port-io":return qF.PortIoConfigSerializer._fromJsonObject(e.config);case"pleo":return we.SvixConfigSerializer._fromJsonObject(e.config);case"replicate":return we.SvixConfigSerializer._fromJsonObject(e.config);case"resend":return we.SvixConfigSerializer._fromJsonObject(e.config);case"rutter":return HF.RutterConfigSerializer._fromJsonObject(e.config);case"safebase":return we.SvixConfigSerializer._fromJsonObject(e.config);case"sardine":return we.SvixConfigSerializer._fromJsonObject(e.config);case"segment":return zF.SegmentConfigSerializer._fromJsonObject(e.config);case"shopify":return $F.ShopifyConfigSerializer._fromJsonObject(e.config);case"slack":return JF.SlackConfigSerializer._fromJsonObject(e.config);case"stripe":return VF.StripeConfigSerializer._fromJsonObject(e.config);case"stych":return we.SvixConfigSerializer._fromJsonObject(e.config);case"svix":return we.SvixConfigSerializer._fromJsonObject(e.config);case"zoom":return YF.ZoomConfigSerializer._fromJsonObject(e.config);case"telnyx":return KF.TelnyxConfigSerializer._fromJsonObject(e.config);case"vapi":return GF.VapiConfigSerializer._fromJsonObject(e.config);case"open-ai":return we.SvixConfigSerializer._fromJsonObject(e.config);case"render":return we.SvixConfigSerializer._fromJsonObject(e.config);case"veriff":return WF.VeriffConfigSerializer._fromJsonObject(e.config);case"airwallex":return PF.AirwallexConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return o(r,"getConfig"),{type:t,config:r(t),metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=BF.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=MF.AdobeSignConfigSerializer._toJsonObject(e.config);break;case"beehiiv":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"brex":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"checkbook":t=IF.CheckbookConfigSerializer._toJsonObject(e.config);break;case"clerk":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"docusign":t=DF.DocusignConfigSerializer._toJsonObject(e.config);break;case"easypost":t=NF.EasypostConfigSerializer._toJsonObject(e.config);break;case"github":t=LF.GithubConfigSerializer._toJsonObject(e.config);break;case"guesty":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"hubspot":t=FF.HubspotConfigSerializer._toJsonObject(e.config);break;case"incident-io":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"lithic":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"nash":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"orum-io":t=jF.OrumIoConfigSerializer._toJsonObject(e.config);break;case"panda-doc":t=UF.PandaDocConfigSerializer._toJsonObject(e.config);break;case"port-io":t=qF.PortIoConfigSerializer._toJsonObject(e.config);break;case"pleo":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"replicate":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"resend":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"rutter":t=HF.RutterConfigSerializer._toJsonObject(e.config);break;case"safebase":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"sardine":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"segment":t=zF.SegmentConfigSerializer._toJsonObject(e.config);break;case"shopify":t=$F.ShopifyConfigSerializer._toJsonObject(e.config);break;case"slack":t=JF.SlackConfigSerializer._toJsonObject(e.config);break;case"stripe":t=VF.StripeConfigSerializer._toJsonObject(e.config);break;case"stych":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"svix":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"zoom":t=YF.ZoomConfigSerializer._toJsonObject(e.config);break;case"telnyx":t=KF.TelnyxConfigSerializer._toJsonObject(e.config);break;case"vapi":t=GF.VapiConfigSerializer._toJsonObject(e.config);break;case"open-ai":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"render":t=we.SvixConfigSerializer._toJsonObject(e.config);break;case"veriff":t=WF.VeriffConfigSerializer._toJsonObject(e.config);break;case"airwallex":t=PF.AirwallexConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,metadata:e.metadata,name:e.name,uid:e.uid}}}});var XF=b(Pg=>{"use strict";l();u();c();Object.defineProperty(Pg,"__esModule",{value:!0});Pg.AdobeSignConfigOutSerializer=void 0;Pg.AdobeSignConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var ZF=b(Ig=>{"use strict";l();u();c();Object.defineProperty(Ig,"__esModule",{value:!0});Ig.AirwallexConfigOutSerializer=void 0;Ig.AirwallexConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var ej=b(Bg=>{"use strict";l();u();c();Object.defineProperty(Bg,"__esModule",{value:!0});Bg.CheckbookConfigOutSerializer=void 0;Bg.CheckbookConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var tj=b(Dg=>{"use strict";l();u();c();Object.defineProperty(Dg,"__esModule",{value:!0});Dg.DocusignConfigOutSerializer=void 0;Dg.DocusignConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var rj=b(Ng=>{"use strict";l();u();c();Object.defineProperty(Ng,"__esModule",{value:!0});Ng.EasypostConfigOutSerializer=void 0;Ng.EasypostConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var nj=b(Lg=>{"use strict";l();u();c();Object.defineProperty(Lg,"__esModule",{value:!0});Lg.GithubConfigOutSerializer=void 0;Lg.GithubConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var sj=b(Fg=>{"use strict";l();u();c();Object.defineProperty(Fg,"__esModule",{value:!0});Fg.HubspotConfigOutSerializer=void 0;Fg.HubspotConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var ij=b(jg=>{"use strict";l();u();c();Object.defineProperty(jg,"__esModule",{value:!0});jg.OrumIoConfigOutSerializer=void 0;jg.OrumIoConfigOutSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var oj=b(Ug=>{"use strict";l();u();c();Object.defineProperty(Ug,"__esModule",{value:!0});Ug.PandaDocConfigOutSerializer=void 0;Ug.PandaDocConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var aj=b(qg=>{"use strict";l();u();c();Object.defineProperty(qg,"__esModule",{value:!0});qg.PortIoConfigOutSerializer=void 0;qg.PortIoConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var cj=b(Hg=>{"use strict";l();u();c();Object.defineProperty(Hg,"__esModule",{value:!0});Hg.RutterConfigOutSerializer=void 0;Hg.RutterConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var uj=b(zg=>{"use strict";l();u();c();Object.defineProperty(zg,"__esModule",{value:!0});zg.SegmentConfigOutSerializer=void 0;zg.SegmentConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var lj=b($g=>{"use strict";l();u();c();Object.defineProperty($g,"__esModule",{value:!0});$g.ShopifyConfigOutSerializer=void 0;$g.ShopifyConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var dj=b(Jg=>{"use strict";l();u();c();Object.defineProperty(Jg,"__esModule",{value:!0});Jg.SlackConfigOutSerializer=void 0;Jg.SlackConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var pj=b(Vg=>{"use strict";l();u();c();Object.defineProperty(Vg,"__esModule",{value:!0});Vg.StripeConfigOutSerializer=void 0;Vg.StripeConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var fj=b(Kg=>{"use strict";l();u();c();Object.defineProperty(Kg,"__esModule",{value:!0});Kg.SvixConfigOutSerializer=void 0;Kg.SvixConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var mj=b(Gg=>{"use strict";l();u();c();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.TelnyxConfigOutSerializer=void 0;Gg.TelnyxConfigOutSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var hj=b(Wg=>{"use strict";l();u();c();Object.defineProperty(Wg,"__esModule",{value:!0});Wg.VapiConfigOutSerializer=void 0;Wg.VapiConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var gj=b(Yg=>{"use strict";l();u();c();Object.defineProperty(Yg,"__esModule",{value:!0});Yg.VeriffConfigOutSerializer=void 0;Yg.VeriffConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var yj=b(Qg=>{"use strict";l();u();c();Object.defineProperty(Qg,"__esModule",{value:!0});Qg.ZoomConfigOutSerializer=void 0;Qg.ZoomConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var RE=b(Xg=>{"use strict";l();u();c();Object.defineProperty(Xg,"__esModule",{value:!0});Xg.IngestSourceOutSerializer=void 0;var bj=XF(),xj=ZF(),vj=ej(),_j=kE(),Sj=tj(),wj=rj(),Ej=nj(),Cj=sj(),Aj=ij(),Tj=oj(),Oj=aj(),kj=cj(),Rj=uj(),Mj=lj(),Pj=dj(),Ij=pj(),Ee=fj(),Bj=mj(),Dj=hj(),Nj=gj(),Lj=yj();Xg.IngestSourceOutSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"generic-webhook":return{};case"cron":return _j.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return bj.AdobeSignConfigOutSerializer._fromJsonObject(e.config);case"beehiiv":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"brex":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"checkbook":return vj.CheckbookConfigOutSerializer._fromJsonObject(e.config);case"clerk":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"docusign":return Sj.DocusignConfigOutSerializer._fromJsonObject(e.config);case"easypost":return wj.EasypostConfigOutSerializer._fromJsonObject(e.config);case"github":return Ej.GithubConfigOutSerializer._fromJsonObject(e.config);case"guesty":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"hubspot":return Cj.HubspotConfigOutSerializer._fromJsonObject(e.config);case"incident-io":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"lithic":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"nash":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"orum-io":return Aj.OrumIoConfigOutSerializer._fromJsonObject(e.config);case"panda-doc":return Tj.PandaDocConfigOutSerializer._fromJsonObject(e.config);case"port-io":return Oj.PortIoConfigOutSerializer._fromJsonObject(e.config);case"pleo":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"replicate":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"resend":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"rutter":return kj.RutterConfigOutSerializer._fromJsonObject(e.config);case"safebase":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"sardine":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"segment":return Rj.SegmentConfigOutSerializer._fromJsonObject(e.config);case"shopify":return Mj.ShopifyConfigOutSerializer._fromJsonObject(e.config);case"slack":return Pj.SlackConfigOutSerializer._fromJsonObject(e.config);case"stripe":return Ij.StripeConfigOutSerializer._fromJsonObject(e.config);case"stych":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"svix":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"zoom":return Lj.ZoomConfigOutSerializer._fromJsonObject(e.config);case"telnyx":return Bj.TelnyxConfigOutSerializer._fromJsonObject(e.config);case"vapi":return Dj.VapiConfigOutSerializer._fromJsonObject(e.config);case"open-ai":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"render":return Ee.SvixConfigOutSerializer._fromJsonObject(e.config);case"veriff":return Nj.VeriffConfigOutSerializer._fromJsonObject(e.config);case"airwallex":return xj.AirwallexConfigOutSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return o(r,"getConfig"),{type:t,config:r(t),createdAt:new Date(e.createdAt),id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=_j.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=bj.AdobeSignConfigOutSerializer._toJsonObject(e.config);break;case"beehiiv":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"brex":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"checkbook":t=vj.CheckbookConfigOutSerializer._toJsonObject(e.config);break;case"clerk":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"docusign":t=Sj.DocusignConfigOutSerializer._toJsonObject(e.config);break;case"easypost":t=wj.EasypostConfigOutSerializer._toJsonObject(e.config);break;case"github":t=Ej.GithubConfigOutSerializer._toJsonObject(e.config);break;case"guesty":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"hubspot":t=Cj.HubspotConfigOutSerializer._toJsonObject(e.config);break;case"incident-io":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"lithic":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"nash":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"orum-io":t=Aj.OrumIoConfigOutSerializer._toJsonObject(e.config);break;case"panda-doc":t=Tj.PandaDocConfigOutSerializer._toJsonObject(e.config);break;case"port-io":t=Oj.PortIoConfigOutSerializer._toJsonObject(e.config);break;case"pleo":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"replicate":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"resend":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"rutter":t=kj.RutterConfigOutSerializer._toJsonObject(e.config);break;case"safebase":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"sardine":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"segment":t=Rj.SegmentConfigOutSerializer._toJsonObject(e.config);break;case"shopify":t=Mj.ShopifyConfigOutSerializer._toJsonObject(e.config);break;case"slack":t=Pj.SlackConfigOutSerializer._toJsonObject(e.config);break;case"stripe":t=Ij.StripeConfigOutSerializer._toJsonObject(e.config);break;case"stych":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"svix":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"zoom":t=Lj.ZoomConfigOutSerializer._toJsonObject(e.config);break;case"telnyx":t=Bj.TelnyxConfigOutSerializer._toJsonObject(e.config);break;case"vapi":t=Dj.VapiConfigOutSerializer._toJsonObject(e.config);break;case"open-ai":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"render":t=Ee.SvixConfigOutSerializer._toJsonObject(e.config);break;case"veriff":t=Nj.VeriffConfigOutSerializer._toJsonObject(e.config);break;case"airwallex":t=xj.AirwallexConfigOutSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,createdAt:e.createdAt,id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}}});var jj=b(Zg=>{"use strict";l();u();c();Object.defineProperty(Zg,"__esModule",{value:!0});Zg.ListResponseIngestSourceOutSerializer=void 0;var Fj=RE();Zg.ListResponseIngestSourceOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>Fj.IngestSourceOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>Fj.IngestSourceOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var Uj=b(ey=>{"use strict";l();u();c();Object.defineProperty(ey,"__esModule",{value:!0});ey.RotateTokenOutSerializer=void 0;ey.RotateTokenOutSerializer={_fromJsonObject(e){return{ingestUrl:e.ingestUrl}},_toJsonObject(e){return{ingestUrl:e.ingestUrl}}}});var Hj=b(ty=>{"use strict";l();u();c();Object.defineProperty(ty,"__esModule",{value:!0});ty.IngestSource=void 0;var qj=QF(),ME=RE(),mre=jj(),hre=Uj(),nn=Ve(),PE=class{static{o(this,"IngestSource")}constructor(t){this.requestCtx=t}list(t){let r=new nn.SvixRequest(nn.HttpMethod.GET,"/ingest/api/v1/source");return r.setQueryParams({limit:t?.limit,iterator:t?.iterator,order:t?.order}),r.send(this.requestCtx,mre.ListResponseIngestSourceOutSerializer._fromJsonObject)}create(t,r){let n=new nn.SvixRequest(nn.HttpMethod.POST,"/ingest/api/v1/source");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(qj.IngestSourceInSerializer._toJsonObject(t)),n.send(this.requestCtx,ME.IngestSourceOutSerializer._fromJsonObject)}get(t){let r=new nn.SvixRequest(nn.HttpMethod.GET,"/ingest/api/v1/source/{source_id}");return r.setPathParam("source_id",t),r.send(this.requestCtx,ME.IngestSourceOutSerializer._fromJsonObject)}update(t,r){let n=new nn.SvixRequest(nn.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}");return n.setPathParam("source_id",t),n.setBody(qj.IngestSourceInSerializer._toJsonObject(r)),n.send(this.requestCtx,ME.IngestSourceOutSerializer._fromJsonObject)}delete(t){let r=new nn.SvixRequest(nn.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}");return r.setPathParam("source_id",t),r.sendNoResponseBody(this.requestCtx)}rotateToken(t,r){let n=new nn.SvixRequest(nn.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/token/rotate");return n.setPathParam("source_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,hre.RotateTokenOutSerializer._fromJsonObject)}};ty.IngestSource=PE});var $j=b(ry=>{"use strict";l();u();c();Object.defineProperty(ry,"__esModule",{value:!0});ry.Ingest=void 0;var gre=pE(),yre=ZL(),bre=lF(),xre=Hj(),zj=Ve(),IE=class{static{o(this,"Ingest")}constructor(t){this.requestCtx=t}get endpoint(){return new bre.IngestEndpoint(this.requestCtx)}get source(){return new xre.IngestSource(this.requestCtx)}dashboard(t,r,n){let s=new zj.SvixRequest(zj.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/dashboard");return s.setPathParam("source_id",t),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(yre.IngestSourceConsumerPortalAccessInSerializer._toJsonObject(r)),s.send(this.requestCtx,gre.DashboardAccessOutSerializer._fromJsonObject)}};ry.Ingest=IE});var Jj=b(ny=>{"use strict";l();u();c();Object.defineProperty(ny,"__esModule",{value:!0});ny.IntegrationInSerializer=void 0;ny.IntegrationInSerializer={_fromJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}}}});var Vj=b(sy=>{"use strict";l();u();c();Object.defineProperty(sy,"__esModule",{value:!0});sy.IntegrationKeyOutSerializer=void 0;sy.IntegrationKeyOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var BE=b(iy=>{"use strict";l();u();c();Object.defineProperty(iy,"__esModule",{value:!0});iy.IntegrationOutSerializer=void 0;iy.IntegrationOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:e.updatedAt}}}});var Kj=b(oy=>{"use strict";l();u();c();Object.defineProperty(oy,"__esModule",{value:!0});oy.IntegrationUpdateSerializer=void 0;oy.IntegrationUpdateSerializer={_fromJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}}}});var Wj=b(ay=>{"use strict";l();u();c();Object.defineProperty(ay,"__esModule",{value:!0});ay.ListResponseIntegrationOutSerializer=void 0;var Gj=BE();ay.ListResponseIntegrationOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>Gj.IntegrationOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>Gj.IntegrationOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var Qj=b(cy=>{"use strict";l();u();c();Object.defineProperty(cy,"__esModule",{value:!0});cy.Integration=void 0;var vre=Jj(),Yj=Vj(),DE=BE(),_re=Kj(),Sre=Wj(),Sr=Ve(),NE=class{static{o(this,"Integration")}constructor(t){this.requestCtx=t}list(t,r){let n=new Sr.SvixRequest(Sr.HttpMethod.GET,"/api/v1/app/{app_id}/integration");return n.setPathParam("app_id",t),n.setQueryParams({limit:r?.limit,iterator:r?.iterator,order:r?.order}),n.send(this.requestCtx,Sre.ListResponseIntegrationOutSerializer._fromJsonObject)}create(t,r,n){let s=new Sr.SvixRequest(Sr.HttpMethod.POST,"/api/v1/app/{app_id}/integration");return s.setPathParam("app_id",t),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(vre.IntegrationInSerializer._toJsonObject(r)),s.send(this.requestCtx,DE.IntegrationOutSerializer._fromJsonObject)}get(t,r){let n=new Sr.SvixRequest(Sr.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.send(this.requestCtx,DE.IntegrationOutSerializer._fromJsonObject)}update(t,r,n){let s=new Sr.SvixRequest(Sr.HttpMethod.PUT,"/api/v1/app/{app_id}/integration/{integ_id}");return s.setPathParam("app_id",t),s.setPathParam("integ_id",r),s.setBody(_re.IntegrationUpdateSerializer._toJsonObject(n)),s.send(this.requestCtx,DE.IntegrationOutSerializer._fromJsonObject)}delete(t,r){let n=new Sr.SvixRequest(Sr.HttpMethod.DELETE,"/api/v1/app/{app_id}/integration/{integ_id}");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.sendNoResponseBody(this.requestCtx)}getKey(t,r){let n=new Sr.SvixRequest(Sr.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}/key");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.send(this.requestCtx,Yj.IntegrationKeyOutSerializer._fromJsonObject)}rotateKey(t,r,n){let s=new Sr.SvixRequest(Sr.HttpMethod.POST,"/api/v1/app/{app_id}/integration/{integ_id}/key/rotate");return s.setPathParam("app_id",t),s.setPathParam("integ_id",r),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.send(this.requestCtx,Yj.IntegrationKeyOutSerializer._fromJsonObject)}};cy.Integration=NE});var eU=b(uy=>{"use strict";l();u();c();Object.defineProperty(uy,"__esModule",{value:!0});uy.ExpungeAllContentsOutSerializer=void 0;var Xj=mi(),Zj=hi();uy.ExpungeAllContentsOutSerializer={_fromJsonObject(e){return{id:e.id,status:Xj.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:Zj.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:Xj.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:Zj.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var rU=b(ly=>{"use strict";l();u();c();Object.defineProperty(ly,"__esModule",{value:!0});ly.ListResponseMessageOutSerializer=void 0;var tU=gl();ly.ListResponseMessageOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>tU.MessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>tU.MessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var nU=b(dy=>{"use strict";l();u();c();Object.defineProperty(dy,"__esModule",{value:!0});dy.PollingEndpointConsumerSeekInSerializer=void 0;dy.PollingEndpointConsumerSeekInSerializer={_fromJsonObject(e){return{after:new Date(e.after)}},_toJsonObject(e){return{after:e.after}}}});var sU=b(py=>{"use strict";l();u();c();Object.defineProperty(py,"__esModule",{value:!0});py.PollingEndpointConsumerSeekOutSerializer=void 0;py.PollingEndpointConsumerSeekOutSerializer={_fromJsonObject(e){return{iterator:e.iterator}},_toJsonObject(e){return{iterator:e.iterator}}}});var iU=b(fy=>{"use strict";l();u();c();Object.defineProperty(fy,"__esModule",{value:!0});fy.PollingEndpointMessageOutSerializer=void 0;fy.PollingEndpointMessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp}}}});var aU=b(my=>{"use strict";l();u();c();Object.defineProperty(my,"__esModule",{value:!0});my.PollingEndpointOutSerializer=void 0;var oU=iU();my.PollingEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>oU.PollingEndpointMessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator}},_toJsonObject(e){return{data:e.data.map(t=>oU.PollingEndpointMessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator}}}});var uU=b(hy=>{"use strict";l();u();c();Object.defineProperty(hy,"__esModule",{value:!0});hy.MessagePoller=void 0;var wre=nU(),Ere=sU(),cU=aU(),ec=Ve(),LE=class{static{o(this,"MessagePoller")}constructor(t){this.requestCtx=t}poll(t,r,n){let s=new ec.SvixRequest(ec.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}");return s.setPathParam("app_id",t),s.setPathParam("sink_id",r),s.setQueryParams({limit:n?.limit,iterator:n?.iterator,event_type:n?.eventType,channel:n?.channel,after:n?.after}),s.send(this.requestCtx,cU.PollingEndpointOutSerializer._fromJsonObject)}consumerPoll(t,r,n,s){let i=new ec.SvixRequest(ec.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}");return i.setPathParam("app_id",t),i.setPathParam("sink_id",r),i.setPathParam("consumer_id",n),i.setQueryParams({limit:s?.limit,iterator:s?.iterator}),i.send(this.requestCtx,cU.PollingEndpointOutSerializer._fromJsonObject)}consumerSeek(t,r,n,s,i){let a=new ec.SvixRequest(ec.HttpMethod.POST,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}/seek");return a.setPathParam("app_id",t),a.setPathParam("sink_id",r),a.setPathParam("consumer_id",n),a.setHeaderParam("idempotency-key",i?.idempotencyKey),a.setBody(wre.PollingEndpointConsumerSeekInSerializer._toJsonObject(s)),a.send(this.requestCtx,Ere.PollingEndpointConsumerSeekOutSerializer._fromJsonObject)}};hy.MessagePoller=LE});var dU=b(gy=>{"use strict";l();u();c();Object.defineProperty(gy,"__esModule",{value:!0});gy.MessageInSerializer=void 0;var lU=_m();gy.MessageInSerializer={_fromJsonObject(e){return{application:e.application?lU.ApplicationInSerializer._fromJsonObject(e.application):void 0,channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}},_toJsonObject(e){return{application:e.application?lU.ApplicationInSerializer._toJsonObject(e.application):void 0,channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}}}});var jE=b(tc=>{"use strict";l();u();c();Object.defineProperty(tc,"__esModule",{value:!0});tc.messageInRaw=tc.Message=void 0;var Cre=eU(),Are=rU(),pU=gl(),Tre=uU(),Xn=Ve(),Ore=dU(),FE=class{static{o(this,"Message")}constructor(t){this.requestCtx=t}get poller(){return new Tre.MessagePoller(this.requestCtx)}list(t,r){let n=new Xn.SvixRequest(Xn.HttpMethod.GET,"/api/v1/app/{app_id}/msg");return n.setPathParam("app_id",t),n.setQueryParams({limit:r?.limit,iterator:r?.iterator,channel:r?.channel,before:r?.before,after:r?.after,with_content:r?.withContent,tag:r?.tag,event_types:r?.eventTypes}),n.send(this.requestCtx,Are.ListResponseMessageOutSerializer._fromJsonObject)}create(t,r,n){let s=new Xn.SvixRequest(Xn.HttpMethod.POST,"/api/v1/app/{app_id}/msg");return s.setPathParam("app_id",t),s.setQueryParams({with_content:n?.withContent}),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(Ore.MessageInSerializer._toJsonObject(r)),s.send(this.requestCtx,pU.MessageOutSerializer._fromJsonObject)}expungeAllContents(t,r){let n=new Xn.SvixRequest(Xn.HttpMethod.POST,"/api/v1/app/{app_id}/msg/expunge-all-contents");return n.setPathParam("app_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,Cre.ExpungeAllContentsOutSerializer._fromJsonObject)}get(t,r,n){let s=new Xn.SvixRequest(Xn.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}");return s.setPathParam("app_id",t),s.setPathParam("msg_id",r),s.setQueryParams({with_content:n?.withContent}),s.send(this.requestCtx,pU.MessageOutSerializer._fromJsonObject)}expungeContent(t,r){let n=new Xn.SvixRequest(Xn.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/content");return n.setPathParam("app_id",t),n.setPathParam("msg_id",r),n.sendNoResponseBody(this.requestCtx)}};tc.Message=FE;function kre(e,t,r){return{eventType:e,payload:{},transformationsParams:{rawPayload:t,headers:r?{"content-type":r}:void 0}}}o(kre,"messageInRaw");tc.messageInRaw=kre});var UE=b(yy=>{"use strict";l();u();c();Object.defineProperty(yy,"__esModule",{value:!0});yy.EmptyResponseSerializer=void 0;yy.EmptyResponseSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var yl=b(_o=>{"use strict";l();u();c();Object.defineProperty(_o,"__esModule",{value:!0});_o.MessageStatusSerializer=_o.MessageStatus=void 0;var Rre;(function(e){e[e.Success=0]="Success",e[e.Pending=1]="Pending",e[e.Fail=2]="Fail",e[e.Sending=3]="Sending"})(Rre=_o.MessageStatus||(_o.MessageStatus={}));_o.MessageStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var bl=b(So=>{"use strict";l();u();c();Object.defineProperty(So,"__esModule",{value:!0});So.MessageStatusTextSerializer=So.MessageStatusText=void 0;var Mre;(function(e){e.Success="success",e.Pending="pending",e.Fail="fail",e.Sending="sending"})(Mre=So.MessageStatusText||(So.MessageStatusText={}));So.MessageStatusTextSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var hU=b(by=>{"use strict";l();u();c();Object.defineProperty(by,"__esModule",{value:!0});by.EndpointMessageOutSerializer=void 0;var fU=yl(),mU=bl();by.EndpointMessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,payload:e.payload,status:fU.MessageStatusSerializer._fromJsonObject(e.status),statusText:mU.MessageStatusTextSerializer._fromJsonObject(e.statusText),tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt,payload:e.payload,status:fU.MessageStatusSerializer._toJsonObject(e.status),statusText:mU.MessageStatusTextSerializer._toJsonObject(e.statusText),tags:e.tags,timestamp:e.timestamp}}}});var yU=b(xy=>{"use strict";l();u();c();Object.defineProperty(xy,"__esModule",{value:!0});xy.ListResponseEndpointMessageOutSerializer=void 0;var gU=hU();xy.ListResponseEndpointMessageOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>gU.EndpointMessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>gU.EndpointMessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var qE=b(wo=>{"use strict";l();u();c();Object.defineProperty(wo,"__esModule",{value:!0});wo.MessageAttemptTriggerTypeSerializer=wo.MessageAttemptTriggerType=void 0;var Pre;(function(e){e[e.Scheduled=0]="Scheduled",e[e.Manual=1]="Manual"})(Pre=wo.MessageAttemptTriggerType||(wo.MessageAttemptTriggerType={}));wo.MessageAttemptTriggerTypeSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var HE=b(vy=>{"use strict";l();u();c();Object.defineProperty(vy,"__esModule",{value:!0});vy.MessageAttemptOutSerializer=void 0;var bU=qE(),xU=gl(),vU=yl(),_U=bl();vy.MessageAttemptOutSerializer={_fromJsonObject(e){return{endpointId:e.endpointId,id:e.id,msg:e.msg?xU.MessageOutSerializer._fromJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:vU.MessageStatusSerializer._fromJsonObject(e.status),statusText:_U.MessageStatusTextSerializer._fromJsonObject(e.statusText),timestamp:new Date(e.timestamp),triggerType:bU.MessageAttemptTriggerTypeSerializer._fromJsonObject(e.triggerType),url:e.url}},_toJsonObject(e){return{endpointId:e.endpointId,id:e.id,msg:e.msg?xU.MessageOutSerializer._toJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:vU.MessageStatusSerializer._toJsonObject(e.status),statusText:_U.MessageStatusTextSerializer._toJsonObject(e.statusText),timestamp:e.timestamp,triggerType:bU.MessageAttemptTriggerTypeSerializer._toJsonObject(e.triggerType),url:e.url}}}});var wU=b(_y=>{"use strict";l();u();c();Object.defineProperty(_y,"__esModule",{value:!0});_y.ListResponseMessageAttemptOutSerializer=void 0;var SU=HE();_y.ListResponseMessageAttemptOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>SU.MessageAttemptOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>SU.MessageAttemptOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var AU=b(Sy=>{"use strict";l();u();c();Object.defineProperty(Sy,"__esModule",{value:!0});Sy.MessageEndpointOutSerializer=void 0;var EU=yl(),CU=bl();Sy.MessageEndpointOutSerializer={_fromJsonObject(e){return{channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,rateLimit:e.rateLimit,status:EU.MessageStatusSerializer._fromJsonObject(e.status),statusText:CU.MessageStatusTextSerializer._fromJsonObject(e.statusText),uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt,rateLimit:e.rateLimit,status:EU.MessageStatusSerializer._toJsonObject(e.status),statusText:CU.MessageStatusTextSerializer._toJsonObject(e.statusText),uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version}}}});var OU=b(wy=>{"use strict";l();u();c();Object.defineProperty(wy,"__esModule",{value:!0});wy.ListResponseMessageEndpointOutSerializer=void 0;var TU=AU();wy.ListResponseMessageEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>TU.MessageEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>TU.MessageEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var RU=b(Ey=>{"use strict";l();u();c();Object.defineProperty(Ey,"__esModule",{value:!0});Ey.MessageAttempt=void 0;var Ire=UE(),Bre=yU(),kU=wU(),Dre=OU(),Nre=HE(),wr=Ve(),zE=class{static{o(this,"MessageAttempt")}constructor(t){this.requestCtx=t}listByEndpoint(t,r,n){let s=new wr.SvixRequest(wr.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/endpoint/{endpoint_id}");return s.setPathParam("app_id",t),s.setPathParam("endpoint_id",r),s.setQueryParams({limit:n?.limit,iterator:n?.iterator,status:n?.status,status_code_class:n?.statusCodeClass,channel:n?.channel,tag:n?.tag,before:n?.before,after:n?.after,with_content:n?.withContent,with_msg:n?.withMsg,event_types:n?.eventTypes}),s.send(this.requestCtx,kU.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listByMsg(t,r,n){let s=new wr.SvixRequest(wr.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/msg/{msg_id}");return s.setPathParam("app_id",t),s.setPathParam("msg_id",r),s.setQueryParams({limit:n?.limit,iterator:n?.iterator,status:n?.status,status_code_class:n?.statusCodeClass,channel:n?.channel,tag:n?.tag,endpoint_id:n?.endpointId,before:n?.before,after:n?.after,with_content:n?.withContent,event_types:n?.eventTypes}),s.send(this.requestCtx,kU.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listAttemptedMessages(t,r,n){let s=new wr.SvixRequest(wr.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/msg");return s.setPathParam("app_id",t),s.setPathParam("endpoint_id",r),s.setQueryParams({limit:n?.limit,iterator:n?.iterator,channel:n?.channel,tag:n?.tag,status:n?.status,before:n?.before,after:n?.after,with_content:n?.withContent,event_types:n?.eventTypes}),s.send(this.requestCtx,Bre.ListResponseEndpointMessageOutSerializer._fromJsonObject)}get(t,r,n){let s=new wr.SvixRequest(wr.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}");return s.setPathParam("app_id",t),s.setPathParam("msg_id",r),s.setPathParam("attempt_id",n),s.send(this.requestCtx,Nre.MessageAttemptOutSerializer._fromJsonObject)}expungeContent(t,r,n){let s=new wr.SvixRequest(wr.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}/content");return s.setPathParam("app_id",t),s.setPathParam("msg_id",r),s.setPathParam("attempt_id",n),s.sendNoResponseBody(this.requestCtx)}listAttemptedDestinations(t,r,n){let s=new wr.SvixRequest(wr.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint");return s.setPathParam("app_id",t),s.setPathParam("msg_id",r),s.setQueryParams({limit:n?.limit,iterator:n?.iterator}),s.send(this.requestCtx,Dre.ListResponseMessageEndpointOutSerializer._fromJsonObject)}resend(t,r,n,s){let i=new wr.SvixRequest(wr.HttpMethod.POST,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint/{endpoint_id}/resend");return i.setPathParam("app_id",t),i.setPathParam("msg_id",r),i.setPathParam("endpoint_id",n),i.setHeaderParam("idempotency-key",s?.idempotencyKey),i.send(this.requestCtx,Ire.EmptyResponseSerializer._fromJsonObject)}};Ey.MessageAttempt=zE});var $E=b(Cy=>{"use strict";l();u();c();Object.defineProperty(Cy,"__esModule",{value:!0});Cy.OperationalWebhookEndpointOutSerializer=void 0;Cy.OperationalWebhookEndpointOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}},_toJsonObject(e){return{createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url}}}});var PU=b(Ay=>{"use strict";l();u();c();Object.defineProperty(Ay,"__esModule",{value:!0});Ay.ListResponseOperationalWebhookEndpointOutSerializer=void 0;var MU=$E();Ay.ListResponseOperationalWebhookEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>MU.OperationalWebhookEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>MU.OperationalWebhookEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var IU=b(Ty=>{"use strict";l();u();c();Object.defineProperty(Ty,"__esModule",{value:!0});Ty.OperationalWebhookEndpointHeadersInSerializer=void 0;Ty.OperationalWebhookEndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var BU=b(Oy=>{"use strict";l();u();c();Object.defineProperty(Oy,"__esModule",{value:!0});Oy.OperationalWebhookEndpointHeadersOutSerializer=void 0;Oy.OperationalWebhookEndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var DU=b(ky=>{"use strict";l();u();c();Object.defineProperty(ky,"__esModule",{value:!0});ky.OperationalWebhookEndpointInSerializer=void 0;ky.OperationalWebhookEndpointInSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}}}});var NU=b(Ry=>{"use strict";l();u();c();Object.defineProperty(Ry,"__esModule",{value:!0});Ry.OperationalWebhookEndpointSecretInSerializer=void 0;Ry.OperationalWebhookEndpointSecretInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var LU=b(My=>{"use strict";l();u();c();Object.defineProperty(My,"__esModule",{value:!0});My.OperationalWebhookEndpointSecretOutSerializer=void 0;My.OperationalWebhookEndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var FU=b(Py=>{"use strict";l();u();c();Object.defineProperty(Py,"__esModule",{value:!0});Py.OperationalWebhookEndpointUpdateSerializer=void 0;Py.OperationalWebhookEndpointUpdateSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}}}});var KE=b(Iy=>{"use strict";l();u();c();Object.defineProperty(Iy,"__esModule",{value:!0});Iy.OperationalWebhookEndpoint=void 0;var Lre=PU(),Fre=IU(),jre=BU(),Ure=DU(),JE=$E(),qre=NU(),Hre=LU(),zre=FU(),Ct=Ve(),VE=class{static{o(this,"OperationalWebhookEndpoint")}constructor(t){this.requestCtx=t}list(t){let r=new Ct.SvixRequest(Ct.HttpMethod.GET,"/api/v1/operational-webhook/endpoint");return r.setQueryParams({limit:t?.limit,iterator:t?.iterator,order:t?.order}),r.send(this.requestCtx,Lre.ListResponseOperationalWebhookEndpointOutSerializer._fromJsonObject)}create(t,r){let n=new Ct.SvixRequest(Ct.HttpMethod.POST,"/api/v1/operational-webhook/endpoint");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(Ure.OperationalWebhookEndpointInSerializer._toJsonObject(t)),n.send(this.requestCtx,JE.OperationalWebhookEndpointOutSerializer._fromJsonObject)}get(t){let r=new Ct.SvixRequest(Ct.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,JE.OperationalWebhookEndpointOutSerializer._fromJsonObject)}update(t,r){let n=new Ct.SvixRequest(Ct.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return n.setPathParam("endpoint_id",t),n.setBody(zre.OperationalWebhookEndpointUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,JE.OperationalWebhookEndpointOutSerializer._fromJsonObject)}delete(t){let r=new Ct.SvixRequest(Ct.HttpMethod.DELETE,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return r.setPathParam("endpoint_id",t),r.sendNoResponseBody(this.requestCtx)}getHeaders(t){let r=new Ct.SvixRequest(Ct.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,jre.OperationalWebhookEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r){let n=new Ct.SvixRequest(Ct.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return n.setPathParam("endpoint_id",t),n.setBody(Fre.OperationalWebhookEndpointHeadersInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}getSecret(t){let r=new Ct.SvixRequest(Ct.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,Hre.OperationalWebhookEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n){let s=new Ct.SvixRequest(Ct.HttpMethod.POST,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret/rotate");return s.setPathParam("endpoint_id",t),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(qre.OperationalWebhookEndpointSecretInSerializer._toJsonObject(r)),s.sendNoResponseBody(this.requestCtx)}};Iy.OperationalWebhookEndpoint=VE});var jU=b(By=>{"use strict";l();u();c();Object.defineProperty(By,"__esModule",{value:!0});By.OperationalWebhook=void 0;var $re=KE(),GE=class{static{o(this,"OperationalWebhook")}constructor(t){this.requestCtx=t}get endpoint(){return new $re.OperationalWebhookEndpoint(this.requestCtx)}};By.OperationalWebhook=GE});var HU=b(Dy=>{"use strict";l();u();c();Object.defineProperty(Dy,"__esModule",{value:!0});Dy.AggregateEventTypesOutSerializer=void 0;var UU=mi(),qU=hi();Dy.AggregateEventTypesOutSerializer={_fromJsonObject(e){return{id:e.id,status:UU.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:qU.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:UU.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:qU.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var zU=b(Ny=>{"use strict";l();u();c();Object.defineProperty(Ny,"__esModule",{value:!0});Ny.AppUsageStatsInSerializer=void 0;Ny.AppUsageStatsInSerializer={_fromJsonObject(e){return{appIds:e.appIds,since:new Date(e.since),until:new Date(e.until)}},_toJsonObject(e){return{appIds:e.appIds,since:e.since,until:e.until}}}});var VU=b(Ly=>{"use strict";l();u();c();Object.defineProperty(Ly,"__esModule",{value:!0});Ly.AppUsageStatsOutSerializer=void 0;var $U=mi(),JU=hi();Ly.AppUsageStatsOutSerializer={_fromJsonObject(e){return{id:e.id,status:$U.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:JU.BackgroundTaskTypeSerializer._fromJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}},_toJsonObject(e){return{id:e.id,status:$U.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:JU.BackgroundTaskTypeSerializer._toJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}}}});var KU=b(jy=>{"use strict";l();u();c();Object.defineProperty(jy,"__esModule",{value:!0});jy.Statistics=void 0;var Jre=HU(),Vre=zU(),Kre=VU(),Fy=Ve(),WE=class{static{o(this,"Statistics")}constructor(t){this.requestCtx=t}aggregateAppStats(t,r){let n=new Fy.SvixRequest(Fy.HttpMethod.POST,"/api/v1/stats/usage/app");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(Vre.AppUsageStatsInSerializer._toJsonObject(t)),n.send(this.requestCtx,Kre.AppUsageStatsOutSerializer._fromJsonObject)}aggregateEventTypes(){return new Fy.SvixRequest(Fy.HttpMethod.PUT,"/api/v1/stats/usage/event-types").send(this.requestCtx,Jre.AggregateEventTypesOutSerializer._fromJsonObject)}};jy.Statistics=WE});var GU=b(Uy=>{"use strict";l();u();c();Object.defineProperty(Uy,"__esModule",{value:!0});Uy.HttpSinkHeadersPatchInSerializer=void 0;Uy.HttpSinkHeadersPatchInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var WU=b(qy=>{"use strict";l();u();c();Object.defineProperty(qy,"__esModule",{value:!0});qy.SinkTransformationOutSerializer=void 0;qy.SinkTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var YE=b(Hy=>{"use strict";l();u();c();Object.defineProperty(Hy,"__esModule",{value:!0});Hy.StreamEventTypeOutSerializer=void 0;Hy.StreamEventTypeOutSerializer={_fromJsonObject(e){return{archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name,updatedAt:e.updatedAt}}}});var QU=b(zy=>{"use strict";l();u();c();Object.defineProperty(zy,"__esModule",{value:!0});zy.ListResponseStreamEventTypeOutSerializer=void 0;var YU=YE();zy.ListResponseStreamEventTypeOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>YU.StreamEventTypeOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>YU.StreamEventTypeOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var XU=b($y=>{"use strict";l();u();c();Object.defineProperty($y,"__esModule",{value:!0});$y.StreamEventTypeInSerializer=void 0;$y.StreamEventTypeInSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}}}});var ZU=b(Jy=>{"use strict";l();u();c();Object.defineProperty(Jy,"__esModule",{value:!0});Jy.StreamEventTypePatchSerializer=void 0;Jy.StreamEventTypePatchSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}}}});var tq=b(Ky=>{"use strict";l();u();c();Object.defineProperty(Ky,"__esModule",{value:!0});Ky.StreamingEventType=void 0;var Gre=QU(),eq=XU(),Vy=YE(),Wre=ZU(),sn=Ve(),QE=class{static{o(this,"StreamingEventType")}constructor(t){this.requestCtx=t}list(t){let r=new sn.SvixRequest(sn.HttpMethod.GET,"/api/v1/stream/event-type");return r.setQueryParams({limit:t?.limit,iterator:t?.iterator,order:t?.order,include_archived:t?.includeArchived}),r.send(this.requestCtx,Gre.ListResponseStreamEventTypeOutSerializer._fromJsonObject)}create(t,r){let n=new sn.SvixRequest(sn.HttpMethod.POST,"/api/v1/stream/event-type");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(eq.StreamEventTypeInSerializer._toJsonObject(t)),n.send(this.requestCtx,Vy.StreamEventTypeOutSerializer._fromJsonObject)}get(t){let r=new sn.SvixRequest(sn.HttpMethod.GET,"/api/v1/stream/event-type/{name}");return r.setPathParam("name",t),r.send(this.requestCtx,Vy.StreamEventTypeOutSerializer._fromJsonObject)}update(t,r){let n=new sn.SvixRequest(sn.HttpMethod.PUT,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setBody(eq.StreamEventTypeInSerializer._toJsonObject(r)),n.send(this.requestCtx,Vy.StreamEventTypeOutSerializer._fromJsonObject)}delete(t,r){let n=new sn.SvixRequest(sn.HttpMethod.DELETE,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setQueryParams({expunge:r?.expunge}),n.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new sn.SvixRequest(sn.HttpMethod.PATCH,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setBody(Wre.StreamEventTypePatchSerializer._toJsonObject(r)),n.send(this.requestCtx,Vy.StreamEventTypeOutSerializer._fromJsonObject)}};Ky.StreamingEventType=QE});var rq=b(Gy=>{"use strict";l();u();c();Object.defineProperty(Gy,"__esModule",{value:!0});Gy.EventInSerializer=void 0;Gy.EventInSerializer={_fromJsonObject(e){return{eventType:e.eventType,payload:e.payload}},_toJsonObject(e){return{eventType:e.eventType,payload:e.payload}}}});var XE=b(Wy=>{"use strict";l();u();c();Object.defineProperty(Wy,"__esModule",{value:!0});Wy.StreamInSerializer=void 0;Wy.StreamInSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,uid:e.uid}}}});var iq=b(Yy=>{"use strict";l();u();c();Object.defineProperty(Yy,"__esModule",{value:!0});Yy.CreateStreamEventsInSerializer=void 0;var nq=rq(),sq=XE();Yy.CreateStreamEventsInSerializer={_fromJsonObject(e){return{events:e.events.map(t=>nq.EventInSerializer._fromJsonObject(t)),stream:e.stream?sq.StreamInSerializer._fromJsonObject(e.stream):void 0}},_toJsonObject(e){return{events:e.events.map(t=>nq.EventInSerializer._toJsonObject(t)),stream:e.stream?sq.StreamInSerializer._toJsonObject(e.stream):void 0}}}});var oq=b(Qy=>{"use strict";l();u();c();Object.defineProperty(Qy,"__esModule",{value:!0});Qy.CreateStreamEventsOutSerializer=void 0;Qy.CreateStreamEventsOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var aq=b(Xy=>{"use strict";l();u();c();Object.defineProperty(Xy,"__esModule",{value:!0});Xy.EventOutSerializer=void 0;Xy.EventOutSerializer={_fromJsonObject(e){return{eventType:e.eventType,payload:e.payload,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{eventType:e.eventType,payload:e.payload,timestamp:e.timestamp}}}});var uq=b(Zy=>{"use strict";l();u();c();Object.defineProperty(Zy,"__esModule",{value:!0});Zy.EventStreamOutSerializer=void 0;var cq=aq();Zy.EventStreamOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>cq.EventOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator}},_toJsonObject(e){return{data:e.data.map(t=>cq.EventOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator}}}});var lq=b(tb=>{"use strict";l();u();c();Object.defineProperty(tb,"__esModule",{value:!0});tb.StreamingEvents=void 0;var Yre=iq(),Qre=oq(),Xre=uq(),eb=Ve(),ZE=class{static{o(this,"StreamingEvents")}constructor(t){this.requestCtx=t}create(t,r,n){let s=new eb.SvixRequest(eb.HttpMethod.POST,"/api/v1/stream/{stream_id}/events");return s.setPathParam("stream_id",t),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(Yre.CreateStreamEventsInSerializer._toJsonObject(r)),s.send(this.requestCtx,Qre.CreateStreamEventsOutSerializer._fromJsonObject)}get(t,r,n){let s=new eb.SvixRequest(eb.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/events");return s.setPathParam("stream_id",t),s.setPathParam("sink_id",r),s.setQueryParams({limit:n?.limit,iterator:n?.iterator,after:n?.after}),s.send(this.requestCtx,Xre.EventStreamOutSerializer._fromJsonObject)}};tb.StreamingEvents=ZE});var eC=b(rb=>{"use strict";l();u();c();Object.defineProperty(rb,"__esModule",{value:!0});rb.AzureBlobStorageConfigSerializer=void 0;rb.AzureBlobStorageConfigSerializer={_fromJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}},_toJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}}}});var tC=b(nb=>{"use strict";l();u();c();Object.defineProperty(nb,"__esModule",{value:!0});nb.GoogleCloudStorageConfigSerializer=void 0;nb.GoogleCloudStorageConfigSerializer={_fromJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}},_toJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}}}});var rC=b(sb=>{"use strict";l();u();c();Object.defineProperty(sb,"__esModule",{value:!0});sb.S3ConfigSerializer=void 0;sb.S3ConfigSerializer={_fromJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}},_toJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}}}});var nC=b(ib=>{"use strict";l();u();c();Object.defineProperty(ib,"__esModule",{value:!0});ib.SinkHttpConfigSerializer=void 0;ib.SinkHttpConfigSerializer={_fromJsonObject(e){return{headers:e.headers,key:e.key,url:e.url}},_toJsonObject(e){return{headers:e.headers,key:e.key,url:e.url}}}});var sC=b(ob=>{"use strict";l();u();c();Object.defineProperty(ob,"__esModule",{value:!0});ob.SinkOtelV1ConfigSerializer=void 0;ob.SinkOtelV1ConfigSerializer={_fromJsonObject(e){return{headers:e.headers,url:e.url}},_toJsonObject(e){return{headers:e.headers,url:e.url}}}});var iC=b(Eo=>{"use strict";l();u();c();Object.defineProperty(Eo,"__esModule",{value:!0});Eo.SinkStatusSerializer=Eo.SinkStatus=void 0;var Zre;(function(e){e.Enabled="enabled",e.Paused="paused",e.Disabled="disabled",e.Retrying="retrying"})(Zre=Eo.SinkStatus||(Eo.SinkStatus={}));Eo.SinkStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var oC=b(ab=>{"use strict";l();u();c();Object.defineProperty(ab,"__esModule",{value:!0});ab.StreamSinkOutSerializer=void 0;var dq=eC(),pq=tC(),fq=rC(),mq=nC(),hq=sC(),gq=iC();ab.StreamSinkOutSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return dq.AzureBlobStorageConfigSerializer._fromJsonObject(e.config);case"otelTracing":return hq.SinkOtelV1ConfigSerializer._fromJsonObject(e.config);case"http":return mq.SinkHttpConfigSerializer._fromJsonObject(e.config);case"amazonS3":return fq.S3ConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return pq.GoogleCloudStorageConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return o(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,createdAt:new Date(e.createdAt),currentIterator:e.currentIterator,eventTypes:e.eventTypes,failureReason:e.failureReason,id:e.id,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,nextRetryAt:e.nextRetryAt?new Date(e.nextRetryAt):null,status:gq.SinkStatusSerializer._fromJsonObject(e.status),uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=dq.AzureBlobStorageConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=hq.SinkOtelV1ConfigSerializer._toJsonObject(e.config);break;case"http":t=mq.SinkHttpConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=fq.S3ConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=pq.GoogleCloudStorageConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,createdAt:e.createdAt,currentIterator:e.currentIterator,eventTypes:e.eventTypes,failureReason:e.failureReason,id:e.id,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,nextRetryAt:e.nextRetryAt,status:gq.SinkStatusSerializer._toJsonObject(e.status),uid:e.uid,updatedAt:e.updatedAt}}}});var bq=b(cb=>{"use strict";l();u();c();Object.defineProperty(cb,"__esModule",{value:!0});cb.ListResponseStreamSinkOutSerializer=void 0;var yq=oC();cb.ListResponseStreamSinkOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>yq.StreamSinkOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>yq.StreamSinkOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var xq=b(ub=>{"use strict";l();u();c();Object.defineProperty(ub,"__esModule",{value:!0});ub.SinkSecretOutSerializer=void 0;ub.SinkSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var vq=b(lb=>{"use strict";l();u();c();Object.defineProperty(lb,"__esModule",{value:!0});lb.SinkTransformInSerializer=void 0;lb.SinkTransformInSerializer={_fromJsonObject(e){return{code:e.code}},_toJsonObject(e){return{code:e.code}}}});var db=b(Co=>{"use strict";l();u();c();Object.defineProperty(Co,"__esModule",{value:!0});Co.SinkStatusInSerializer=Co.SinkStatusIn=void 0;var ene;(function(e){e.Enabled="enabled",e.Disabled="disabled"})(ene=Co.SinkStatusIn||(Co.SinkStatusIn={}));Co.SinkStatusInSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var Tq=b(pb=>{"use strict";l();u();c();Object.defineProperty(pb,"__esModule",{value:!0});pb.StreamSinkInSerializer=void 0;var _q=eC(),Sq=tC(),wq=rC(),Eq=nC(),Cq=sC(),Aq=db();pb.StreamSinkInSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return _q.AzureBlobStorageConfigSerializer._fromJsonObject(e.config);case"otelTracing":return Cq.SinkOtelV1ConfigSerializer._fromJsonObject(e.config);case"http":return Eq.SinkHttpConfigSerializer._fromJsonObject(e.config);case"amazonS3":return wq.S3ConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return Sq.GoogleCloudStorageConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return o(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?Aq.SinkStatusInSerializer._fromJsonObject(e.status):void 0,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=_q.AzureBlobStorageConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=Cq.SinkOtelV1ConfigSerializer._toJsonObject(e.config);break;case"http":t=Eq.SinkHttpConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=wq.S3ConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=Sq.GoogleCloudStorageConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?Aq.SinkStatusInSerializer._toJsonObject(e.status):void 0,uid:e.uid}}}});var Oq=b(fb=>{"use strict";l();u();c();Object.defineProperty(fb,"__esModule",{value:!0});fb.AmazonS3PatchConfigSerializer=void 0;fb.AmazonS3PatchConfigSerializer={_fromJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}},_toJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}}}});var kq=b(mb=>{"use strict";l();u();c();Object.defineProperty(mb,"__esModule",{value:!0});mb.AzureBlobStoragePatchConfigSerializer=void 0;mb.AzureBlobStoragePatchConfigSerializer={_fromJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}},_toJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}}}});var Rq=b(hb=>{"use strict";l();u();c();Object.defineProperty(hb,"__esModule",{value:!0});hb.GoogleCloudStoragePatchConfigSerializer=void 0;hb.GoogleCloudStoragePatchConfigSerializer={_fromJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}},_toJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}}}});var Mq=b(gb=>{"use strict";l();u();c();Object.defineProperty(gb,"__esModule",{value:!0});gb.HttpPatchConfigSerializer=void 0;gb.HttpPatchConfigSerializer={_fromJsonObject(e){return{url:e.url}},_toJsonObject(e){return{url:e.url}}}});var Pq=b(yb=>{"use strict";l();u();c();Object.defineProperty(yb,"__esModule",{value:!0});yb.OtelTracingPatchConfigSerializer=void 0;yb.OtelTracingPatchConfigSerializer={_fromJsonObject(e){return{url:e.url}},_toJsonObject(e){return{url:e.url}}}});var jq=b(bb=>{"use strict";l();u();c();Object.defineProperty(bb,"__esModule",{value:!0});bb.StreamSinkPatchSerializer=void 0;var Iq=Oq(),Bq=kq(),Dq=Rq(),Nq=Mq(),Lq=Pq(),Fq=db();bb.StreamSinkPatchSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return Bq.AzureBlobStoragePatchConfigSerializer._fromJsonObject(e.config);case"otelTracing":return Lq.OtelTracingPatchConfigSerializer._fromJsonObject(e.config);case"http":return Nq.HttpPatchConfigSerializer._fromJsonObject(e.config);case"amazonS3":return Iq.AmazonS3PatchConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return Dq.GoogleCloudStoragePatchConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return o(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?Fq.SinkStatusInSerializer._fromJsonObject(e.status):void 0,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=Bq.AzureBlobStoragePatchConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=Lq.OtelTracingPatchConfigSerializer._toJsonObject(e.config);break;case"http":t=Nq.HttpPatchConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=Iq.AmazonS3PatchConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=Dq.GoogleCloudStoragePatchConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?Fq.SinkStatusInSerializer._toJsonObject(e.status):void 0,uid:e.uid}}}});var Hq=b(vb=>{"use strict";l();u();c();Object.defineProperty(vb,"__esModule",{value:!0});vb.StreamingSink=void 0;var Uq=UE(),tne=vE(),rne=bq(),nne=xq(),sne=vq(),qq=Tq(),xb=oC(),ine=jq(),At=Ve(),aC=class{static{o(this,"StreamingSink")}constructor(t){this.requestCtx=t}list(t,r){let n=new At.SvixRequest(At.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink");return n.setPathParam("stream_id",t),n.setQueryParams({limit:r?.limit,iterator:r?.iterator,order:r?.order}),n.send(this.requestCtx,rne.ListResponseStreamSinkOutSerializer._fromJsonObject)}create(t,r,n){let s=new At.SvixRequest(At.HttpMethod.POST,"/api/v1/stream/{stream_id}/sink");return s.setPathParam("stream_id",t),s.setHeaderParam("idempotency-key",n?.idempotencyKey),s.setBody(qq.StreamSinkInSerializer._toJsonObject(r)),s.send(this.requestCtx,xb.StreamSinkOutSerializer._fromJsonObject)}get(t,r){let n=new At.SvixRequest(At.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,xb.StreamSinkOutSerializer._fromJsonObject)}update(t,r,n){let s=new At.SvixRequest(At.HttpMethod.PUT,"/api/v1/stream/{stream_id}/sink/{sink_id}");return s.setPathParam("stream_id",t),s.setPathParam("sink_id",r),s.setBody(qq.StreamSinkInSerializer._toJsonObject(n)),s.send(this.requestCtx,xb.StreamSinkOutSerializer._fromJsonObject)}delete(t,r){let n=new At.SvixRequest(At.HttpMethod.DELETE,"/api/v1/stream/{stream_id}/sink/{sink_id}");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.sendNoResponseBody(this.requestCtx)}patch(t,r,n){let s=new At.SvixRequest(At.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}");return s.setPathParam("stream_id",t),s.setPathParam("sink_id",r),s.setBody(ine.StreamSinkPatchSerializer._toJsonObject(n)),s.send(this.requestCtx,xb.StreamSinkOutSerializer._fromJsonObject)}getSecret(t,r){let n=new At.SvixRequest(At.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/secret");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,nne.SinkSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,s){let i=new At.SvixRequest(At.HttpMethod.POST,"/api/v1/stream/{stream_id}/sink/{sink_id}/secret/rotate");return i.setPathParam("stream_id",t),i.setPathParam("sink_id",r),i.setHeaderParam("idempotency-key",s?.idempotencyKey),i.setBody(tne.EndpointSecretRotateInSerializer._toJsonObject(n)),i.send(this.requestCtx,Uq.EmptyResponseSerializer._fromJsonObject)}transformationPartialUpdate(t,r,n){let s=new At.SvixRequest(At.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}/transformation");return s.setPathParam("stream_id",t),s.setPathParam("sink_id",r),s.setBody(sne.SinkTransformInSerializer._toJsonObject(n)),s.send(this.requestCtx,Uq.EmptyResponseSerializer._fromJsonObject)}};vb.StreamingSink=aC});var cC=b(_b=>{"use strict";l();u();c();Object.defineProperty(_b,"__esModule",{value:!0});_b.StreamOutSerializer=void 0;_b.StreamOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}}});var $q=b(Sb=>{"use strict";l();u();c();Object.defineProperty(Sb,"__esModule",{value:!0});Sb.ListResponseStreamOutSerializer=void 0;var zq=cC();Sb.ListResponseStreamOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>zq.StreamOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>zq.StreamOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var Jq=b(wb=>{"use strict";l();u();c();Object.defineProperty(wb,"__esModule",{value:!0});wb.StreamPatchSerializer=void 0;wb.StreamPatchSerializer={_fromJsonObject(e){return{description:e.description,metadata:e.metadata,uid:e.uid}},_toJsonObject(e){return{description:e.description,metadata:e.metadata,uid:e.uid}}}});var Kq=b(Cb=>{"use strict";l();u();c();Object.defineProperty(Cb,"__esModule",{value:!0});Cb.StreamingStream=void 0;var one=$q(),Vq=XE(),Eb=cC(),ane=Jq(),on=Ve(),uC=class{static{o(this,"StreamingStream")}constructor(t){this.requestCtx=t}list(t){let r=new on.SvixRequest(on.HttpMethod.GET,"/api/v1/stream");return r.setQueryParams({limit:t?.limit,iterator:t?.iterator,order:t?.order}),r.send(this.requestCtx,one.ListResponseStreamOutSerializer._fromJsonObject)}create(t,r){let n=new on.SvixRequest(on.HttpMethod.POST,"/api/v1/stream");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(Vq.StreamInSerializer._toJsonObject(t)),n.send(this.requestCtx,Eb.StreamOutSerializer._fromJsonObject)}get(t){let r=new on.SvixRequest(on.HttpMethod.GET,"/api/v1/stream/{stream_id}");return r.setPathParam("stream_id",t),r.send(this.requestCtx,Eb.StreamOutSerializer._fromJsonObject)}update(t,r){let n=new on.SvixRequest(on.HttpMethod.PUT,"/api/v1/stream/{stream_id}");return n.setPathParam("stream_id",t),n.setBody(Vq.StreamInSerializer._toJsonObject(r)),n.send(this.requestCtx,Eb.StreamOutSerializer._fromJsonObject)}delete(t){let r=new on.SvixRequest(on.HttpMethod.DELETE,"/api/v1/stream/{stream_id}");return r.setPathParam("stream_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new on.SvixRequest(on.HttpMethod.PATCH,"/api/v1/stream/{stream_id}");return n.setPathParam("stream_id",t),n.setBody(ane.StreamPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,Eb.StreamOutSerializer._fromJsonObject)}};Cb.StreamingStream=uC});var Wq=b(Ab=>{"use strict";l();u();c();Object.defineProperty(Ab,"__esModule",{value:!0});Ab.Streaming=void 0;var Gq=bE(),cne=GU(),une=WU(),lne=tq(),dne=lq(),pne=Hq(),fne=Kq(),rc=Ve(),lC=class{static{o(this,"Streaming")}constructor(t){this.requestCtx=t}get event_type(){return new lne.StreamingEventType(this.requestCtx)}get events(){return new dne.StreamingEvents(this.requestCtx)}get sink(){return new pne.StreamingSink(this.requestCtx)}get stream(){return new fne.StreamingStream(this.requestCtx)}sinkHeadersGet(t,r){let n=new rc.SvixRequest(rc.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/headers");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,Gq.EndpointHeadersOutSerializer._fromJsonObject)}sinkHeadersPatch(t,r,n){let s=new rc.SvixRequest(rc.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}/headers");return s.setPathParam("stream_id",t),s.setPathParam("sink_id",r),s.setBody(cne.HttpSinkHeadersPatchInSerializer._toJsonObject(n)),s.send(this.requestCtx,Gq.EndpointHeadersOutSerializer._fromJsonObject)}sinkTransformationGet(t,r){let n=new rc.SvixRequest(rc.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/transformation");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,une.SinkTransformationOutSerializer._fromJsonObject)}};Ab.Streaming=lC});var Yq=b(gi=>{"use strict";l();u();c();Object.defineProperty(gi,"__esModule",{value:!0});gi.HTTPValidationError=gi.ValidationError=gi.HttpErrorOut=void 0;var nc=class e{static{o(this,"HttpErrorOut")}static getAttributeTypeMap(){return e.attributeTypeMap}};gi.HttpErrorOut=nc;nc.discriminator=void 0;nc.mapping=void 0;nc.attributeTypeMap=[{name:"code",baseName:"code",type:"string",format:""},{name:"detail",baseName:"detail",type:"string",format:""}];var sc=class e{static{o(this,"ValidationError")}static getAttributeTypeMap(){return e.attributeTypeMap}};gi.ValidationError=sc;sc.discriminator=void 0;sc.mapping=void 0;sc.attributeTypeMap=[{name:"loc",baseName:"loc",type:"Array<string>",format:""},{name:"msg",baseName:"msg",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""}];var ic=class e{static{o(this,"HTTPValidationError")}static getAttributeTypeMap(){return e.attributeTypeMap}};gi.HTTPValidationError=ic;ic.discriminator=void 0;ic.mapping=void 0;ic.attributeTypeMap=[{name:"detail",baseName:"detail",type:"Array<ValidationError>",format:""}]});var Xq=b(Tb=>{"use strict";l();u();c();Object.defineProperty(Tb,"__esModule",{value:!0});Tb.timingSafeEqual=void 0;function Qq(e,t=""){if(!e)throw new Error(t)}o(Qq,"assert");function mne(e,t){if(e.byteLength!==t.byteLength)return!1;e instanceof DataView||(e=new DataView(ArrayBuffer.isView(e)?e.buffer:e)),t instanceof DataView||(t=new DataView(ArrayBuffer.isView(t)?t.buffer:t)),Qq(e instanceof DataView),Qq(t instanceof DataView);let r=e.byteLength,n=0,s=-1;for(;++s<r;)n|=e.getUint8(s)^t.getUint8(s);return n===0}o(mne,"timingSafeEqual");Tb.timingSafeEqual=mne});var t4=b(Jr=>{"use strict";l();u();c();var hne=Jr&&Jr.__extends||(function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)s.hasOwnProperty(i)&&(n[i]=s[i])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Jr,"__esModule",{value:!0});var it=256,dC=(function(){function e(t){t===void 0&&(t="="),this._paddingCharacter=t}return o(e,"Coder"),e.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(t*8+5)/6|0},e.prototype.encode=function(t){for(var r="",n=0;n<t.length-2;n+=3){var s=t[n]<<16|t[n+1]<<8|t[n+2];r+=this._encodeByte(s>>>18&63),r+=this._encodeByte(s>>>12&63),r+=this._encodeByte(s>>>6&63),r+=this._encodeByte(s>>>0&63)}var i=t.length-n;if(i>0){var s=t[n]<<16|(i===2?t[n+1]<<8:0);r+=this._encodeByte(s>>>18&63),r+=this._encodeByte(s>>>12&63),i===2?r+=this._encodeByte(s>>>6&63):r+=this._paddingCharacter||"",r+=this._paddingCharacter||""}return r},e.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(t*6+7)/8|0},e.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},e.prototype.decode=function(t){if(t.length===0)return new Uint8Array(0);for(var r=this._getPaddingLength(t),n=t.length-r,s=new Uint8Array(this.maxDecodedLength(n)),i=0,a=0,d=0,p=0,f=0,m=0,h=0;a<n-4;a+=4)p=this._decodeChar(t.charCodeAt(a+0)),f=this._decodeChar(t.charCodeAt(a+1)),m=this._decodeChar(t.charCodeAt(a+2)),h=this._decodeChar(t.charCodeAt(a+3)),s[i++]=p<<2|f>>>4,s[i++]=f<<4|m>>>2,s[i++]=m<<6|h,d|=p&it,d|=f&it,d|=m&it,d|=h&it;if(a<n-1&&(p=this._decodeChar(t.charCodeAt(a)),f=this._decodeChar(t.charCodeAt(a+1)),s[i++]=p<<2|f>>>4,d|=p&it,d|=f&it),a<n-2&&(m=this._decodeChar(t.charCodeAt(a+2)),s[i++]=f<<4|m>>>2,d|=m&it),a<n-3&&(h=this._decodeChar(t.charCodeAt(a+3)),s[i++]=m<<6|h,d|=h&it),d!==0)throw new Error("Base64Coder: incorrect characters for decoding");return s},e.prototype._encodeByte=function(t){var r=t;return r+=65,r+=25-t>>>8&6,r+=51-t>>>8&-75,r+=61-t>>>8&-15,r+=62-t>>>8&3,String.fromCharCode(r)},e.prototype._decodeChar=function(t){var r=it;return r+=(42-t&t-44)>>>8&-it+t-43+62,r+=(46-t&t-48)>>>8&-it+t-47+63,r+=(47-t&t-58)>>>8&-it+t-48+52,r+=(64-t&t-91)>>>8&-it+t-65+0,r+=(96-t&t-123)>>>8&-it+t-97+26,r},e.prototype._getPaddingLength=function(t){var r=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)r++;if(t.length<4||r>2)throw new Error("Base64Coder: incorrect padding")}return r},e})();Jr.Coder=dC;var xl=new dC;function gne(e){return xl.encode(e)}o(gne,"encode");Jr.encode=gne;function yne(e){return xl.decode(e)}o(yne,"decode");Jr.decode=yne;var Zq=(function(e){hne(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"URLSafeCoder"),t.prototype._encodeByte=function(r){var n=r;return n+=65,n+=25-r>>>8&6,n+=51-r>>>8&-75,n+=61-r>>>8&-13,n+=62-r>>>8&49,String.fromCharCode(n)},t.prototype._decodeChar=function(r){var n=it;return n+=(44-r&r-46)>>>8&-it+r-45+62,n+=(94-r&r-96)>>>8&-it+r-95+63,n+=(47-r&r-58)>>>8&-it+r-48+52,n+=(64-r&r-91)>>>8&-it+r-65+0,n+=(96-r&r-123)>>>8&-it+r-97+26,n},t})(dC);Jr.URLSafeCoder=Zq;var e4=new Zq;function bne(e){return e4.encode(e)}o(bne,"encodeURLSafe");Jr.encodeURLSafe=bne;function xne(e){return e4.decode(e)}o(xne,"decodeURLSafe");Jr.decodeURLSafe=xne;Jr.encodedLength=function(e){return xl.encodedLength(e)};Jr.maxDecodedLength=function(e){return xl.maxDecodedLength(e)};Jr.decodedLength=function(e){return xl.decodedLength(e)}});var n4=b((r4,Ob)=>{l();u();c();(function(e,t){var r={};t(r);var n=r.default;for(var s in r)n[s]=r[s];typeof Ob=="object"&&typeof Ob.exports=="object"?Ob.exports=n:typeof define=="function"&&define.amd?define(function(){return n}):e.sha256=n})(r4,function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(h,g,y,x,_){for(var E,T,k,D,I,N,G,ee,K,te,Te,Ot,Zt;_>=64;){for(E=g[0],T=g[1],k=g[2],D=g[3],I=g[4],N=g[5],G=g[6],ee=g[7],te=0;te<16;te++)Te=x+te*4,h[te]=(y[Te]&255)<<24|(y[Te+1]&255)<<16|(y[Te+2]&255)<<8|y[Te+3]&255;for(te=16;te<64;te++)K=h[te-2],Ot=(K>>>17|K<<15)^(K>>>19|K<<13)^K>>>10,K=h[te-15],Zt=(K>>>7|K<<25)^(K>>>18|K<<14)^K>>>3,h[te]=(Ot+h[te-7]|0)+(Zt+h[te-16]|0);for(te=0;te<64;te++)Ot=(((I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7))+(I&N^~I&G)|0)+(ee+(t[te]+h[te]|0)|0)|0,Zt=((E>>>2|E<<30)^(E>>>13|E<<19)^(E>>>22|E<<10))+(E&T^E&k^T&k)|0,ee=G,G=N,N=I,I=D+Ot|0,D=k,k=T,T=E,E=Ot+Zt|0;g[0]+=E,g[1]+=T,g[2]+=k,g[3]+=D,g[4]+=I,g[5]+=N,g[6]+=G,g[7]+=ee,x+=64,_-=64}return x}o(r,"hashBlocks");var n=(function(){function h(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return o(h,"Hash"),h.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},h.prototype.clean=function(){for(var g=0;g<this.buffer.length;g++)this.buffer[g]=0;for(var g=0;g<this.temp.length;g++)this.temp[g]=0;this.reset()},h.prototype.update=function(g,y){if(y===void 0&&(y=g.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var x=0;if(this.bytesHashed+=y,this.bufferLength>0){for(;this.bufferLength<64&&y>0;)this.buffer[this.bufferLength++]=g[x++],y--;this.bufferLength===64&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(y>=64&&(x=r(this.temp,this.state,g,x,y),y%=64);y>0;)this.buffer[this.bufferLength++]=g[x++],y--;return this},h.prototype.finish=function(g){if(!this.finished){var y=this.bytesHashed,x=this.bufferLength,_=y/536870912|0,E=y<<3,T=y%64<56?64:128;this.buffer[x]=128;for(var k=x+1;k<T-8;k++)this.buffer[k]=0;this.buffer[T-8]=_>>>24&255,this.buffer[T-7]=_>>>16&255,this.buffer[T-6]=_>>>8&255,this.buffer[T-5]=_>>>0&255,this.buffer[T-4]=E>>>24&255,this.buffer[T-3]=E>>>16&255,this.buffer[T-2]=E>>>8&255,this.buffer[T-1]=E>>>0&255,r(this.temp,this.state,this.buffer,0,T),this.finished=!0}for(var k=0;k<8;k++)g[k*4+0]=this.state[k]>>>24&255,g[k*4+1]=this.state[k]>>>16&255,g[k*4+2]=this.state[k]>>>8&255,g[k*4+3]=this.state[k]>>>0&255;return this},h.prototype.digest=function(){var g=new Uint8Array(this.digestLength);return this.finish(g),g},h.prototype._saveState=function(g){for(var y=0;y<this.state.length;y++)g[y]=this.state[y]},h.prototype._restoreState=function(g,y){for(var x=0;x<this.state.length;x++)this.state[x]=g[x];this.bytesHashed=y,this.finished=!1,this.bufferLength=0},h})();e.Hash=n;var s=(function(){function h(g){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var y=new Uint8Array(this.blockSize);if(g.length>this.blockSize)new n().update(g).finish(y).clean();else for(var x=0;x<g.length;x++)y[x]=g[x];for(var x=0;x<y.length;x++)y[x]^=54;this.inner.update(y);for(var x=0;x<y.length;x++)y[x]^=106;this.outer.update(y),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var x=0;x<y.length;x++)y[x]=0}return o(h,"HMAC"),h.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},h.prototype.clean=function(){for(var g=0;g<this.istate.length;g++)this.ostate[g]=this.istate[g]=0;this.inner.clean(),this.outer.clean()},h.prototype.update=function(g){return this.inner.update(g),this},h.prototype.finish=function(g){return this.outer.finished?this.outer.finish(g):(this.inner.finish(g),this.outer.update(g,this.digestLength).finish(g)),this},h.prototype.digest=function(){var g=new Uint8Array(this.digestLength);return this.finish(g),g},h})();e.HMAC=s;function i(h){var g=new n().update(h),y=g.digest();return g.clean(),y}o(i,"hash"),e.hash=i,e.default=i;function a(h,g){var y=new s(h).update(g),x=y.digest();return y.clean(),x}o(a,"hmac"),e.hmac=a;function d(h,g,y,x){var _=x[0];if(_===0)throw new Error("hkdf: cannot expand more");g.reset(),_>1&&g.update(h),y&&g.update(y),g.update(x),g.finish(h),x[0]++}o(d,"fillBuffer");var p=new Uint8Array(e.digestLength);function f(h,g,y,x){g===void 0&&(g=p),x===void 0&&(x=32);for(var _=new Uint8Array([1]),E=a(g,h),T=new s(E),k=new Uint8Array(T.digestLength),D=k.length,I=new Uint8Array(x),N=0;N<x;N++)D===k.length&&(d(k,T,y,_),D=0),I[N]=k[D++];return T.clean(),k.fill(0),_.fill(0),I}o(f,"hkdf"),e.hkdf=f;function m(h,g,y,x){for(var _=new s(h),E=_.digestLength,T=new Uint8Array(4),k=new Uint8Array(E),D=new Uint8Array(E),I=new Uint8Array(x),N=0;N*E<x;N++){var G=N+1;T[0]=G>>>24&255,T[1]=G>>>16&255,T[2]=G>>>8&255,T[3]=G>>>0&255,_.reset(),_.update(g),_.update(T),_.finish(D);for(var ee=0;ee<E;ee++)k[ee]=D[ee];for(var ee=2;ee<=y;ee++){_.reset(),_.update(D).finish(D);for(var K=0;K<E;K++)k[K]^=D[K]}for(var ee=0;ee<E&&N*E+ee<x;ee++)I[N*E+ee]=k[ee]}for(var N=0;N<E;N++)k[N]=D[N]=0;for(var N=0;N<4;N++)T[N]=0;return _.clean(),I}o(m,"pbkdf2"),e.pbkdf2=m})});var fC=b(oc=>{"use strict";l();u();c();Object.defineProperty(oc,"__esModule",{value:!0});oc.Webhook=oc.WebhookVerificationError=void 0;var vne=Xq(),s4=t4(),_ne=n4(),i4=300,pC=class e extends Error{static{o(this,"ExtendableError")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="ExtendableError",this.stack=new Error(t).stack}},yi=class e extends pC{static{o(this,"WebhookVerificationError")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="WebhookVerificationError"}};oc.WebhookVerificationError=yi;var kb=class e{static{o(this,"Webhook")}constructor(t,r){if(!t)throw new Error("Secret can't be empty.");if(r?.format==="raw")t instanceof Uint8Array?this.key=t:this.key=Uint8Array.from(t,n=>n.charCodeAt(0));else{if(typeof t!="string")throw new Error("Expected secret to be of type string");t.startsWith(e.prefix)&&(t=t.substring(e.prefix.length)),this.key=s4.decode(t)}}verify(t,r){let n={};for(let g of Object.keys(r))n[g.toLowerCase()]=r[g];let s=n["webhook-id"],i=n["webhook-signature"],a=n["webhook-timestamp"];if(!i||!s||!a)throw new yi("Missing required headers");let d=this.verifyTimestamp(a),f=this.sign(s,d,t).split(",")[1],m=i.split(" "),h=new globalThis.TextEncoder;for(let g of m){let[y,x]=g.split(",");if(y==="v1"&&(0,vne.timingSafeEqual)(h.encode(x),h.encode(f)))return JSON.parse(t.toString())}throw new yi("No matching signature found")}sign(t,r,n){if(typeof n!="string")if(n.constructor.name==="Buffer")n=n.toString();else throw new Error("Expected payload to be of type string or Buffer.");let s=new TextEncoder,i=Math.floor(r.getTime()/1e3),a=s.encode(`${t}.${i}.${n}`);return`v1,${s4.encode(_ne.hmac(this.key,a))}`}verifyTimestamp(t){let r=Math.floor(Date.now()/1e3),n=parseInt(t,10);if(isNaN(n))throw new yi("Invalid Signature Headers");if(r-n>i4)throw new yi("Message timestamp too old");if(n>r+i4)throw new yi("Message timestamp too new");return new Date(n*1e3)}};oc.Webhook=kb;kb.prefix="whsec_"});var o4=b(ac=>{"use strict";l();u();c();Object.defineProperty(ac,"__esModule",{value:!0});ac.Webhook=ac.WebhookVerificationError=void 0;var Sne=fC(),wne=fC();Object.defineProperty(ac,"WebhookVerificationError",{enumerable:!0,get:o(function(){return wne.WebhookVerificationError},"get")});var mC=class{static{o(this,"Webhook")}constructor(t,r){this.inner=new Sne.Webhook(t,r)}verify(t,r){var n,s,i,a,d,p;let f={};for(let m of Object.keys(r))f[m.toLowerCase()]=r[m];return f["webhook-id"]=(s=(n=f["svix-id"])!==null&&n!==void 0?n:f["webhook-id"])!==null&&s!==void 0?s:"",f["webhook-signature"]=(a=(i=f["svix-signature"])!==null&&i!==void 0?i:f["webhook-signature"])!==null&&a!==void 0?a:"",f["webhook-timestamp"]=(p=(d=f["svix-timestamp"])!==null&&d!==void 0?d:f["webhook-timestamp"])!==null&&p!==void 0?p:"",this.inner.verify(t,f)}sign(t,r,n){return this.inner.sign(t,r,n)}};ac.Webhook=mC});var a4=b(Ao=>{"use strict";l();u();c();Object.defineProperty(Ao,"__esModule",{value:!0});Ao.EndpointDisabledTriggerSerializer=Ao.EndpointDisabledTrigger=void 0;var Ene;(function(e){e.Manual="manual",e.Automatic="automatic"})(Ene=Ao.EndpointDisabledTrigger||(Ao.EndpointDisabledTrigger={}));Ao.EndpointDisabledTriggerSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var c4=b(To=>{"use strict";l();u();c();Object.defineProperty(To,"__esModule",{value:!0});To.OrderingSerializer=To.Ordering=void 0;var Cne;(function(e){e.Ascending="ascending",e.Descending="descending"})(Cne=To.Ordering||(To.Ordering={}));To.OrderingSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var u4=b(Oo=>{"use strict";l();u();c();Object.defineProperty(Oo,"__esModule",{value:!0});Oo.StatusCodeClassSerializer=Oo.StatusCodeClass=void 0;var Ane;(function(e){e[e.CodeNone=0]="CodeNone",e[e.Code1xx=100]="Code1xx",e[e.Code2xx=200]="Code2xx",e[e.Code3xx=300]="Code3xx",e[e.Code4xx=400]="Code4xx",e[e.Code5xx=500]="Code5xx"})(Ane=Oo.StatusCodeClass||(Oo.StatusCodeClass={}));Oo.StatusCodeClassSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var l4=b(Ie=>{"use strict";l();u();c();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.StatusCodeClass=Ie.SinkStatusIn=Ie.SinkStatus=Ie.Ordering=Ie.MessageStatusText=Ie.MessageStatus=Ie.MessageAttemptTriggerType=Ie.EndpointDisabledTrigger=Ie.ConnectorProduct=Ie.ConnectorKind=Ie.BackgroundTaskType=Ie.BackgroundTaskStatus=Ie.AppPortalCapability=void 0;var Tne=dE();Object.defineProperty(Ie,"AppPortalCapability",{enumerable:!0,get:o(function(){return Tne.AppPortalCapability},"get")});var One=mi();Object.defineProperty(Ie,"BackgroundTaskStatus",{enumerable:!0,get:o(function(){return One.BackgroundTaskStatus},"get")});var kne=hi();Object.defineProperty(Ie,"BackgroundTaskType",{enumerable:!0,get:o(function(){return kne.BackgroundTaskType},"get")});var Rne=Za();Object.defineProperty(Ie,"ConnectorKind",{enumerable:!0,get:o(function(){return Rne.ConnectorKind},"get")});var Mne=sh();Object.defineProperty(Ie,"ConnectorProduct",{enumerable:!0,get:o(function(){return Mne.ConnectorProduct},"get")});var Pne=a4();Object.defineProperty(Ie,"EndpointDisabledTrigger",{enumerable:!0,get:o(function(){return Pne.EndpointDisabledTrigger},"get")});var Ine=qE();Object.defineProperty(Ie,"MessageAttemptTriggerType",{enumerable:!0,get:o(function(){return Ine.MessageAttemptTriggerType},"get")});var Bne=yl();Object.defineProperty(Ie,"MessageStatus",{enumerable:!0,get:o(function(){return Bne.MessageStatus},"get")});var Dne=bl();Object.defineProperty(Ie,"MessageStatusText",{enumerable:!0,get:o(function(){return Dne.MessageStatusText},"get")});var Nne=c4();Object.defineProperty(Ie,"Ordering",{enumerable:!0,get:o(function(){return Nne.Ordering},"get")});var Lne=iC();Object.defineProperty(Ie,"SinkStatus",{enumerable:!0,get:o(function(){return Lne.SinkStatus},"get")});var Fne=db();Object.defineProperty(Ie,"SinkStatusIn",{enumerable:!0,get:o(function(){return Fne.SinkStatusIn},"get")});var jne=u4();Object.defineProperty(Ie,"StatusCodeClass",{enumerable:!0,get:o(function(){return jne.StatusCodeClass},"get")})});var p4=b(ot=>{"use strict";l();u();c();var Une=ot&&ot.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),d4=ot&&ot.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Une(t,e,r)};Object.defineProperty(ot,"__esModule",{value:!0});ot.Svix=ot.messageInRaw=ot.ValidationError=ot.HttpErrorOut=ot.HTTPValidationError=ot.ApiException=void 0;var qne=L3(),Hne=G3(),zne=Z3(),$ne=lL(),Jne=PL(),Vne=jL(),Kne=YL(),Gne=XL(),Wne=$j(),Yne=Qj(),Qne=jE(),Xne=RU(),Zne=jU(),ese=KU(),tse=Wq(),rse=KE(),nse=Ww();Object.defineProperty(ot,"ApiException",{enumerable:!0,get:o(function(){return nse.ApiException},"get")});var gC=Yq();Object.defineProperty(ot,"HTTPValidationError",{enumerable:!0,get:o(function(){return gC.HTTPValidationError},"get")});Object.defineProperty(ot,"HttpErrorOut",{enumerable:!0,get:o(function(){return gC.HttpErrorOut},"get")});Object.defineProperty(ot,"ValidationError",{enumerable:!0,get:o(function(){return gC.ValidationError},"get")});d4(o4(),ot);d4(l4(),ot);var sse=jE();Object.defineProperty(ot,"messageInRaw",{enumerable:!0,get:o(function(){return sse.messageInRaw},"get")});var ise=[{region:"us",url:"https://api.us.svix.com"},{region:"eu",url:"https://api.eu.svix.com"},{region:"in",url:"https://api.in.svix.com"},{region:"ca",url:"https://api.ca.svix.com"},{region:"au",url:"https://api.au.svix.com"}],hC=class{static{o(this,"Svix")}constructor(t,r={}){var n,s,i;let a=(n=ise.find(p=>p.region===t.split(".")[1]))===null||n===void 0?void 0:n.url,d=(i=(s=r.serverUrl)!==null&&s!==void 0?s:a)!==null&&i!==void 0?i:"https://api.svix.com";if(r.retryScheduleInMs){this.requestCtx={baseUrl:d,token:t,timeout:r.requestTimeout,retryScheduleInMs:r.retryScheduleInMs,fetch:r.fetch};return}if(r.numRetries){this.requestCtx={baseUrl:d,token:t,timeout:r.requestTimeout,numRetries:r.numRetries,fetch:r.fetch};return}this.requestCtx={baseUrl:d,token:t,timeout:r.requestTimeout,fetch:r.fetch}}get application(){return new qne.Application(this.requestCtx)}get authentication(){return new Hne.Authentication(this.requestCtx)}get backgroundTask(){return new zne.BackgroundTask(this.requestCtx)}get connector(){return new $ne.Connector(this.requestCtx)}get endpoint(){return new Jne.Endpoint(this.requestCtx)}get environment(){return new Vne.Environment(this.requestCtx)}get eventType(){return new Kne.EventType(this.requestCtx)}get health(){return new Gne.Health(this.requestCtx)}get ingest(){return new Wne.Ingest(this.requestCtx)}get integration(){return new Yne.Integration(this.requestCtx)}get message(){return new Qne.Message(this.requestCtx)}get messageAttempt(){return new Xne.MessageAttempt(this.requestCtx)}get operationalWebhook(){return new Zne.OperationalWebhook(this.requestCtx)}get statistics(){return new ese.Statistics(this.requestCtx)}get streaming(){return new tse.Streaming(this.requestCtx)}get operationalWebhookEndpoint(){return new rse.OperationalWebhookEndpoint(this.requestCtx)}};ot.Svix=hC});var bi=b(pc=>{"use strict";l();u();c();var uie="[object ArrayBuffer]",Cs=class e{static{o(this,"BufferSourceConverter")}static isArrayBuffer(t){return Object.prototype.toString.call(t)===uie}static toArrayBuffer(t){return this.isArrayBuffer(t)?t:t.byteLength===t.buffer.byteLength||t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:this.toUint8Array(t.buffer).slice(t.byteOffset,t.byteOffset+t.byteLength).buffer}static toUint8Array(t){return this.toView(t,Uint8Array)}static toView(t,r){if(t.constructor===r)return t;if(this.isArrayBuffer(t))return new r(t);if(this.isArrayBufferView(t))return new r(t.buffer,t.byteOffset,t.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(t){return this.isArrayBufferView(t)||this.isArrayBuffer(t)}static isArrayBufferView(t){return ArrayBuffer.isView(t)||t&&this.isArrayBuffer(t.buffer)}static isEqual(t,r){let n=e.toUint8Array(t),s=e.toUint8Array(r);if(n.length!==s.byteLength)return!1;for(let i=0;i<n.length;i++)if(n[i]!==s[i])return!1;return!0}static concat(...t){let r;Array.isArray(t[0])&&!(t[1]instanceof Function)||Array.isArray(t[0])&&t[1]instanceof Function?r=t[0]:t[t.length-1]instanceof Function?r=t.slice(0,t.length-1):r=t;let n=0;for(let a of r)n+=a.byteLength;let s=new Uint8Array(n),i=0;for(let a of r){let d=this.toUint8Array(a);s.set(d,i),i+=d.length}return t[t.length-1]instanceof Function?this.toView(s,t[t.length-1]):s.buffer}},AC="string",lie=/^[0-9a-f\s]+$/i,die=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,pie=/^[a-zA-Z0-9-_]+$/,Nb=class{static{o(this,"Utf8Converter")}static fromString(t){let r=unescape(encodeURIComponent(t)),n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n.buffer}static toString(t){let r=Cs.toUint8Array(t),n="";for(let i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return decodeURIComponent(escape(n))}},cn=class{static{o(this,"Utf16Converter")}static toString(t,r=!1){let n=Cs.toArrayBuffer(t),s=new DataView(n),i="";for(let a=0;a<n.byteLength;a+=2){let d=s.getUint16(a,r);i+=String.fromCharCode(d)}return i}static fromString(t,r=!1){let n=new ArrayBuffer(t.length*2),s=new DataView(n);for(let i=0;i<t.length;i++)s.setUint16(i*2,t.charCodeAt(i),r);return n}},Lb=class e{static{o(this,"Convert")}static isHex(t){return typeof t===AC&&lie.test(t)}static isBase64(t){return typeof t===AC&&die.test(t)}static isBase64Url(t){return typeof t===AC&&pie.test(t)}static ToString(t,r="utf8"){let n=Cs.toUint8Array(t);switch(r.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return cn.toString(n,!0);case"utf16":case"utf16be":return cn.toString(n);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromString(t,r="utf8"){if(!t)return new ArrayBuffer(0);switch(r.toLowerCase()){case"utf8":return this.FromUtf8String(t);case"binary":return this.FromBinary(t);case"hex":return this.FromHex(t);case"base64":return this.FromBase64(t);case"base64url":return this.FromBase64Url(t);case"utf16le":return cn.fromString(t,!0);case"utf16":case"utf16be":return cn.fromString(t);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToBase64(t){let r=Cs.toUint8Array(t);if(typeof btoa<"u"){let n=this.ToString(r,"binary");return btoa(n)}else return Buffer.from(r).toString("base64")}static FromBase64(t){let r=this.formatString(t);if(!r)return new ArrayBuffer(0);if(!e.isBase64(r))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(r)):new Uint8Array(Buffer.from(r,"base64")).buffer}static FromBase64Url(t){let r=this.formatString(t);if(!r)return new ArrayBuffer(0);if(!e.isBase64Url(r))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(r.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(t){return this.ToBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(t,r=e.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.FromBinary(t);case"utf8":return Nb.fromString(t);case"utf16":case"utf16be":return cn.fromString(t);case"utf16le":case"usc2":return cn.fromString(t,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToUtf8String(t,r=e.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.ToBinary(t);case"utf8":return Nb.toString(t);case"utf16":case"utf16be":return cn.toString(t);case"utf16le":case"usc2":return cn.toString(t,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromBinary(t){let r=t.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.charCodeAt(s);return n.buffer}static ToBinary(t){let r=Cs.toUint8Array(t),n="";for(let s=0;s<r.length;s++)n+=String.fromCharCode(r[s]);return n}static ToHex(t){let r=Cs.toUint8Array(t),n="",s=r.length;for(let i=0;i<s;i++){let a=r[i];a<16&&(n+="0"),n+=a.toString(16)}return n}static FromHex(t){let r=this.formatString(t);if(!r)return new ArrayBuffer(0);if(!e.isHex(r))throw new TypeError("Argument 'hexString' is not HEX encoded");r.length%2&&(r=`0${r}`);let n=new Uint8Array(r.length/2);for(let s=0;s<r.length;s=s+2){let i=r.slice(s,s+2);n[s/2]=parseInt(i,16)}return n.buffer}static ToUtf16String(t,r=!1){return cn.toString(t,r)}static FromUtf16String(t,r=!1){return cn.fromString(t,r)}static Base64Padding(t){let r=4-t.length%4;if(r<4)for(let n=0;n<r;n++)t+="=";return t}static formatString(t){return t?.replace(/[\n\r\t ]/g,"")||""}};Lb.DEFAULT_UTF8_ENCODING="utf8";function fie(e,...t){let r=arguments[0];for(let n=1;n<arguments.length;n++){let s=arguments[n];for(let i in s)r[i]=s[i]}return r}o(fie,"assign");function mie(...e){let t=e.map(s=>s.byteLength).reduce((s,i)=>s+i),r=new Uint8Array(t),n=0;return e.map(s=>new Uint8Array(s)).forEach(s=>{for(let i of s)r[n++]=i}),r.buffer}o(mie,"combine");function hie(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),n=new Uint8Array(t);for(let s=0;s<e.byteLength;s++)if(r[s]!==n[s])return!1;return!0}o(hie,"isEqual");pc.BufferSourceConverter=Cs;pc.Convert=Lb;pc.assign=fie;pc.combine=mie;pc.isEqual=hie});var q6={};Hn(q6,{JSONPath:()=>Ae});function Ii(e,t){return e=e.slice(),e.push(t),e}function qA(e,t){return t=t.slice(),t.unshift(e),t}function Ae(e,t,r,n,s){if(!(this instanceof Ae))try{return new Ae(e,t,r,n,s)}catch(a){if(!a.avoidNew)throw a;return a.value}typeof e=="string"&&(s=n,n=r,r=t,t=e,e=null);let i=e&&typeof e=="object";if(e=e||{},this.json=e.json||r,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=Object.hasOwn(e,"wrap")?e.wrap:!0,this.sandbox=e.sandbox||{},this.eval=e.eval===void 0?"safe":e.eval,this.ignoreEvalErrors=typeof e.ignoreEvalErrors>"u"?!1:e.ignoreEvalErrors,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||n||null,this.otherTypeCallback=e.otherTypeCallback||s||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},e.autostart!==!1){let a={path:i?e.path:t};i?"json"in e&&(a.json=e.json):a.json=r;let d=this.evaluate(a);if(!d||typeof d!="object")throw new HA(d);return d}}var FA,jA,Rr,Doe,Fs,Noe,Loe,Foe,U6,joe,Uoe,LA,qoe,Ic,Hoe,Be,UA,HA,zoe,zA,H6=fe(()=>{l();u();c();FA=class{static{o(this,"Hooks")}add(t,r,n){if(typeof arguments[0]!="string")for(let s in arguments[0])this.add(s,arguments[0][s],arguments[1]);else(Array.isArray(t)?t:[t]).forEach(function(s){this[s]=this[s]||[],r&&this[s][n?"unshift":"push"](r)},this)}run(t,r){this[t]=this[t]||[],this[t].forEach(function(n){n.call(r&&r.context?r.context:r,r)})}},jA=class{static{o(this,"Plugins")}constructor(t){this.jsep=t,this.registered={}}register(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(s=>{if(typeof s!="object"||!s.name||!s.init)throw new Error("Invalid JSEP plugin format");this.registered[s.name]||(s.init(this.jsep),this.registered[s.name]=s)})}},Rr=class e{static{o(this,"Jsep")}static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+e.version}static addUnaryOp(t){return e.max_unop_len=Math.max(t.length,e.max_unop_len),e.unary_ops[t]=1,e}static addBinaryOp(t,r,n){return e.max_binop_len=Math.max(t.length,e.max_binop_len),e.binary_ops[t]=r,n?e.right_associative.add(t):e.right_associative.delete(t),e}static addIdentifierChar(t){return e.additional_identifier_chars.add(t),e}static addLiteral(t,r){return e.literals[t]=r,e}static removeUnaryOp(t){return delete e.unary_ops[t],t.length===e.max_unop_len&&(e.max_unop_len=e.getMaxKeyLen(e.unary_ops)),e}static removeAllUnaryOps(){return e.unary_ops={},e.max_unop_len=0,e}static removeIdentifierChar(t){return e.additional_identifier_chars.delete(t),e}static removeBinaryOp(t){return delete e.binary_ops[t],t.length===e.max_binop_len&&(e.max_binop_len=e.getMaxKeyLen(e.binary_ops)),e.right_associative.delete(t),e}static removeAllBinaryOps(){return e.binary_ops={},e.max_binop_len=0,e}static removeLiteral(t){return delete e.literals[t],e}static removeAllLiterals(){return e.literals={},e}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(t){this.expr=t,this.index=0}static parse(t){return new e(t).parse()}static getMaxKeyLen(t){return Math.max(0,...Object.keys(t).map(r=>r.length))}static isDecimalDigit(t){return t>=48&&t<=57}static binaryPrecedence(t){return e.binary_ops[t]||0}static isIdentifierStart(t){return t>=65&&t<=90||t>=97&&t<=122||t>=128&&!e.binary_ops[String.fromCharCode(t)]||e.additional_identifier_chars.has(String.fromCharCode(t))}static isIdentifierPart(t){return e.isIdentifierStart(t)||e.isDecimalDigit(t)}throwError(t){let r=new Error(t+" at character "+this.index);throw r.index=this.index,r.description=t,r}runHook(t,r){if(e.hooks[t]){let n={context:this,node:r};return e.hooks.run(t,n),n.node}return r}searchHook(t){if(e.hooks[t]){let r={context:this};return e.hooks[t].find(function(n){return n.call(r.context,r),r.node}),r.node}}gobbleSpaces(){let t=this.code;for(;t===e.SPACE_CODE||t===e.TAB_CODE||t===e.LF_CODE||t===e.CR_CODE;)t=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let t=this.gobbleExpressions(),r=t.length===1?t[0]:{type:e.COMPOUND,body:t};return this.runHook("after-all",r)}gobbleExpressions(t){let r=[],n,s;for(;this.index<this.expr.length;)if(n=this.code,n===e.SEMCOL_CODE||n===e.COMMA_CODE)this.index++;else if(s=this.gobbleExpression())r.push(s);else if(this.index<this.expr.length){if(n===t)break;this.throwError('Unexpected "'+this.char+'"')}return r}gobbleExpression(){let t=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",t)}gobbleBinaryOp(){this.gobbleSpaces();let t=this.expr.substr(this.index,e.max_binop_len),r=t.length;for(;r>0;){if(e.binary_ops.hasOwnProperty(t)&&(!e.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!e.isIdentifierPart(this.expr.charCodeAt(this.index+t.length))))return this.index+=r,t;t=t.substr(0,--r)}return!1}gobbleBinaryExpression(){let t,r,n,s,i,a,d,p,f;if(a=this.gobbleToken(),!a||(r=this.gobbleBinaryOp(),!r))return a;for(i={value:r,prec:e.binaryPrecedence(r),right_a:e.right_associative.has(r)},d=this.gobbleToken(),d||this.throwError("Expected expression after "+r),s=[a,i,d];r=this.gobbleBinaryOp();){if(n=e.binaryPrecedence(r),n===0){this.index-=r.length;break}i={value:r,prec:n,right_a:e.right_associative.has(r)},f=r;let m=o(h=>i.right_a&&h.right_a?n>h.prec:n<=h.prec,"comparePrev");for(;s.length>2&&m(s[s.length-2]);)d=s.pop(),r=s.pop().value,a=s.pop(),t={type:e.BINARY_EXP,operator:r,left:a,right:d},s.push(t);t=this.gobbleToken(),t||this.throwError("Expected expression after "+f),s.push(i,t)}for(p=s.length-1,t=s[p];p>1;)t={type:e.BINARY_EXP,operator:s[p-1].value,left:s[p-2],right:t},p-=2;return t}gobbleToken(){let t,r,n,s;if(this.gobbleSpaces(),s=this.searchHook("gobble-token"),s)return this.runHook("after-token",s);if(t=this.code,e.isDecimalDigit(t)||t===e.PERIOD_CODE)return this.gobbleNumericLiteral();if(t===e.SQUOTE_CODE||t===e.DQUOTE_CODE)s=this.gobbleStringLiteral();else if(t===e.OBRACK_CODE)s=this.gobbleArray();else{for(r=this.expr.substr(this.index,e.max_unop_len),n=r.length;n>0;){if(e.unary_ops.hasOwnProperty(r)&&(!e.isIdentifierStart(this.code)||this.index+r.length<this.expr.length&&!e.isIdentifierPart(this.expr.charCodeAt(this.index+r.length)))){this.index+=n;let i=this.gobbleToken();return i||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:e.UNARY_EXP,operator:r,argument:i,prefix:!0})}r=r.substr(0,--n)}e.isIdentifierStart(t)?(s=this.gobbleIdentifier(),e.literals.hasOwnProperty(s.name)?s={type:e.LITERAL,value:e.literals[s.name],raw:s.name}:s.name===e.this_str&&(s={type:e.THIS_EXP})):t===e.OPAREN_CODE&&(s=this.gobbleGroup())}return s?(s=this.gobbleTokenProperty(s),this.runHook("after-token",s)):this.runHook("after-token",!1)}gobbleTokenProperty(t){this.gobbleSpaces();let r=this.code;for(;r===e.PERIOD_CODE||r===e.OBRACK_CODE||r===e.OPAREN_CODE||r===e.QUMARK_CODE;){let n;if(r===e.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==e.PERIOD_CODE)break;n=!0,this.index+=2,this.gobbleSpaces(),r=this.code}this.index++,r===e.OBRACK_CODE?(t={type:e.MEMBER_EXP,computed:!0,object:t,property:this.gobbleExpression()},t.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),r=this.code,r!==e.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):r===e.OPAREN_CODE?t={type:e.CALL_EXP,arguments:this.gobbleArguments(e.CPAREN_CODE),callee:t}:(r===e.PERIOD_CODE||n)&&(n&&this.index--,this.gobbleSpaces(),t={type:e.MEMBER_EXP,computed:!1,object:t,property:this.gobbleIdentifier()}),n&&(t.optional=!0),this.gobbleSpaces(),r=this.code}return t}gobbleNumericLiteral(){let t="",r,n;for(;e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(this.code===e.PERIOD_CODE)for(t+=this.expr.charAt(this.index++);e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);if(r=this.char,r==="e"||r==="E"){for(t+=this.expr.charAt(this.index++),r=this.char,(r==="+"||r==="-")&&(t+=this.expr.charAt(this.index++));e.isDecimalDigit(this.code);)t+=this.expr.charAt(this.index++);e.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+t+this.char+")")}return n=this.code,e.isIdentifierStart(n)?this.throwError("Variable names cannot start with a number ("+t+this.char+")"):(n===e.PERIOD_CODE||t.length===1&&t.charCodeAt(0)===e.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:e.LITERAL,value:parseFloat(t),raw:t}}gobbleStringLiteral(){let t="",r=this.index,n=this.expr.charAt(this.index++),s=!1;for(;this.index<this.expr.length;){let i=this.expr.charAt(this.index++);if(i===n){s=!0;break}else if(i==="\\")switch(i=this.expr.charAt(this.index++),i){case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=i}else t+=i}return s||this.throwError('Unclosed quote after "'+t+'"'),{type:e.LITERAL,value:t,raw:this.expr.substring(r,this.index)}}gobbleIdentifier(){let t=this.code,r=this.index;for(e.isIdentifierStart(t)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(t=this.code,e.isIdentifierPart(t));)this.index++;return{type:e.IDENTIFIER,name:this.expr.slice(r,this.index)}}gobbleArguments(t){let r=[],n=!1,s=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let i=this.code;if(i===t){n=!0,this.index++,t===e.CPAREN_CODE&&s&&s>=r.length&&this.throwError("Unexpected token "+String.fromCharCode(t));break}else if(i===e.COMMA_CODE){if(this.index++,s++,s!==r.length){if(t===e.CPAREN_CODE)this.throwError("Unexpected token ,");else if(t===e.CBRACK_CODE)for(let a=r.length;a<s;a++)r.push(null)}}else if(r.length!==s&&s!==0)this.throwError("Expected comma");else{let a=this.gobbleExpression();(!a||a.type===e.COMPOUND)&&this.throwError("Expected comma"),r.push(a)}}return n||this.throwError("Expected "+String.fromCharCode(t)),r}gobbleGroup(){this.index++;let t=this.gobbleExpressions(e.CPAREN_CODE);if(this.code===e.CPAREN_CODE)return this.index++,t.length===1?t[0]:t.length?{type:e.SEQUENCE_EXP,expressions:t}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:e.ARRAY_EXP,elements:this.gobbleArguments(e.CBRACK_CODE)}}},Doe=new FA;Object.assign(Rr,{hooks:Doe,plugins:new jA(Rr),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});Rr.max_unop_len=Rr.getMaxKeyLen(Rr.unary_ops);Rr.max_binop_len=Rr.getMaxKeyLen(Rr.binary_ops);Fs=o(e=>new Rr(e).parse(),"jsep"),Noe=Object.getOwnPropertyNames(class{static{o(this,"Test")}});Object.getOwnPropertyNames(Rr).filter(e=>!Noe.includes(e)&&Fs[e]===void 0).forEach(e=>{Fs[e]=Rr[e]});Fs.Jsep=Rr;Loe="ConditionalExpression",Foe={name:"ternary",init(e){e.hooks.add("after-expression",o(function(r){if(r.node&&this.code===e.QUMARK_CODE){this.index++;let n=r.node,s=this.gobbleExpression();if(s||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let i=this.gobbleExpression();if(i||this.throwError("Expected expression"),r.node={type:Loe,test:n,consequent:s,alternate:i},n.operator&&e.binary_ops[n.operator]<=.9){let a=n;for(;a.right.operator&&e.binary_ops[a.right.operator]<=.9;)a=a.right;r.node.test=a.right,a.right=r.node,r.node=n}}else this.throwError("Expected :")}},"gobbleTernary"))}};Fs.plugins.register(Foe);U6=47,joe=92,Uoe={name:"regex",init(e){e.hooks.add("gobble-token",o(function(r){if(this.code===U6){let n=++this.index,s=!1;for(;this.index<this.expr.length;){if(this.code===U6&&!s){let i=this.expr.slice(n,this.index),a="";for(;++this.index<this.expr.length;){let p=this.code;if(p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57)a+=this.char;else break}let d;try{d=new RegExp(i,a)}catch(p){this.throwError(p.message)}return r.node={type:e.LITERAL,value:d,raw:this.expr.slice(n-1,this.index)},r.node=this.gobbleTokenProperty(r.node),r.node}this.code===e.OBRACK_CODE?s=!0:s&&this.code===e.CBRACK_CODE&&(s=!1),this.index+=this.code===joe?2:1}this.throwError("Unclosed Regex")}},"gobbleRegexLiteral"))}},LA=43,qoe=45,Ic={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[LA,qoe],assignmentPrecedence:.9,init(e){let t=[e.IDENTIFIER,e.MEMBER_EXP];Ic.assignmentOperators.forEach(n=>e.addBinaryOp(n,Ic.assignmentPrecedence,!0)),e.hooks.add("gobble-token",o(function(s){let i=this.code;Ic.updateOperators.some(a=>a===i&&a===this.expr.charCodeAt(this.index+1))&&(this.index+=2,s.node={type:"UpdateExpression",operator:i===LA?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!s.node.argument||!t.includes(s.node.argument.type))&&this.throwError(`Unexpected ${s.node.operator}`))},"gobbleUpdatePrefix")),e.hooks.add("after-token",o(function(s){if(s.node){let i=this.code;Ic.updateOperators.some(a=>a===i&&a===this.expr.charCodeAt(this.index+1))&&(t.includes(s.node.type)||this.throwError(`Unexpected ${s.node.operator}`),this.index+=2,s.node={type:"UpdateExpression",operator:i===LA?"++":"--",argument:s.node,prefix:!1})}},"gobbleUpdatePostfix")),e.hooks.add("after-expression",o(function(s){s.node&&r(s.node)},"gobbleAssignment"));function r(n){Ic.assignmentOperators.has(n.operator)?(n.type="AssignmentExpression",r(n.left),r(n.right)):n.operator||Object.values(n).forEach(s=>{s&&typeof s=="object"&&r(s)})}o(r,"updateBinariesToAssignments")}};Fs.plugins.register(Uoe,Ic);Fs.addUnaryOp("typeof");Fs.addLiteral("null",null);Fs.addLiteral("undefined",void 0);Hoe=new Set(["constructor","__proto__","__defineGetter__","__defineSetter__"]),Be={evalAst(e,t){switch(e.type){case"BinaryExpression":case"LogicalExpression":return Be.evalBinaryExpression(e,t);case"Compound":return Be.evalCompound(e,t);case"ConditionalExpression":return Be.evalConditionalExpression(e,t);case"Identifier":return Be.evalIdentifier(e,t);case"Literal":return Be.evalLiteral(e,t);case"MemberExpression":return Be.evalMemberExpression(e,t);case"UnaryExpression":return Be.evalUnaryExpression(e,t);case"ArrayExpression":return Be.evalArrayExpression(e,t);case"CallExpression":return Be.evalCallExpression(e,t);case"AssignmentExpression":return Be.evalAssignmentExpression(e,t);default:throw SyntaxError("Unexpected expression",e)}},evalBinaryExpression(e,t){return{"||":o((n,s)=>n||s(),"||"),"&&":o((n,s)=>n&&s(),"&&"),"|":o((n,s)=>n|s(),"|"),"^":o((n,s)=>n^s(),"^"),"&":o((n,s)=>n&s(),"&"),"==":o((n,s)=>n==s(),"=="),"!=":o((n,s)=>n!=s(),"!="),"===":o((n,s)=>n===s(),"==="),"!==":o((n,s)=>n!==s(),"!=="),"<":o((n,s)=>n<s(),"<"),">":o((n,s)=>n>s(),">"),"<=":o((n,s)=>n<=s(),"<="),">=":o((n,s)=>n>=s(),">="),"<<":o((n,s)=>n<<s(),"<<"),">>":o((n,s)=>n>>s(),">>"),">>>":o((n,s)=>n>>>s(),">>>"),"+":o((n,s)=>n+s(),"+"),"-":o((n,s)=>n-s(),"-"),"*":o((n,s)=>n*s(),"*"),"/":o((n,s)=>n/s(),"/"),"%":o((n,s)=>n%s(),"%")}[e.operator](Be.evalAst(e.left,t),()=>Be.evalAst(e.right,t))},evalCompound(e,t){let r;for(let n=0;n<e.body.length;n++){e.body[n].type==="Identifier"&&["var","let","const"].includes(e.body[n].name)&&e.body[n+1]&&e.body[n+1].type==="AssignmentExpression"&&(n+=1);let s=e.body[n];r=Be.evalAst(s,t)}return r},evalConditionalExpression(e,t){return Be.evalAst(e.test,t)?Be.evalAst(e.consequent,t):Be.evalAst(e.alternate,t)},evalIdentifier(e,t){if(Object.hasOwn(t,e.name))return t[e.name];throw ReferenceError(`${e.name} is not defined`)},evalLiteral(e){return e.value},evalMemberExpression(e,t){let r=String(e.computed?Be.evalAst(e.property):e.property.name),n=Be.evalAst(e.object,t);if(n==null)throw TypeError(`Cannot read properties of ${n} (reading '${r}')`);if(!Object.hasOwn(n,r)&&Hoe.has(r))throw TypeError(`Cannot read properties of ${n} (reading '${r}')`);let s=n[r];return typeof s=="function"?s.bind(n):s},evalUnaryExpression(e,t){return{"-":o(n=>-Be.evalAst(n,t),"-"),"!":o(n=>!Be.evalAst(n,t),"!"),"~":o(n=>~Be.evalAst(n,t),"~"),"+":o(n=>+Be.evalAst(n,t),"+"),typeof:o(n=>typeof Be.evalAst(n,t),"typeof")}[e.operator](e.argument)},evalArrayExpression(e,t){return e.elements.map(r=>Be.evalAst(r,t))},evalCallExpression(e,t){let r=e.arguments.map(s=>Be.evalAst(s,t));return Be.evalAst(e.callee,t)(...r)},evalAssignmentExpression(e,t){if(e.left.type!=="Identifier")throw SyntaxError("Invalid left-hand side in assignment");let r=e.left.name,n=Be.evalAst(e.right,t);return t[r]=n,t[r]}},UA=class{static{o(this,"SafeScript")}constructor(t){this.code=t,this.ast=Fs(this.code)}runInNewContext(t){let r=Object.assign(Object.create(null),t);return Be.evalAst(this.ast,r)}};o(Ii,"push");o(qA,"unshift");HA=class extends Error{static{o(this,"NewError")}constructor(t){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=t,this.name="NewError"}};o(Ae,"JSONPath");Ae.prototype.evaluate=function(e,t,r,n){let s=this.parent,i=this.parentProperty,{flatten:a,wrap:d}=this;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,t=t||this.json,e=e||this.path,e&&typeof e=="object"&&!Array.isArray(e)){if(!e.path&&e.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Object.hasOwn(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:t}=e),a=Object.hasOwn(e,"flatten")?e.flatten:a,this.currResultType=Object.hasOwn(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=Object.hasOwn(e,"sandbox")?e.sandbox:this.currSandbox,d=Object.hasOwn(e,"wrap")?e.wrap:d,this.currEval=Object.hasOwn(e,"eval")?e.eval:this.currEval,r=Object.hasOwn(e,"callback")?e.callback:r,this.currOtherTypeCallback=Object.hasOwn(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,s=Object.hasOwn(e,"parent")?e.parent:s,i=Object.hasOwn(e,"parentProperty")?e.parentProperty:i,e=e.path}if(s=s||null,i=i||null,Array.isArray(e)&&(e=Ae.toPathString(e)),!e&&e!==""||!t)return;let p=Ae.toPathArray(e);p[0]==="$"&&p.length>1&&p.shift(),this._hasParentSelector=null;let f=this._trace(p,t,["$"],s,i,r).filter(function(m){return m&&!m.isParentSelector});return f.length?!d&&f.length===1&&!f[0].hasArrExpr?this._getPreferredOutput(f[0]):f.reduce((m,h)=>{let g=this._getPreferredOutput(h);return a&&Array.isArray(g)?m=m.concat(g):m.push(g),m},[]):d?[]:void 0};Ae.prototype._getPreferredOutput=function(e){let t=this.currResultType;switch(t){case"all":{let r=Array.isArray(e.path)?e.path:Ae.toPathArray(e.path);return e.pointer=Ae.toPointer(r),e.path=typeof e.path=="string"?e.path:Ae.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[t];case"path":return Ae.toPathString(e[t]);case"pointer":return Ae.toPointer(e.path);default:throw new TypeError("Unknown result type")}};Ae.prototype._handleCallback=function(e,t,r){if(t){let n=this._getPreferredOutput(e);e.path=typeof e.path=="string"?e.path:Ae.toPathString(e.path),t(n,r,e)}};Ae.prototype._trace=function(e,t,r,n,s,i,a,d){let p;if(!e.length)return p={path:r,value:t,parent:n,parentProperty:s,hasArrExpr:a},this._handleCallback(p,i,"value"),p;let f=e[0],m=e.slice(1),h=[];function g(y){Array.isArray(y)?y.forEach(x=>{h.push(x)}):h.push(y)}if(o(g,"addRet"),(typeof f!="string"||d)&&t&&Object.hasOwn(t,f))g(this._trace(m,t[f],Ii(r,f),t,f,i,a));else if(f==="*")this._walk(t,y=>{g(this._trace(m,t[y],Ii(r,y),t,y,i,!0,!0))});else if(f==="..")g(this._trace(m,t,r,n,s,i,a)),this._walk(t,y=>{typeof t[y]=="object"&&g(this._trace(e.slice(),t[y],Ii(r,y),t,y,i,!0))});else{if(f==="^")return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:m,isParentSelector:!0};if(f==="~")return p={path:Ii(r,f),value:s,parent:n,parentProperty:null},this._handleCallback(p,i,"property"),p;if(f==="$")g(this._trace(m,t,r,null,null,i,a));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(f))g(this._slice(f,m,t,r,n,s,i));else if(f.indexOf("?(")===0){if(this.currEval===!1)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");let y=f.replace(/^\?\((.*?)\)$/u,"$1"),x=/@.?([^?]*)[['](\??\(.*?\))(?!.\)\])[\]']/gu.exec(y);x?this._walk(t,_=>{let E=[x[2]],T=x[1]?t[_][x[1]]:t[_];this._trace(E,T,r,n,s,i,!0).length>0&&g(this._trace(m,t[_],Ii(r,_),t,_,i,!0))}):this._walk(t,_=>{this._eval(y,t[_],_,r,n,s)&&g(this._trace(m,t[_],Ii(r,_),t,_,i,!0))})}else if(f[0]==="("){if(this.currEval===!1)throw new Error("Eval [(expr)] prevented in JSONPath expression.");g(this._trace(qA(this._eval(f,t,r.at(-1),r.slice(0,-1),n,s),m),t,r,n,s,i,a))}else if(f[0]==="@"){let y=!1,x=f.slice(1,-2);switch(x){case"scalar":(!t||!["object","function"].includes(typeof t))&&(y=!0);break;case"boolean":case"string":case"undefined":case"function":typeof t===x&&(y=!0);break;case"integer":Number.isFinite(t)&&!(t%1)&&(y=!0);break;case"number":Number.isFinite(t)&&(y=!0);break;case"nonFinite":typeof t=="number"&&!Number.isFinite(t)&&(y=!0);break;case"object":t&&typeof t===x&&(y=!0);break;case"array":Array.isArray(t)&&(y=!0);break;case"other":y=this.currOtherTypeCallback(t,r,n,s);break;case"null":t===null&&(y=!0);break;default:throw new TypeError("Unknown value type "+x)}if(y)return p={path:r,value:t,parent:n,parentProperty:s},this._handleCallback(p,i,"value"),p}else if(f[0]==="`"&&t&&Object.hasOwn(t,f.slice(1))){let y=f.slice(1);g(this._trace(m,t[y],Ii(r,y),t,y,i,a,!0))}else if(f.includes(",")){let y=f.split(",");for(let x of y)g(this._trace(qA(x,m),t,r,n,s,i,!0))}else!d&&t&&Object.hasOwn(t,f)&&g(this._trace(m,t[f],Ii(r,f),t,f,i,a,!0))}if(this._hasParentSelector)for(let y=0;y<h.length;y++){let x=h[y];if(x&&x.isParentSelector){let _=this._trace(x.expr,t,x.path,n,s,i,a);if(Array.isArray(_)){h[y]=_[0];let E=_.length;for(let T=1;T<E;T++)y++,h.splice(y,0,_[T])}else h[y]=_}}return h};Ae.prototype._walk=function(e,t){if(Array.isArray(e)){let r=e.length;for(let n=0;n<r;n++)t(n)}else e&&typeof e=="object"&&Object.keys(e).forEach(r=>{t(r)})};Ae.prototype._slice=function(e,t,r,n,s,i,a){if(!Array.isArray(r))return;let d=r.length,p=e.split(":"),f=p[2]&&Number.parseInt(p[2])||1,m=p[0]&&Number.parseInt(p[0])||0,h=p[1]&&Number.parseInt(p[1])||d;m=m<0?Math.max(0,m+d):Math.min(d,m),h=h<0?Math.max(0,h+d):Math.min(d,h);let g=[];for(let y=m;y<h;y+=f)this._trace(qA(y,t),r,n,s,i,a,!0).forEach(_=>{g.push(_)});return g};Ae.prototype._eval=function(e,t,r,n,s,i){this.currSandbox._$_parentProperty=i,this.currSandbox._$_parent=s,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=t;let a=e.includes("@path");a&&(this.currSandbox._$_path=Ae.toPathString(n.concat([r])));let d=this.currEval+"Script:"+e;if(!Ae.cache[d]){let p=e.replaceAll("@parentProperty","_$_parentProperty").replaceAll("@parent","_$_parent").replaceAll("@property","_$_property").replaceAll("@root","_$_root").replaceAll(/@([.\s)[])/gu,"_$_v$1");if(a&&(p=p.replaceAll("@path","_$_path")),this.currEval==="safe"||this.currEval===!0||this.currEval===void 0)Ae.cache[d]=new this.safeVm.Script(p);else if(this.currEval==="native")Ae.cache[d]=new this.vm.Script(p);else if(typeof this.currEval=="function"&&this.currEval.prototype&&Object.hasOwn(this.currEval.prototype,"runInNewContext")){let f=this.currEval;Ae.cache[d]=new f(p)}else if(typeof this.currEval=="function")Ae.cache[d]={runInNewContext:o(f=>this.currEval(p,f),"runInNewContext")};else throw new TypeError(`Unknown "eval" property "${this.currEval}"`)}try{return Ae.cache[d].runInNewContext(this.currSandbox)}catch(p){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+p.message+": "+e)}};Ae.cache={};Ae.toPathString=function(e){let t=e,r=t.length,n="$";for(let s=1;s<r;s++)/^(~|\^|@.*?\(\))$/u.test(t[s])||(n+=/^[0-9*]+$/u.test(t[s])?"["+t[s]+"]":"['"+t[s]+"']");return n};Ae.toPointer=function(e){let t=e,r=t.length,n="";for(let s=1;s<r;s++)/^(~|\^|@.*?\(\))$/u.test(t[s])||(n+="/"+t[s].toString().replaceAll("~","~0").replaceAll("/","~1"));return n};Ae.toPathArray=function(e){let{cache:t}=Ae;if(t[e])return t[e].concat();let r=[],s=e.replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replaceAll(/[['](\??\(.*?\))[\]'](?!.\])/gu,function(i,a){return"[#"+(r.push(a)-1)+"]"}).replaceAll(/\[['"]([^'\]]*)['"]\]/gu,function(i,a){return"['"+a.replaceAll(".","%@%").replaceAll("~","%%@@%%")+"']"}).replaceAll("~",";~;").replaceAll(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replaceAll("%@%",".").replaceAll("%%@@%%","~").replaceAll(/(?:;)?(\^+)(?:;)?/gu,function(i,a){return";"+a.split("").join(";")+";"}).replaceAll(/;;;|;;/gu,";..;").replaceAll(/;$|'?\]|'$/gu,"").split(";").map(function(i){let a=i.match(/#(\d+)/u);return!a||!a[1]?i:r[a[1]]});return t[e]=s,t[e].concat()};Ae.prototype.safeVm={Script:UA};zoe=o(function(e,t,r){let n=e.length;for(let s=0;s<n;s++){let i=e[s];r(i)&&t.push(e.splice(s--,1)[0])}},"moveToAnotherArray"),zA=class{static{o(this,"Script")}constructor(t){this.code=t}runInNewContext(t){let r=this.code,n=Object.keys(t),s=[];zoe(n,s,f=>typeof t[f]=="function");let i=n.map(f=>t[f]);r=s.reduce((f,m)=>{let h=t[m].toString();return/function/u.test(h)||(h="function "+h),"var "+m+"="+h+";"+f},"")+r,!/(['"])use strict\1/u.test(r)&&!n.includes("arguments")&&(r="var arguments = undefined;"+r),r=r.replace(/;\s*$/u,"");let d=r.lastIndexOf(";"),p=d!==-1?r.slice(0,d+1)+" return "+r.slice(d+1):" return "+r;return new Function(...n,p)(...i)}};Ae.prototype.vm={Script:zA}});import tae from"crypto";var Ox=b((VHt,Y6)=>{l();u();c();Y6.exports=tae});var X6=b((YHt,Q6)=>{l();u();c();var Bc=1e3,Dc=Bc*60,Nc=Dc*60,aa=Nc*24,rae=aa*7,nae=aa*365.25;Q6.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return sae(e);if(r==="number"&&isFinite(e))return t.long?oae(e):iae(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function sae(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*nae;case"weeks":case"week":case"w":return r*rae;case"days":case"day":case"d":return r*aa;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Nc;case"minutes":case"minute":case"mins":case"min":case"m":return r*Dc;case"seconds":case"second":case"secs":case"sec":case"s":return r*Bc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(sae,"parse");function iae(e){var t=Math.abs(e);return t>=aa?Math.round(e/aa)+"d":t>=Nc?Math.round(e/Nc)+"h":t>=Dc?Math.round(e/Dc)+"m":t>=Bc?Math.round(e/Bc)+"s":e+"ms"}o(iae,"fmtShort");function oae(e){var t=Math.abs(e);return t>=aa?kx(e,t,aa,"day"):t>=Nc?kx(e,t,Nc,"hour"):t>=Dc?kx(e,t,Dc,"minute"):t>=Bc?kx(e,t,Bc,"second"):e+" ms"}o(oae,"fmtLong");function kx(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}o(kx,"plural")});var YA=b((tzt,Z6)=>{l();u();c();function aae(e){r.debug=r,r.default=r,r.coerce=p,r.disable=a,r.enable=s,r.enabled=d,r.humanize=X6(),r.destroy=f,Object.keys(e).forEach(m=>{r[m]=e[m]}),r.names=[],r.skips=[],r.formatters={};function t(m){let h=0;for(let g=0;g<m.length;g++)h=(h<<5)-h+m.charCodeAt(g),h|=0;return r.colors[Math.abs(h)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(m){let h,g=null,y,x;function _(...E){if(!_.enabled)return;let T=_,k=Number(new Date),D=k-(h||k);T.diff=D,T.prev=h,T.curr=k,h=k,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let I=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(G,ee)=>{if(G==="%%")return"%";I++;let K=r.formatters[ee];if(typeof K=="function"){let te=E[I];G=K.call(T,te),E.splice(I,1),I--}return G}),r.formatArgs.call(T,E),(T.log||r.log).apply(T,E)}return o(_,"debug"),_.namespace=m,_.useColors=r.useColors(),_.color=r.selectColor(m),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:o(()=>g!==null?g:(y!==r.namespaces&&(y=r.namespaces,x=r.enabled(m)),x),"get"),set:o(E=>{g=E},"set")}),typeof r.init=="function"&&r.init(_),_}o(r,"createDebug");function n(m,h){let g=r(this.namespace+(typeof h>"u"?":":h)+m);return g.log=this.log,g}o(n,"extend");function s(m){r.save(m),r.namespaces=m,r.names=[],r.skips=[];let h=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let g of h)g[0]==="-"?r.skips.push(g.slice(1)):r.names.push(g)}o(s,"enable");function i(m,h){let g=0,y=0,x=-1,_=0;for(;g<m.length;)if(y<h.length&&(h[y]===m[g]||h[y]==="*"))h[y]==="*"?(x=y,_=g,y++):(g++,y++);else if(x!==-1)y=x+1,_++,g=_;else return!1;for(;y<h.length&&h[y]==="*";)y++;return y===h.length}o(i,"matchesTemplate");function a(){let m=[...r.names,...r.skips.map(h=>"-"+h)].join(",");return r.enable(""),m}o(a,"disable");function d(m){for(let h of r.skips)if(i(m,h))return!1;for(let h of r.names)if(i(m,h))return!0;return!1}o(d,"enabled");function p(m){return m instanceof Error?m.stack||m.message:m}o(p,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(f,"destroy"),r.enable(r.load()),r}o(aae,"setup");Z6.exports=aae});var e5=b((Mr,Rx)=>{l();u();c();Mr.formatArgs=uae;Mr.save=lae;Mr.load=dae;Mr.useColors=cae;Mr.storage=pae();Mr.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Mr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function cae(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&"Cloudflare-Workers".toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&"Cloudflare-Workers"&&(e="Cloudflare-Workers".toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&"Cloudflare-Workers"&&"Cloudflare-Workers".toLowerCase().match(/applewebkit\/(\d+)/)}o(cae,"useColors");function uae(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Rx.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}o(uae,"formatArgs");Mr.log=console.debug||console.log||(()=>{});function lae(e){try{e?Mr.storage.setItem("debug",e):Mr.storage.removeItem("debug")}catch{}}o(lae,"save");function dae(){let e;try{e=Mr.storage.getItem("debug")||Mr.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(dae,"load");function pae(){try{return localStorage}catch{}}o(pae,"localstorage");Rx.exports=YA()(Mr);var{formatters:fae}=Rx.exports;fae.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var r5=b((dzt,t5)=>{l();u();c();Jv();t5.exports=tO});import mae from"util";var s5=b((gzt,n5)=>{l();u();c();n5.exports=mae});var o5=b((vzt,i5)=>{"use strict";l();u();c();i5.exports={stdout:!1,stderr:!1}});var c5=b((Tt,Px)=>{l();u();c();var hae=r5(),Mx=s5();Tt.init=Sae;Tt.log=xae;Tt.formatArgs=yae;Tt.save=vae;Tt.load=_ae;Tt.useColors=gae;Tt.destroy=Mx.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Tt.colors=[6,2,3,4,5,1];try{let e=o5();e&&(e.stderr||e).level>=2&&(Tt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Tt.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function gae(){return"colors"in Tt.inspectOpts?!!Tt.inspectOpts.colors:hae.isatty(process.stderr.fd)}o(gae,"useColors");function yae(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(s+"m+"+Px.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=bae()+t+" "+e[0]}o(yae,"formatArgs");function bae(){return Tt.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(bae,"getDate");function xae(...e){return process.stderr.write(Mx.formatWithOptions(Tt.inspectOpts,...e)+`
`)}o(xae,"log");function vae(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(vae,"save");function _ae(){return process.env.DEBUG}o(_ae,"load");function Sae(e){e.inspectOpts={};let t=Object.keys(Tt.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Tt.inspectOpts[t[r]]}o(Sae,"init");Px.exports=YA()(Tt);var{formatters:a5}=Px.exports;a5.o=function(e){return this.inspectOpts.colors=this.useColors,Mx.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};a5.O=function(e){return this.inspectOpts.colors=this.useColors,Mx.inspect(e,this.inspectOpts)}});var ca=b((Ozt,QA)=>{l();u();c();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?QA.exports=e5():QA.exports=c5()});var Ix=b(fs=>{"use strict";l();u();c();Object.defineProperty(fs,"__esModule",{value:!0});fs.indexed=fs.zip=fs.fmtCaption=fs.env=void 0;fs.env=process.env;function wae(e){if(!e)return;let t=e.caption;if(!t||typeof t=="string")return e;let{text:r,entities:n}=t;return{...e,caption:r,...n&&{caption_entities:n,parse_mode:void 0}}}o(wae,"fmtCaption");fs.fmtCaption=wae;function*Eae(e,t){let r=e[Symbol.iterator](),n=t[Symbol.iterator](),s=r.next(),i=n.next();for(;!s.done;)yield s.value,i.done||(yield i.value),s=r.next(),i=n.next();for(;!i.done;)yield i.value,i=n.next()}o(Eae,"zip");fs.zip=Eae;function Cae(e,t){return new Proxy(e,{get:o(function(r,n,s){return(typeof n=="string"||typeof n=="number")&&!isNaN(+n)?t.call(r,+n):Reflect.get(r,n,s)},"get")})}o(Cae,"indexed");fs.indexed=Cae});var l5=b(js=>{"use strict";l();u();c();Object.defineProperty(js,"__esModule",{value:!0});js.MessageReactions=js.ReactionList=js.Digit=void 0;var u5=Ix();js.Digit=new Set(["0","1","2","3","4","5","6","7","8","9"]);var Aae=o(e=>e.type==="custom_emoji"?`Custom(${e.custom_emoji_id})`:e.emoji,"inspectReaction"),Lc=class e{static{o(this,"ReactionList")}constructor(t){this.list=t}static fromArray(t=[]){return(0,u5.indexed)(new e(t),function(r){return this.list[r]})}static has(t,r){return typeof r=="string"?js.Digit.has(r[0])?t.some(n=>n.custom_emoji_id===r):t.some(n=>n.emoji===r):t.some(n=>{if(n.type==="custom_emoji")return n.custom_emoji_id===r.custom_emoji_id;if(n.type==="emoji")return n.emoji===r.emoji})}toArray(){return[...this.list]}filter(t){return e.fromArray(this.list.filter(t))}has(t){return e.has(this.list,t)}get count(){return this.list.length}[Symbol.iterator](){return this.list[Symbol.iterator]()}[Symbol.for("nodejs.util.inspect.custom")](){return["ReactionList {",this.list.map(Aae).join(", "),"}"].join(" ")}};js.ReactionList=Lc;var XA=class e extends Lc{static{o(this,"MessageReactions")}constructor(t){var r,n;super((n=(r=t.update.message_reaction)===null||r===void 0?void 0:r.new_reaction)!==null&&n!==void 0?n:[]),this.ctx=t}static from(t){return(0,u5.indexed)(new e(t),function(r){return this.list[r]})}get old(){var t;return Lc.fromArray((t=this.ctx.update.message_reaction)===null||t===void 0?void 0:t.old_reaction)}get new(){var t;return Lc.fromArray((t=this.ctx.update.message_reaction)===null||t===void 0?void 0:t.new_reaction)}get added(){return this.new.filter(t=>!this.old.has(t))}get removed(){return this.old.filter(t=>!this.new.has(t))}get kept(){return this.new.filter(t=>this.old.has(t))}};js.MessageReactions=XA});var Dx=b(ua=>{"use strict";l();u();c();var Tae=ua&&ua.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ua,"__esModule",{value:!0});ua.Context=void 0;var Oae=Tae(ca()),d5=l5(),kae=(0,Oae.default)("telegraf:context"),Bx=class{static{o(this,"Context")}constructor(t,r,n){this.update=t,this.telegram=r,this.botInfo=n,this.state={}}get updateType(){for(let t in this.update)if(typeof this.update[t]=="object")return t;throw new Error(`Cannot determine \`updateType\` of ${JSON.stringify(this.update)}`)}get me(){var t;return(t=this.botInfo)===null||t===void 0?void 0:t.username}get tg(){return this.telegram}get message(){return this.update.message}get editedMessage(){return this.update.edited_message}get inlineQuery(){return this.update.inline_query}get shippingQuery(){return this.update.shipping_query}get preCheckoutQuery(){return this.update.pre_checkout_query}get chosenInlineResult(){return this.update.chosen_inline_result}get channelPost(){return this.update.channel_post}get editedChannelPost(){return this.update.edited_channel_post}get messageReaction(){return this.update.message_reaction}get messageReactionCount(){return this.update.message_reaction_count}get callbackQuery(){return this.update.callback_query}get poll(){return this.update.poll}get pollAnswer(){return this.update.poll_answer}get myChatMember(){return this.update.my_chat_member}get chatMember(){return this.update.chat_member}get chatJoinRequest(){return this.update.chat_join_request}get chatBoost(){return this.update.chat_boost}get removedChatBoost(){return this.update.removed_chat_boost}get msg(){return f5(this)}get msgId(){return Pae(this)}get chat(){var t,r,n,s,i,a,d;return(d=(a=(i=(s=(n=(r=(t=this.msg)!==null&&t!==void 0?t:this.messageReaction)!==null&&r!==void 0?r:this.messageReactionCount)!==null&&n!==void 0?n:this.chatJoinRequest)!==null&&s!==void 0?s:this.chatMember)!==null&&i!==void 0?i:this.myChatMember)!==null&&a!==void 0?a:this.removedChatBoost)===null||d===void 0?void 0:d.chat}get senderChat(){let t=this.msg;return t?.has("sender_chat")&&t.sender_chat}get from(){return Mae(this)}get inlineMessageId(){var t,r;return(r=(t=this.callbackQuery)!==null&&t!==void 0?t:this.chosenInlineResult)===null||r===void 0?void 0:r.inline_message_id}get passportData(){var t;if(this.message!=null&&"passport_data"in this.message)return(t=this.message)===null||t===void 0?void 0:t.passport_data}get webAppData(){if(!(this.message&&"web_app_data"in this.message))return;let{data:t,button_text:r}=this.message.web_app_data;return{data:{json(){return JSON.parse(t)},text(){return t}},button_text:r}}get webhookReply(){return this.telegram.webhookReply}set webhookReply(t){this.telegram.webhookReply=t}get reactions(){return d5.MessageReactions.from(this)}assert(t,r){if(t===void 0)throw new TypeError(`Telegraf: "${r}" isn't available for "${this.updateType}"`)}has(t){Array.isArray(t)||(t=[t]);for(let r of t)if(typeof r!="string"?r(this.update):r in this.update)return!0;return!1}get text(){return p5(this)[0]}entities(...t){let[r="",n=[]]=p5(this);return(t.length?n.filter(s=>t.includes(s.type)):n).map(s=>({...s,fragment:r.slice(s.offset,s.offset+s.length)}))}answerInlineQuery(...t){return this.assert(this.inlineQuery,"answerInlineQuery"),this.telegram.answerInlineQuery(this.inlineQuery.id,...t)}answerCbQuery(...t){return this.assert(this.callbackQuery,"answerCbQuery"),this.telegram.answerCbQuery(this.callbackQuery.id,...t)}answerGameQuery(...t){return this.assert(this.callbackQuery,"answerGameQuery"),this.telegram.answerGameQuery(this.callbackQuery.id,...t)}getUserChatBoosts(){return this.assert(this.chat,"getUserChatBoosts"),this.assert(this.from,"getUserChatBoosts"),this.telegram.getUserChatBoosts(this.chat.id,this.from.id)}answerShippingQuery(...t){return this.assert(this.shippingQuery,"answerShippingQuery"),this.telegram.answerShippingQuery(this.shippingQuery.id,...t)}answerPreCheckoutQuery(...t){return this.assert(this.preCheckoutQuery,"answerPreCheckoutQuery"),this.telegram.answerPreCheckoutQuery(this.preCheckoutQuery.id,...t)}editMessageText(t,r){var n,s;return this.assert((n=this.msgId)!==null&&n!==void 0?n:this.inlineMessageId,"editMessageText"),this.telegram.editMessageText((s=this.chat)===null||s===void 0?void 0:s.id,this.msgId,this.inlineMessageId,t,r)}editMessageCaption(t,r){var n,s;return this.assert((n=this.msgId)!==null&&n!==void 0?n:this.inlineMessageId,"editMessageCaption"),this.telegram.editMessageCaption((s=this.chat)===null||s===void 0?void 0:s.id,this.msgId,this.inlineMessageId,t,r)}editMessageMedia(t,r){var n,s;return this.assert((n=this.msgId)!==null&&n!==void 0?n:this.inlineMessageId,"editMessageMedia"),this.telegram.editMessageMedia((s=this.chat)===null||s===void 0?void 0:s.id,this.msgId,this.inlineMessageId,t,r)}editMessageReplyMarkup(t){var r,n;return this.assert((r=this.msgId)!==null&&r!==void 0?r:this.inlineMessageId,"editMessageReplyMarkup"),this.telegram.editMessageReplyMarkup((n=this.chat)===null||n===void 0?void 0:n.id,this.msgId,this.inlineMessageId,t)}editMessageLiveLocation(t,r,n){var s,i;return this.assert((s=this.msgId)!==null&&s!==void 0?s:this.inlineMessageId,"editMessageLiveLocation"),this.telegram.editMessageLiveLocation((i=this.chat)===null||i===void 0?void 0:i.id,this.msgId,this.inlineMessageId,t,r,n)}stopMessageLiveLocation(t){var r,n;return this.assert((r=this.msgId)!==null&&r!==void 0?r:this.inlineMessageId,"stopMessageLiveLocation"),this.telegram.stopMessageLiveLocation((n=this.chat)===null||n===void 0?void 0:n.id,this.msgId,this.inlineMessageId,t)}sendMessage(t,r){return this.assert(this.chat,"sendMessage"),this.telegram.sendMessage(this.chat.id,t,{message_thread_id:gt(this),...r})}reply(...t){return this.sendMessage(...t)}getChat(...t){return this.assert(this.chat,"getChat"),this.telegram.getChat(this.chat.id,...t)}exportChatInviteLink(...t){return this.assert(this.chat,"exportChatInviteLink"),this.telegram.exportChatInviteLink(this.chat.id,...t)}createChatInviteLink(...t){return this.assert(this.chat,"createChatInviteLink"),this.telegram.createChatInviteLink(this.chat.id,...t)}editChatInviteLink(...t){return this.assert(this.chat,"editChatInviteLink"),this.telegram.editChatInviteLink(this.chat.id,...t)}revokeChatInviteLink(...t){return this.assert(this.chat,"revokeChatInviteLink"),this.telegram.revokeChatInviteLink(this.chat.id,...t)}banChatMember(...t){return this.assert(this.chat,"banChatMember"),this.telegram.banChatMember(this.chat.id,...t)}get kickChatMember(){return this.banChatMember}unbanChatMember(...t){return this.assert(this.chat,"unbanChatMember"),this.telegram.unbanChatMember(this.chat.id,...t)}restrictChatMember(...t){return this.assert(this.chat,"restrictChatMember"),this.telegram.restrictChatMember(this.chat.id,...t)}promoteChatMember(...t){return this.assert(this.chat,"promoteChatMember"),this.telegram.promoteChatMember(this.chat.id,...t)}setChatAdministratorCustomTitle(...t){return this.assert(this.chat,"setChatAdministratorCustomTitle"),this.telegram.setChatAdministratorCustomTitle(this.chat.id,...t)}setChatPhoto(...t){return this.assert(this.chat,"setChatPhoto"),this.telegram.setChatPhoto(this.chat.id,...t)}deleteChatPhoto(...t){return this.assert(this.chat,"deleteChatPhoto"),this.telegram.deleteChatPhoto(this.chat.id,...t)}setChatTitle(...t){return this.assert(this.chat,"setChatTitle"),this.telegram.setChatTitle(this.chat.id,...t)}setChatDescription(...t){return this.assert(this.chat,"setChatDescription"),this.telegram.setChatDescription(this.chat.id,...t)}pinChatMessage(...t){return this.assert(this.chat,"pinChatMessage"),this.telegram.pinChatMessage(this.chat.id,...t)}unpinChatMessage(...t){return this.assert(this.chat,"unpinChatMessage"),this.telegram.unpinChatMessage(this.chat.id,...t)}unpinAllChatMessages(...t){return this.assert(this.chat,"unpinAllChatMessages"),this.telegram.unpinAllChatMessages(this.chat.id,...t)}leaveChat(...t){return this.assert(this.chat,"leaveChat"),this.telegram.leaveChat(this.chat.id,...t)}setChatPermissions(...t){return this.assert(this.chat,"setChatPermissions"),this.telegram.setChatPermissions(this.chat.id,...t)}getChatAdministrators(...t){return this.assert(this.chat,"getChatAdministrators"),this.telegram.getChatAdministrators(this.chat.id,...t)}getChatMember(...t){return this.assert(this.chat,"getChatMember"),this.telegram.getChatMember(this.chat.id,...t)}getChatMembersCount(...t){return this.assert(this.chat,"getChatMembersCount"),this.telegram.getChatMembersCount(this.chat.id,...t)}setPassportDataErrors(t){return this.assert(this.from,"setPassportDataErrors"),this.telegram.setPassportDataErrors(this.from.id,t)}sendPhoto(t,r){return this.assert(this.chat,"sendPhoto"),this.telegram.sendPhoto(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithPhoto(...t){return this.sendPhoto(...t)}sendMediaGroup(t,r){return this.assert(this.chat,"sendMediaGroup"),this.telegram.sendMediaGroup(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithMediaGroup(...t){return this.sendMediaGroup(...t)}sendAudio(t,r){return this.assert(this.chat,"sendAudio"),this.telegram.sendAudio(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithAudio(...t){return this.sendAudio(...t)}sendDice(t){return this.assert(this.chat,"sendDice"),this.telegram.sendDice(this.chat.id,{message_thread_id:gt(this),...t})}replyWithDice(...t){return this.sendDice(...t)}sendDocument(t,r){return this.assert(this.chat,"sendDocument"),this.telegram.sendDocument(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithDocument(...t){return this.sendDocument(...t)}sendSticker(t,r){return this.assert(this.chat,"sendSticker"),this.telegram.sendSticker(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithSticker(...t){return this.sendSticker(...t)}sendVideo(t,r){return this.assert(this.chat,"sendVideo"),this.telegram.sendVideo(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithVideo(...t){return this.sendVideo(...t)}sendAnimation(t,r){return this.assert(this.chat,"sendAnimation"),this.telegram.sendAnimation(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithAnimation(...t){return this.sendAnimation(...t)}sendVideoNote(t,r){return this.assert(this.chat,"sendVideoNote"),this.telegram.sendVideoNote(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithVideoNote(...t){return this.sendVideoNote(...t)}sendInvoice(t,r){return this.assert(this.chat,"sendInvoice"),this.telegram.sendInvoice(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithInvoice(...t){return this.sendInvoice(...t)}sendGame(t,r){return this.assert(this.chat,"sendGame"),this.telegram.sendGame(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithGame(...t){return this.sendGame(...t)}sendVoice(t,r){return this.assert(this.chat,"sendVoice"),this.telegram.sendVoice(this.chat.id,t,{message_thread_id:gt(this),...r})}replyWithVoice(...t){return this.sendVoice(...t)}sendPoll(t,r,n){return this.assert(this.chat,"sendPoll"),this.telegram.sendPoll(this.chat.id,t,r,{message_thread_id:gt(this),...n})}replyWithPoll(...t){return this.sendPoll(...t)}sendQuiz(t,r,n){return this.assert(this.chat,"sendQuiz"),this.telegram.sendQuiz(this.chat.id,t,r,{message_thread_id:gt(this),...n})}replyWithQuiz(...t){return this.sendQuiz(...t)}stopPoll(...t){return this.assert(this.chat,"stopPoll"),this.telegram.stopPoll(this.chat.id,...t)}sendChatAction(t,r){return this.assert(this.chat,"sendChatAction"),this.telegram.sendChatAction(this.chat.id,t,{message_thread_id:gt(this),...r})}async persistentChatAction(t,r,{intervalDuration:n,...s}={}){await this.sendChatAction(t,{...s});let i=setInterval(()=>this.sendChatAction(t,{...s}).catch(a=>{kae("Ignored error while persisting sendChatAction:",a)}),n??4e3);try{await r()}finally{clearInterval(i)}}replyWithChatAction(...t){return this.sendChatAction(...t)}react(t,r){this.assert(this.chat,"setMessageReaction"),this.assert(this.msgId,"setMessageReaction");let n=t?Array.isArray(t)?t:[t]:void 0,s=n?.map(i=>typeof i=="string"?d5.Digit.has(i[0])?{type:"custom_emoji",custom_emoji_id:i}:{type:"emoji",emoji:i}:i);return this.telegram.setMessageReaction(this.chat.id,this.msgId,s,r)}sendLocation(t,r,n){return this.assert(this.chat,"sendLocation"),this.telegram.sendLocation(this.chat.id,t,r,{message_thread_id:gt(this),...n})}replyWithLocation(...t){return this.sendLocation(...t)}sendVenue(t,r,n,s,i){return this.assert(this.chat,"sendVenue"),this.telegram.sendVenue(this.chat.id,t,r,n,s,{message_thread_id:gt(this),...i})}replyWithVenue(...t){return this.sendVenue(...t)}sendContact(t,r,n){return this.assert(this.chat,"sendContact"),this.telegram.sendContact(this.chat.id,t,r,{message_thread_id:gt(this),...n})}replyWithContact(...t){return this.sendContact(...t)}getStickerSet(t){return this.telegram.getStickerSet(t)}setChatStickerSet(t){return this.assert(this.chat,"setChatStickerSet"),this.telegram.setChatStickerSet(this.chat.id,t)}deleteChatStickerSet(){return this.assert(this.chat,"deleteChatStickerSet"),this.telegram.deleteChatStickerSet(this.chat.id)}createForumTopic(...t){return this.assert(this.chat,"createForumTopic"),this.telegram.createForumTopic(this.chat.id,...t)}editForumTopic(t){var r;return this.assert(this.chat,"editForumTopic"),this.assert((r=this.message)===null||r===void 0?void 0:r.message_thread_id,"editForumTopic"),this.telegram.editForumTopic(this.chat.id,this.message.message_thread_id,t)}closeForumTopic(){var t;return this.assert(this.chat,"closeForumTopic"),this.assert((t=this.message)===null||t===void 0?void 0:t.message_thread_id,"closeForumTopic"),this.telegram.closeForumTopic(this.chat.id,this.message.message_thread_id)}reopenForumTopic(){var t;return this.assert(this.chat,"reopenForumTopic"),this.assert((t=this.message)===null||t===void 0?void 0:t.message_thread_id,"reopenForumTopic"),this.telegram.reopenForumTopic(this.chat.id,this.message.message_thread_id)}deleteForumTopic(){var t;return this.assert(this.chat,"deleteForumTopic"),this.assert((t=this.message)===null||t===void 0?void 0:t.message_thread_id,"deleteForumTopic"),this.telegram.deleteForumTopic(this.chat.id,this.message.message_thread_id)}unpinAllForumTopicMessages(){var t;return this.assert(this.chat,"unpinAllForumTopicMessages"),this.assert((t=this.message)===null||t===void 0?void 0:t.message_thread_id,"unpinAllForumTopicMessages"),this.telegram.unpinAllForumTopicMessages(this.chat.id,this.message.message_thread_id)}editGeneralForumTopic(t){return this.assert(this.chat,"editGeneralForumTopic"),this.telegram.editGeneralForumTopic(this.chat.id,t)}closeGeneralForumTopic(){return this.assert(this.chat,"closeGeneralForumTopic"),this.telegram.closeGeneralForumTopic(this.chat.id)}reopenGeneralForumTopic(){return this.assert(this.chat,"reopenGeneralForumTopic"),this.telegram.reopenGeneralForumTopic(this.chat.id)}hideGeneralForumTopic(){return this.assert(this.chat,"hideGeneralForumTopic"),this.telegram.hideGeneralForumTopic(this.chat.id)}unhideGeneralForumTopic(){return this.assert(this.chat,"unhideGeneralForumTopic"),this.telegram.unhideGeneralForumTopic(this.chat.id)}unpinAllGeneralForumTopicMessages(){return this.assert(this.chat,"unpinAllGeneralForumTopicMessages"),this.telegram.unpinAllGeneralForumTopicMessages(this.chat.id)}setStickerPositionInSet(t,r){return this.telegram.setStickerPositionInSet(t,r)}setStickerSetThumb(...t){return this.telegram.setStickerSetThumbnail(...t)}setStickerSetThumbnail(...t){return this.telegram.setStickerSetThumbnail(...t)}setStickerMaskPosition(...t){return this.telegram.setStickerMaskPosition(...t)}setStickerKeywords(...t){return this.telegram.setStickerKeywords(...t)}setStickerEmojiList(...t){return this.telegram.setStickerEmojiList(...t)}deleteStickerSet(...t){return this.telegram.deleteStickerSet(...t)}setStickerSetTitle(...t){return this.telegram.setStickerSetTitle(...t)}setCustomEmojiStickerSetThumbnail(...t){return this.telegram.setCustomEmojiStickerSetThumbnail(...t)}deleteStickerFromSet(t){return this.telegram.deleteStickerFromSet(t)}uploadStickerFile(...t){return this.assert(this.from,"uploadStickerFile"),this.telegram.uploadStickerFile(this.from.id,...t)}createNewStickerSet(...t){return this.assert(this.from,"createNewStickerSet"),this.telegram.createNewStickerSet(this.from.id,...t)}addStickerToSet(...t){return this.assert(this.from,"addStickerToSet"),this.telegram.addStickerToSet(this.from.id,...t)}getMyCommands(){return this.telegram.getMyCommands()}setMyCommands(t){return this.telegram.setMyCommands(t)}replyWithMarkdown(t,r){return this.reply(t,{parse_mode:"Markdown",...r})}replyWithMarkdownV2(t,r){return this.reply(t,{parse_mode:"MarkdownV2",...r})}replyWithHTML(t,r){return this.reply(t,{parse_mode:"HTML",...r})}deleteMessage(t){return this.assert(this.chat,"deleteMessage"),typeof t<"u"?this.telegram.deleteMessage(this.chat.id,t):(this.assert(this.msgId,"deleteMessage"),this.telegram.deleteMessage(this.chat.id,this.msgId))}deleteMessages(t){return this.assert(this.chat,"deleteMessages"),this.telegram.deleteMessages(this.chat.id,t)}forwardMessage(t,r){return this.assert(this.chat,"forwardMessage"),this.assert(this.msgId,"forwardMessage"),this.telegram.forwardMessage(t,this.chat.id,this.msgId,r)}forwardMessages(t,r,n){return this.assert(this.chat,"forwardMessages"),this.telegram.forwardMessages(t,this.chat.id,r,n)}copyMessage(t,r){return this.assert(this.chat,"copyMessage"),this.assert(this.msgId,"copyMessage"),this.telegram.copyMessage(t,this.chat.id,this.msgId,r)}copyMessages(t,r,n){var s;return this.assert(this.chat,"copyMessages"),this.telegram.copyMessages(t,(s=this.chat)===null||s===void 0?void 0:s.id,r,n)}approveChatJoinRequest(t){return this.assert(this.chat,"approveChatJoinRequest"),this.telegram.approveChatJoinRequest(this.chat.id,t)}declineChatJoinRequest(t){return this.assert(this.chat,"declineChatJoinRequest"),this.telegram.declineChatJoinRequest(this.chat.id,t)}banChatSenderChat(t){return this.assert(this.chat,"banChatSenderChat"),this.telegram.banChatSenderChat(this.chat.id,t)}unbanChatSenderChat(t){return this.assert(this.chat,"unbanChatSenderChat"),this.telegram.unbanChatSenderChat(this.chat.id,t)}setChatMenuButton(t){return this.assert(this.chat,"setChatMenuButton"),this.telegram.setChatMenuButton({chatId:this.chat.id,menuButton:t})}getChatMenuButton(){return this.assert(this.chat,"getChatMenuButton"),this.telegram.getChatMenuButton({chatId:this.chat.id})}setMyDefaultAdministratorRights(t){return this.telegram.setMyDefaultAdministratorRights(t)}getMyDefaultAdministratorRights(t){return this.telegram.getMyDefaultAdministratorRights(t)}};ua.Context=Bx;ua.default=Bx;var Rae={isAccessible(){return"date"in this&&this.date!==0},has(...e){return e.some(t=>this[t]!=null)}};function f5(e){var t,r,n,s,i;let a=(i=(s=(r=(t=e.message)!==null&&t!==void 0?t:e.editedMessage)!==null&&r!==void 0?r:(n=e.callbackQuery)===null||n===void 0?void 0:n.message)!==null&&s!==void 0?s:e.channelPost)!==null&&i!==void 0?i:e.editedChannelPost;if(a)return Object.assign(Object.create(Rae),a)}o(f5,"getMessageFromAnySource");function Mae(e){var t,r,n,s,i,a,d,p,f,m,h,g;if(e.callbackQuery)return e.callbackQuery.from;let y=e.msg;return y?.has("from")?y.from:(p=(d=(a=(i=(s=(n=(r=(t=e.inlineQuery)!==null&&t!==void 0?t:e.shippingQuery)!==null&&r!==void 0?r:e.preCheckoutQuery)!==null&&n!==void 0?n:e.chosenInlineResult)!==null&&s!==void 0?s:e.chatMember)!==null&&i!==void 0?i:e.myChatMember)!==null&&a!==void 0?a:e.chatJoinRequest)===null||d===void 0?void 0:d.from)!==null&&p!==void 0?p:(g=(m=(f=e.messageReaction)!==null&&f!==void 0?f:e.pollAnswer)!==null&&m!==void 0?m:(h=e.chatBoost)===null||h===void 0?void 0:h.boost.source)===null||g===void 0?void 0:g.user}o(Mae,"getUserFromAnySource");function Pae(e){var t,r;let n=f5(e);return(r=(t=n??e.messageReaction)!==null&&t!==void 0?t:e.messageReactionCount)===null||r===void 0?void 0:r.message_id}o(Pae,"getMsgIdFromAnySource");function p5(e){let t=e.msg,r,n;return t?"text"in t?(r=t.text,n=t.entities):"caption"in t?(r=t.caption,n=t.caption_entities):"game"in t&&(r=t.game.text,n=t.game.text_entities):e.poll&&(r=e.poll.explanation,n=e.poll.explanation_entities),[r,n]}o(p5,"getTextAndEntitiesFromAnySource");var gt=o(e=>{let t=e.msg;return t?.isAccessible()&&t.is_topic_message?t.message_thread_id:void 0},"getThreadId")});var ZA=b(Qt=>{"use strict";l();u();c();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.allOf=Qt.anyOf=Qt.callbackQuery=Qt.editedChannelPost=Qt.channelPost=Qt.editedMessage=Qt.message=void 0;var Iae=o((...e)=>t=>{if(!("message"in t))return!1;for(let r of e)if(!(r in t.message))return!1;return!0},"message");Qt.message=Iae;var Bae=o((...e)=>t=>{if(!("edited_message"in t))return!1;for(let r of e)if(!(r in t.edited_message))return!1;return!0},"editedMessage");Qt.editedMessage=Bae;var Dae=o((...e)=>t=>{if(!("channel_post"in t))return!1;for(let r of e)if(!(r in t.channel_post))return!1;return!0},"channelPost");Qt.channelPost=Dae;var Nae=o((...e)=>t=>{if(!("edited_channel_post"in t))return!1;for(let r of e)if(!(r in t.edited_channel_post))return!1;return!0},"editedChannelPost");Qt.editedChannelPost=Nae;var Lae=o((...e)=>t=>{if(!("callback_query"in t))return!1;for(let r of e)if(!(r in t.callback_query))return!1;return!0},"callbackQuery");Qt.callbackQuery=Lae;var Fae=o((...e)=>t=>{for(let r of e)if(r(t))return!0;return!1},"anyOf");Qt.anyOf=Fae;var jae=o((...e)=>t=>{for(let r of e)if(!r(t))return!1;return!0},"allOf");Qt.allOf=jae});var m5=b(Nx=>{"use strict";l();u();c();Object.defineProperty(Nx,"__esModule",{value:!0});Nx.argsParser=void 0;var Uae="'",qae='"';function Hae(e,t=[],r=0){let n={};for(let f of t)(f.type==="text_mention"||f.type==="text_link")&&(n[f.offset-r]=f.length);let s=[],i=0,a,d="";function p(f){i!==f&&(s.push(d+e.slice(i,f)),a=void 0),d="",i=f+1}o(p,"flush");for(let f=0;f<e.length;f++){let m=e[f],h=n[f];if(h)p(f),i--,f+=h,p(f);else if(m===Uae||m===qae)if(a)if(a===m)p(f);else continue;else p(f),a=m;else if(m===" "){if(a)continue;p(f)}else if(m===`
`)p(f);else if(m==="\\")d+=e.slice(i,f),i=++f;else continue}return i<e.length&&p(e.length),s}o(Hae,"argsParser");Nx.argsParser=Hae});var Bi=b(la=>{"use strict";l();u();c();var zae=la&&la.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});la.Composer=void 0;var $ae=zae(Dx()),h5=ZA(),Jae=m5();function Vae(e){return()=>e}o(Vae,"always");var Lx=Vae(Promise.resolve()),Fc=class e{static{o(this,"Composer")}constructor(...t){this.handler=e.compose(t)}use(...t){return this.handler=e.compose([this.handler,...t]),this}guard(t,...r){return this.use(e.guard(t,...r))}on(t,...r){return this.use(e.on(t,...r))}hears(t,...r){return this.use(e.hears(t,...r))}command(t,...r){return this.use(e.command(t,...r))}action(t,...r){return this.use(e.action(t,...r))}inlineQuery(t,...r){return this.use(e.inlineQuery(t,...r))}gameQuery(...t){return this.use(e.gameQuery(...t))}reaction(t,...r){return this.use(e.reaction(t,...r))}drop(t){return this.use(e.drop(t))}filter(t){return this.use(e.filter(t))}entity(t,...r){return this.use(e.entity(t,...r))}email(t,...r){return this.use(e.email(t,...r))}url(t,...r){return this.use(e.url(t,...r))}textLink(t,...r){return this.use(e.textLink(t,...r))}textMention(t,...r){return this.use(e.textMention(t,...r))}mention(t,...r){return this.use(e.mention(t,...r))}phone(t,...r){return this.use(e.phone(t,...r))}hashtag(t,...r){return this.use(e.hashtag(t,...r))}cashtag(t,...r){return this.use(e.cashtag(t,...r))}spoiler(t,...r){return this.use(e.spoiler(t,...r))}start(...t){let r=e.compose(t);return this.command("start",(n,s)=>r(Object.assign(n,{startPayload:n.payload}),s))}help(...t){return this.command("help",...t)}settings(...t){return this.command("settings",...t)}middleware(){return this.handler}static reply(...t){return r=>r.reply(...t)}static catch(t,...r){let n=e.compose(r);return(s,i)=>Promise.resolve(n(s,i)).catch(a=>t(a,s))}static fork(t){let r=e.unwrap(t);return async(n,s)=>{await Promise.all([r(n,Lx),s()])}}static tap(t){let r=e.unwrap(t);return(n,s)=>Promise.resolve(r(n,Lx)).then(()=>s())}static passThru(){return(t,r)=>r()}static lazy(t){if(typeof t!="function")throw new Error("Argument must be a function");return(r,n)=>Promise.resolve(t(r)).then(s=>e.unwrap(s)(r,n))}static log(t=console.log){return(r,n)=>(t(JSON.stringify(r.update,null,2)),n())}static branch(t,r,n){return typeof t!="function"?e.unwrap(t?r:n):e.lazy(s=>Promise.resolve(t(s)).then(i=>i?r:n))}static optional(t,...r){return e.branch(t,e.compose(r),e.passThru())}static filter(t){return e.branch(t,e.passThru(),Lx)}static drop(t){return e.branch(t,Lx,e.passThru())}static dispatch(t,r){return e.lazy(n=>Promise.resolve(t(n)).then(s=>r[s]))}static guard(t,...r){return e.optional(n=>t(n.update),...r)}static on(t,...r){let n=Array.isArray(t)?t:[t],s=o(i=>{for(let a of n)if(typeof a!="string"?a(i):a in i||"message"in i&&a in i.message)return!0;return!1},"predicate");return e.optional(i=>s(i.update),...r)}static entity(t,...r){if(typeof t!="function"){let n=jx(t);return e.entity(({type:s})=>n.includes(s),...r)}return e.optional(n=>{var s;let i=(s=n.message)!==null&&s!==void 0?s:n.channelPost;if(i===void 0)return!1;let a=Fx(i),d=Gae(i);return a===void 0?!1:d.some(p=>t(p,a.substring(p.offset,p.offset+p.length),n))},...r)}static entityText(t,r,...n){if(n.length===0)return Array.isArray(r)?e.entity(t,...r):e.entity(t,r);let s=fd(r);return e.entity(({type:i},a,d)=>{if(i!==t)return!1;for(let p of s)if(d.match=p(a,d))return!0;return!1},...n)}static email(t,...r){return e.entityText("email",t,...r)}static phone(t,...r){return e.entityText("phone_number",t,...r)}static url(t,...r){return e.entityText("url",t,...r)}static textLink(t,...r){return e.entityText("text_link",t,...r)}static textMention(t,...r){return e.entityText("text_mention",t,...r)}static mention(t,...r){return e.entityText("mention",jx(t,"@"),...r)}static hashtag(t,...r){return e.entityText("hashtag",jx(t,"#"),...r)}static cashtag(t,...r){return e.entityText("cashtag",jx(t,"$"),...r)}static spoiler(t,...r){return e.entityText("spoiler",t,...r)}static match(t,...r){let n=e.compose(r);return(s,i)=>{var a,d,p,f;let m=(p=(d=(a=Fx(s.message))!==null&&a!==void 0?a:Fx(s.channelPost))!==null&&d!==void 0?d:Fx(s.callbackQuery))!==null&&p!==void 0?p:(f=s.inlineQuery)===null||f===void 0?void 0:f.query;if(m===void 0)return i();for(let h of t){let g=h(m,s);if(g)return n(Object.assign(s,{match:g}),i)}return i()}}static hears(t,...r){return e.on("text",e.match(fd(t),...r))}static command(t,...r){if(r.length===0)return e.entity("bot_command",t);let n=fd(t),s=(0,h5.message)("text"),i=e.compose(r);return e.on(s,(a,d)=>{let{entities:p}=a.message,f=p?.[0];if(f?.type!=="bot_command"||f.offset>0)return d();let m=f.length,h=a.message.text,[g,y]=h.slice(0,m).split("@");if(!g||y&&y.toLowerCase()!==a.me.toLowerCase())return d();let x=g.slice(1);for(let _ of n){let E=_(x,a);if(E){let T=m+1,k=h.slice(T),D=Object.assign(a,{match:E,command:x,payload:k,args:[]}),I;return Object.defineProperty(D,"args",{enumerable:!0,configurable:!0,get(){return I??(I=(0,Jae.argsParser)(k,p,T))},set(N){I=N}}),i(D,d)}}return d()})}static action(t,...r){return e.on("callback_query",e.match(fd(t),...r))}static inlineQuery(t,...r){return e.on("inline_query",e.match(fd(t),...r))}static reaction(t,...r){let n=Array.isArray(t)?t:[t],s=e.compose(r);return e.on("message_reaction",(i,a)=>{let d=n.find(p=>typeof p=="string"&&p.startsWith("-")?i.reactions.removed.has(p.slice(1)):i.reactions.added.has(p));return d?s(Object.assign(i,{match:d}),a):a()})}static acl(t,...r){if(typeof t=="function")return e.optional(t,...r);let n=Array.isArray(t)?t:[t];return e.optional(s=>!s.from||n.includes(s.from.id),...r)}static memberStatus(t,...r){let n=Array.isArray(t)?t:[t];return e.optional(async s=>{if(s.message===void 0)return!1;let i=await s.getChatMember(s.message.from.id);return n.includes(i.status)},...r)}static admin(...t){return e.memberStatus(["administrator","creator"],...t)}static creator(...t){return e.memberStatus("creator",...t)}static chatType(t,...r){let n=Array.isArray(t)?t:[t];return e.optional(s=>{let i=s.chat;return i!==void 0&&n.includes(i.type)},...r)}static privateChat(...t){return e.chatType("private",...t)}static groupChat(...t){return e.chatType(["group","supergroup"],...t)}static gameQuery(...t){return e.guard((0,h5.callbackQuery)("game_short_name"),...t)}static unwrap(t){if(!t)throw new Error("Handler is undefined");return"middleware"in t?t.middleware():t}static compose(t){if(!Array.isArray(t))throw new Error("Middlewares must be an array");return t.length===0?e.passThru():t.length===1?e.unwrap(t[0]):(r,n)=>{let s=-1;return i(0,r);async function i(a,d){var p;if(!(d instanceof $ae.default))throw new Error("next(ctx) called with invalid context");if(a<=s)throw new Error("next() called multiple times");s=a,await e.unwrap((p=t[a])!==null&&p!==void 0?p:n)(d,async(m=d)=>{await i(a+1,m)})}}}};la.Composer=Fc;Fc.mount=Fc.on;function Kae(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}o(Kae,"escapeRegExp");function fd(e){return Array.isArray(e)||(e=[e]),e.map(t=>{if(!t)throw new Error("Invalid trigger");if(typeof t=="function")return t;if(t instanceof RegExp)return(n="")=>(t.lastIndex=0,t.exec(n));let r=new RegExp(`^${Kae(t)}$`);return n=>r.exec(n)})}o(fd,"normaliseTriggers");function Gae(e){var t,r;return e==null?[]:"caption_entities"in e?(t=e.caption_entities)!==null&&t!==void 0?t:[]:"entities"in e?(r=e.entities)!==null&&r!==void 0?r:[]:[]}o(Gae,"getEntities");function Fx(e){if(e!=null){if("caption"in e)return e.caption;if("text"in e)return e.text;if("data"in e)return e.data;if("game_short_name"in e)return e.game_short_name}}o(Fx,"getText");function jx(e,t=""){return(Array.isArray(e)?e:[e]).filter(Boolean).map(n=>t&&typeof n=="string"&&!n.startsWith(t)?`${t}${n}`:n)}o(jx,"normaliseTextArguments");la.default=Fc});var eT=b(Ux=>{"use strict";l();u();c();Object.defineProperty(Ux,"__esModule",{value:!0});Ux.compactOptions=void 0;function Wae(e){if(!e)return e;let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r]!==void 0&&(t[r]=e[r]);return t}o(Wae,"compactOptions");Ux.compactOptions=Wae});var g5=b(md=>{"use strict";l();u();c();var Yae=md&&md.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(md,"__esModule",{value:!0});var Qae=Yae(ca()),qx=(0,Qae.default)("telegraf:webhook");function Xae(e,t){return async(r,n,s=()=>{n.statusCode=403,qx("Replying with status code",n.statusCode),n.end()})=>{if(qx("Incoming request",r.method,r.url),!e(r))return qx("Webhook filter failed",r.method,r.url),s();let i;try{if(r.body!=null){let a=r.body;a instanceof Buffer&&(a=String(r.body)),typeof a=="string"&&(a=JSON.parse(a)),i=a}else{let a="";for await(let d of r)a+=String(d);i=JSON.parse(a)}}catch(a){n.writeHead(415).end(),qx("Failed to parse request body:",a);return}return await t(i,n)}}o(Xae,"generateWebhook");md.default=Xae});var b5=b((b$t,Hx)=>{"use strict";l();u();c();var{AbortController:y5,AbortSignal:Zae}=typeof self<"u"?self:typeof window<"u"?window:void 0;Hx.exports=y5;Hx.exports.AbortSignal=Zae;Hx.exports.default=y5});var $x=b(hd=>{"use strict";l();u();c();Object.defineProperty(hd,"__esModule",{value:!0});hd.TelegramError=void 0;var zx=class extends Error{static{o(this,"TelegramError")}constructor(t,r={}){super(`${t.error_code}: ${t.description}`),this.response=t,this.on=r}get code(){return this.response.error_code}get description(){return this.response.description}get parameters(){return this.response.parameters}};hd.TelegramError=zx;hd.default=zx});var v5=b(jc=>{"use strict";l();u();c();var x5=jc&&jc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jc,"__esModule",{value:!0});jc.Polling=void 0;var ece=x5(b5()),tce=x5(ca()),tT=$x(),Jx=(0,tce.default)("telegraf:polling");function rce(e){return()=>e}o(rce,"always");var nce=rce(Promise.resolve()),rT=class{static{o(this,"Polling")}constructor(t,r){this.telegram=t,this.allowedUpdates=r,this.abortController=new ece.default,this.skipOffsetSync=!1,this.offset=0}async*[Symbol.asyncIterator](){var t,r;Jx("Starting long polling");do try{let n=await this.telegram.callApi("getUpdates",{timeout:50,offset:this.offset,allowed_updates:this.allowedUpdates},this.abortController),s=n[n.length-1];s!==void 0&&(this.offset=s.update_id+1),yield n}catch(n){let s=n;if(s.name==="AbortError")return;if(s.name==="FetchError"||s instanceof tT.TelegramError&&s.code===429||s instanceof tT.TelegramError&&s.code>=500){let i=(r=(t=s.parameters)===null||t===void 0?void 0:t.retry_after)!==null&&r!==void 0?r:5;Jx("Failed to fetch updates, retrying after %ds.",i,s),await new Promise(a=>setTimeout(a,i*1e3));continue}throw s instanceof tT.TelegramError&&(s.code===401||s.code===409)&&(this.skipOffsetSync=!0),s}while(!this.abortController.signal.aborted)}async syncUpdateOffset(){this.skipOffsetSync||(Jx("Syncing update offset..."),await this.telegram.callApi("getUpdates",{offset:this.offset,limit:1}))}async loop(t){if(this.abortController.signal.aborted)throw new Error("Polling instances must not be reused!");try{for await(let r of this)await Promise.all(r.map(t))}finally{Jx("Long polling stopped"),this.stop(),await this.syncUpdateOffset().catch(nce)}}stop(){this.abortController.abort()}};jc.Polling=rT});var S5=b((P$t,Kx)=>{"use strict";l();u();c();var Vx=class extends Error{static{o(this,"TimeoutError")}constructor(t){super(t),this.name="TimeoutError"}},_5=o((e,t,r,n)=>{let s,i=new Promise((a,d)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){a(e);return}n={customTimers:{setTimeout,clearTimeout},...n},s=n.customTimers.setTimeout.call(void 0,()=>{if(typeof r=="function"){try{a(r())}catch(m){d(m)}return}let p=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,f=r instanceof Error?r:new Vx(p);typeof e.cancel=="function"&&e.cancel(),d(f)},t),(async()=>{try{a(await e)}catch(p){d(p)}finally{n.customTimers.clearTimeout.call(void 0,s)}})()});return i.clear=()=>{clearTimeout(s),s=void 0},i},"pTimeout");Kx.exports=_5;Kx.exports.default=_5;Kx.exports.TimeoutError=Vx});var Gx,Wx,Yx,Qx,Xx,Zx,ev,tv,rv,nv,sv,iv,ov,av,cv,uv,lv,dv,pv,fv,mv,hv,gv,yv,bv,xv,vv,_v,w5,Sv,E5,wv=fe(()=>{l();u();c();Fi();Gx=F("fs.access"),Wx=F("fs.copyFile"),Yx=F("fs.cp"),Qx=F("fs.open"),Xx=F("fs.opendir"),Zx=F("fs.rename"),ev=F("fs.truncate"),tv=F("fs.rm"),rv=F("fs.rmdir"),nv=F("fs.mkdir"),sv=F("fs.readdir"),iv=F("fs.readlink"),ov=F("fs.symlink"),av=F("fs.lstat"),cv=F("fs.stat"),uv=F("fs.link"),lv=F("fs.unlink"),dv=F("fs.chmod"),pv=F("fs.lchmod"),fv=F("fs.lchown"),mv=F("fs.chown"),hv=F("fs.utimes"),gv=F("fs.lutimes"),yv=F("fs.realpath"),bv=F("fs.mkdtemp"),xv=F("fs.writeFile"),vv=F("fs.appendFile"),_v=F("fs.readFile"),w5=F("fs.watch"),Sv=F("fs.statfs"),E5=F("fs.glob")});var gd={};Hn(gd,{COPYFILE_EXCL:()=>eue,COPYFILE_FICLONE:()=>rue,COPYFILE_FICLONE_FORCE:()=>sue,EXTENSIONLESS_FORMAT_JAVASCRIPT:()=>bce,EXTENSIONLESS_FORMAT_WASM:()=>xce,F_OK:()=>C5,O_APPEND:()=>Ice,O_CREAT:()=>Oce,O_DIRECT:()=>jce,O_DIRECTORY:()=>Bce,O_DSYNC:()=>Fce,O_EXCL:()=>kce,O_NOATIME:()=>Dce,O_NOCTTY:()=>Mce,O_NOFOLLOW:()=>Nce,O_NONBLOCK:()=>Uce,O_RDONLY:()=>ace,O_RDWR:()=>uce,O_SYNC:()=>Lce,O_TRUNC:()=>Pce,O_WRONLY:()=>cce,R_OK:()=>A5,S_IFBLK:()=>Ece,S_IFCHR:()=>wce,S_IFDIR:()=>Sce,S_IFIFO:()=>Cce,S_IFLNK:()=>Ace,S_IFMT:()=>vce,S_IFREG:()=>_ce,S_IFSOCK:()=>Tce,S_IRGRP:()=>Vce,S_IROTH:()=>Yce,S_IRUSR:()=>Hce,S_IRWXG:()=>Jce,S_IRWXO:()=>Wce,S_IRWXU:()=>qce,S_IWGRP:()=>Kce,S_IWOTH:()=>Qce,S_IWUSR:()=>zce,S_IXGRP:()=>Gce,S_IXOTH:()=>Xce,S_IXUSR:()=>$ce,UV_DIRENT_BLOCK:()=>yce,UV_DIRENT_CHAR:()=>gce,UV_DIRENT_DIR:()=>pce,UV_DIRENT_FIFO:()=>mce,UV_DIRENT_FILE:()=>dce,UV_DIRENT_LINK:()=>fce,UV_DIRENT_SOCKET:()=>hce,UV_DIRENT_UNKNOWN:()=>lce,UV_FS_COPYFILE_EXCL:()=>Zce,UV_FS_COPYFILE_FICLONE:()=>tue,UV_FS_COPYFILE_FICLONE_FORCE:()=>nue,UV_FS_O_FILEMAP:()=>Rce,UV_FS_SYMLINK_DIR:()=>ice,UV_FS_SYMLINK_JUNCTION:()=>oce,W_OK:()=>T5,X_OK:()=>O5});var ice,oce,ace,cce,uce,lce,dce,pce,fce,mce,hce,gce,yce,bce,xce,vce,_ce,Sce,wce,Ece,Cce,Ace,Tce,Oce,kce,Rce,Mce,Pce,Ice,Bce,Dce,Nce,Lce,Fce,jce,Uce,qce,Hce,zce,$ce,Jce,Vce,Kce,Gce,Wce,Yce,Qce,Xce,C5,A5,T5,O5,Zce,eue,tue,rue,nue,sue,nT=fe(()=>{l();u();c();ice=1,oce=2,ace=0,cce=1,uce=2,lce=0,dce=1,pce=2,fce=3,mce=4,hce=5,gce=6,yce=7,bce=0,xce=1,vce=61440,_ce=32768,Sce=16384,wce=8192,Ece=24576,Cce=4096,Ace=40960,Tce=49152,Oce=64,kce=128,Rce=0,Mce=256,Pce=512,Ice=1024,Bce=65536,Dce=262144,Nce=131072,Lce=1052672,Fce=4096,jce=16384,Uce=2048,qce=448,Hce=256,zce=128,$ce=64,Jce=56,Vce=32,Kce=16,Gce=8,Wce=7,Yce=4,Qce=2,Xce=1,C5=0,A5=4,T5=2,O5=1,Zce=1,eue=1,tue=2,rue=2,nue=4,sue=4});var k5,R5=fe(()=>{l();u();c();wv();nT();wv();k5={constants:gd,access:Gx,appendFile:vv,chmod:dv,chown:mv,copyFile:Wx,cp:Yx,glob:E5,lchmod:pv,lchown:fv,link:uv,lstat:av,lutimes:gv,mkdir:nv,mkdtemp:bv,open:Qx,opendir:Xx,readFile:_v,readdir:sv,readlink:iv,realpath:yv,rename:Zx,rm:tv,rmdir:rv,stat:cv,statfs:Sv,symlink:ov,truncate:ev,unlink:lv,utimes:hv,watch:w5,writeFile:xv}});var M5,P5,I5,sT,iT,B5,D5,oT=fe(()=>{l();u();c();Fi();M5=Hs("fs.Dir"),P5=Hs("fs.Dirent"),I5=Hs("fs.Stats"),sT=Hs("fs.ReadStream"),iT=Hs("fs.WriteStream"),B5=sT,D5=iT});function Me(e){let t=o(function(...r){let n=r.pop();e().catch(s=>n(s)).then(s=>n(void 0,s))},"fnc");return t.__promisify__=e,t.native=t,t}var N5,L5,F5,j5,U5,q5,H5,z5,$5,J5,V5,K5,G5,W5,Y5,Q5,X5,Z5,eH,tH,rH,nH,sH,iH,oH,aH,cH,uH,lH,dH,pH,fH,mH,hH,gH,yH,bH,xH,vH,_H,SH,wH,EH,CH,AH,TH,OH,kH,RH,MH,PH,IH,BH,DH,NH,LH,FH,jH,UH,qH,HH,zH,$H,JH,VH,KH,GH,WH,YH,QH,XH,ZH,ez,tz,rz,nz,sz,iz,oz,az,cz,uz,lz,dz,pz,fz,mz,hz,gz,yz,bz,xz,vz,aT=fe(()=>{l();u();c();Fi();wv();o(Me,"callbackify");N5=Me(Gx),L5=Me(vv),F5=Me(mv),j5=Me(dv),U5=Me(Wx),q5=Me(Yx),H5=Me(fv),z5=Me(pv),$5=Me(uv),J5=Me(av),V5=Me(gv),K5=Me(nv),G5=Me(bv),W5=Me(yv),Y5=Me(Qx),Q5=Me(Xx),X5=Me(sv),Z5=Me(_v),eH=Me(iv),tH=Me(Zx),rH=Me(tv),nH=Me(rv),sH=Me(cv),iH=Me(ov),oH=Me(ev),aH=Me(lv),cH=Me(hv),uH=Me(xv),lH=Me(Sv),dH=je("fs.close"),pH=je("fs.createReadStream"),fH=je("fs.createWriteStream"),mH=je("fs.exists"),hH=je("fs.fchown"),gH=je("fs.fchmod"),yH=je("fs.fdatasync"),bH=je("fs.fstat"),xH=je("fs.fsync"),vH=je("fs.ftruncate"),_H=je("fs.futimes"),SH=je("fs.lstatSync"),wH=je("fs.read"),EH=je("fs.readv"),CH=je("fs.realpathSync"),AH=je("fs.statSync"),TH=je("fs.unwatchFile"),OH=je("fs.watch"),kH=je("fs.watchFile"),RH=je("fs.write"),MH=je("fs.writev"),PH=je("fs._toUnixTimestamp"),IH=je("fs.openAsBlob"),BH=je("fs.glob"),DH=F("fs.appendFileSync"),NH=F("fs.accessSync"),LH=F("fs.chownSync"),FH=F("fs.chmodSync"),jH=F("fs.closeSync"),UH=F("fs.copyFileSync"),qH=F("fs.cpSync"),HH=o(()=>!1,"existsSync"),zH=F("fs.fchownSync"),$H=F("fs.fchmodSync"),JH=F("fs.fdatasyncSync"),VH=F("fs.fstatSync"),KH=F("fs.fsyncSync"),GH=F("fs.ftruncateSync"),WH=F("fs.futimesSync"),YH=F("fs.lchownSync"),QH=F("fs.lchmodSync"),XH=F("fs.linkSync"),ZH=F("fs.lutimesSync"),ez=F("fs.mkdirSync"),tz=F("fs.mkdtempSync"),rz=F("fs.openSync"),nz=F("fs.opendirSync"),sz=F("fs.readdirSync"),iz=F("fs.readSync"),oz=F("fs.readvSync"),az=F("fs.readFileSync"),cz=F("fs.readlinkSync"),uz=F("fs.renameSync"),lz=F("fs.rmSync"),dz=F("fs.rmdirSync"),pz=F("fs.symlinkSync"),fz=F("fs.truncateSync"),mz=F("fs.unlinkSync"),hz=F("fs.utimesSync"),gz=F("fs.writeFileSync"),yz=F("fs.writeSync"),bz=F("fs.writevSync"),xz=F("fs.statfsSync"),vz=F("fs.globSync")});var _z,Sz=fe(()=>{l();u();c();R5();oT();aT();nT();aT();oT();_z={F_OK:0,R_OK:4,W_OK:2,X_OK:1,constants:gd,promises:k5,Dir:M5,Dirent:P5,FileReadStream:B5,FileWriteStream:D5,ReadStream:sT,Stats:I5,WriteStream:iT,_toUnixTimestamp:PH,access:N5,accessSync:NH,appendFile:L5,appendFileSync:DH,chmod:j5,chmodSync:FH,chown:F5,chownSync:LH,close:dH,closeSync:jH,copyFile:U5,copyFileSync:UH,cp:q5,cpSync:qH,createReadStream:pH,createWriteStream:fH,exists:mH,existsSync:HH,fchmod:gH,fchmodSync:$H,fchown:hH,fchownSync:zH,fdatasync:yH,fdatasyncSync:JH,fstat:bH,fstatSync:VH,fsync:xH,fsyncSync:KH,ftruncate:vH,ftruncateSync:GH,futimes:_H,futimesSync:WH,glob:BH,lchmod:z5,globSync:vz,lchmodSync:QH,lchown:H5,lchownSync:YH,link:$5,linkSync:XH,lstat:J5,lstatSync:SH,lutimes:V5,lutimesSync:ZH,mkdir:K5,mkdirSync:ez,mkdtemp:G5,mkdtempSync:tz,open:Y5,openAsBlob:IH,openSync:rz,opendir:Q5,opendirSync:nz,read:wH,readFile:Z5,readFileSync:az,readSync:iz,readdir:X5,readdirSync:sz,readlink:eH,readlinkSync:cz,readv:EH,readvSync:oz,realpath:W5,realpathSync:CH,rename:tH,renameSync:uz,rm:rH,rmSync:lz,rmdir:nH,rmdirSync:dz,stat:sH,statSync:AH,statfs:lH,statfsSync:xz,symlink:iH,symlinkSync:pz,truncate:oH,truncateSync:fz,unlink:aH,unlinkSync:mz,unwatchFile:TH,utimes:cH,utimesSync:hz,watch:OH,watchFile:kH,write:RH,writeFile:uH,writeFileSync:gz,writeSync:yz,writev:MH,writevSync:bz}});var Ez=b((yJt,wz)=>{l();u();c();Sz();wz.exports=_z});var Cv={};Hn(Cv,{AbortController:()=>cue,AbortError:()=>lue,FetchError:()=>uue,Headers:()=>iue,Request:()=>oue,Response:()=>aue,default:()=>cT,fetch:()=>Ev,isRedirect:()=>Cz});var Ev,iue,oue,aue,cue,uue,lue,due,Cz,cT,Az=fe(()=>{l();u();c();Ev=o((...e)=>globalThis.fetch(...e),"fetch"),iue=globalThis.Headers,oue=globalThis.Request,aue=globalThis.Response,cue=globalThis.AbortController,uue=Error,lue=Error,due=new Set([301,302,303,307,308]),Cz=o(e=>due.has(e),"isRedirect");Ev.Promise=globalThis.Promise;Ev.isRedirect=Cz;cT=Ev});var Oz=b((CJt,Tz)=>{l();u();c();Az();Tz.exports=Object.entries(Cv).filter(([e])=>e!=="default").reduce((e,[t,r])=>Object.defineProperty(e,t,{value:r,enumerable:!0}),"default"in Cv?cT:{})});var Av=b(Di=>{"use strict";l();u();c();Object.defineProperty(Di,"__esModule",{value:!0});Di.is2D=Di.hasPropType=Di.hasProp=void 0;function kz(e,t){return e!==void 0&&t in e}o(kz,"hasProp");Di.hasProp=kz;function pue(e,t,r){return kz(e,t)&&r===typeof e[t]}o(pue,"hasPropType");Di.hasPropType=pue;function fue(e){return Array.isArray(e[0])}o(fue,"is2D");Di.is2D=fue});import mue from"stream";var uT=b((DJt,Rz)=>{l();u();c();Rz.exports=mue});var Mz=b(Ov=>{"use strict";l();u();c();Object.defineProperty(Ov,"__esModule",{value:!0});var hue=uT();function gue(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(r[n[s]]=e[n[s]]);return r}o(gue,"__rest");var Tv=class extends hue.Readable{static{o(this,"SandwichStream")}constructor(t){var{head:r,tail:n,separator:s}=t,i=gue(t,["head","tail","separator"]);super(i),this.streamsActive=!1,this.streams=[],this.newStreams=[],this.currentStream=null,this.head=r??null,this.tail=n??null,this.separator=s??null}add(t){return this.streamsActive===!1?(this.streams.push(t),t.on("error",this.subStreamOnError.bind(this))):this.newStreams.push(t),this}_read(){this.streamsActive===!1&&(this.streamsActive=!0,this.pushHead(),this.streamNextStream())}subStreamOnError(t){this.emit("error",t)}streamNextStream(){this.nextStream()===!0?this.bindCurrentStreamEvents():(this.pushTail(),this.push(null))}nextStream(){let t=this.streams.shift();return this.currentStream=t!==void 0?t:null,this.currentStream!==null}bindCurrentStreamEvents(){this.currentStream.on("readable",this.currentStreamOnReadable.bind(this)),this.currentStream.on("end",this.currentStreamOnEnd.bind(this))}currentStreamOnReadable(){let t=this.currentStream.read(),r=t??"";this.push(r)}currentStreamOnEnd(){this.pushSeparator(),this.streams.concat(this.newStreams),this.newStreams=[],this.streamNextStream()}pushHead(){this.head!==null&&this.push(this.head)}pushSeparator(){0<this.streams.length&&this.separator!==null&&this.push(this.separator)}pushTail(){this.tail!==null&&this.push(this.tail)}};Ov.SandwichStream=Tv;Ov.default=Tv});var Pz=b(Fn=>{"use strict";l();u();c();var yue=Fn&&Fn.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),bue=Fn&&Fn.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),xue=Fn&&Fn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&yue(t,e,r);return bue(t,e),t},vue=Fn&&Fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fn,"__esModule",{value:!0});var _ue=xue(uT()),Sue=Av(),wue=vue(Mz()),Uc=`\r
`,lT=class e extends wue.default{static{o(this,"MultipartStream")}constructor(t){super({head:`--${t}${Uc}`,tail:`${Uc}--${t}--`,separator:`${Uc}--${t}${Uc}`})}addPart(t){let r=new _ue.PassThrough;for(let[n,s]of Object.entries(t.headers))r.write(`${n}:${s}${Uc}`);r.write(Uc),e.isStream(t.body)?t.body.pipe(r):r.end(t.body),this.add(r)}static isStream(t){return typeof t=="object"&&t!==null&&(0,Sue.hasPropType)(t,"pipe","function")}};Fn.default=lT});import Eue from"url";var kv=b((YJt,Iz)=>{l();u();c();Iz.exports=Eue});var Fz=b(jn=>{"use strict";l();u();c();var Cue=jn&&jn.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Aue=jn&&jn.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),mT=jn&&jn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Cue(t,e,r);return Aue(t,e),t},hT=jn&&jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jn,"__esModule",{value:!0});var bd=mT(Ox()),eVt=mT(Ez()),tVt=mT(Jd()),Bz=hT(Oz()),Ni=Av(),Tue=eT(),Dz=hT(Pz()),dT=hT($x()),Oue=kv(),pT=o(e=>console.debug(`[telegraf:client] ${e}`),"debug"),{isStream:kue}=Dz.default,Rue=new Set(["answerCallbackQuery","answerInlineQuery","deleteMessage","leaveChat","sendChatAction"]),Mue={audio:"mp3",photo:"jpg",sticker:"webp",video:"mp4",animation:"mp4",video_note:"mp4",voice:"ogg"},Pue={apiRoot:"https://api.telegram.org",apiMode:"bot",webhookReply:!0,attachmentAgent:void 0,testEnv:!1};function Nz(e){return Object.entries(e).some(([t,r])=>t==="link_preview_options"?!1:Array.isArray(r)?r.some(({media:n})=>n&&typeof n=="object"&&(n.source||n.url)):r&&typeof r=="object"&&((0,Ni.hasProp)(r,"source")&&r.source||(0,Ni.hasProp)(r,"url")&&r.url||(0,Ni.hasPropType)(r,"media","object")&&((0,Ni.hasProp)(r.media,"source")&&r.media.source||(0,Ni.hasProp)(r.media,"url")&&r.media.url)))}o(Nz,"includesMedia");function Iue(e,t){if(t!=null)return t}o(Iue,"replacer");function Bue(e){return Promise.resolve({method:"POST",compress:!0,headers:{"content-type":"application/json",connection:"keep-alive"},body:JSON.stringify(e,Iue)})}o(Bue,"buildJSONConfig");var Due=["results","reply_markup","mask_position","shipping_options","errors"];async function Lz(e,t){for(let s of Due)(0,Ni.hasProp)(e,s)&&typeof e[s]!="string"&&(e[s]=JSON.stringify(e[s]));let r=bd.randomBytes(32).toString("hex"),n=new Dz.default(r);return await Promise.all(Object.keys(e).map(s=>Nue(n,s,e[s],t))),{method:"POST",compress:!0,headers:{"content-type":`multipart/form-data; boundary=${r}`,connection:"keep-alive"},body:n}}o(Lz,"buildFormDataConfig");async function Nue(e,t,r,n){if(r!=null){if(typeof r=="string"||typeof r=="boolean"||typeof r=="number"){e.addPart({headers:{"content-disposition":`form-data; name="${t}"`},body:`${r}`});return}if(t==="thumb"||t==="thumbnail"){let s=bd.randomBytes(16).toString("hex");return await yd(e,r,s,n),e.addPart({headers:{"content-disposition":`form-data; name="${t}"`},body:`attach://${s}`})}if(Array.isArray(r)){let s=await Promise.all(r.map(async i=>{var a;if(typeof i.media!="object")return await Promise.resolve(i);let d=bd.randomBytes(16).toString("hex");await yd(e,i.media,d,n);let p=(a=i.thumb)!==null&&a!==void 0?a:i.thumbnail;if(typeof p=="object"){let f=bd.randomBytes(16).toString("hex");return await yd(e,p,f,n),{...i,media:`attach://${d}`,thumbnail:`attach://${f}`}}return{...i,media:`attach://${d}`}}));return e.addPart({headers:{"content-disposition":`form-data; name="${t}"`},body:JSON.stringify(s)})}if(r&&typeof r=="object"&&(0,Ni.hasProp)(r,"media")&&(0,Ni.hasProp)(r,"type")&&typeof r.media<"u"&&typeof r.type<"u"){let s=bd.randomBytes(16).toString("hex");return await yd(e,r.media,s,n),e.addPart({headers:{"content-disposition":`form-data; name="${t}"`},body:JSON.stringify({...r,media:`attach://${s}`})})}return await yd(e,r,t,n)}}o(Nue,"attachFormValue");async function yd(e,t,r,n){var s,i,a;let d=(s=t.filename)!==null&&s!==void 0?s:`${r}.${(i=Mue[r])!==null&&i!==void 0?i:"dat"}`;if("url"in t&&t.url!==void 0){let f=await(0,Bz.default)(t.url,{agent:n,timeout:5e5});return e.addPart({headers:{"content-disposition":`form-data; name="${r}"; filename="${d}"`},body:f.body})}if("source"in t&&t.source){let p=t.source;if(typeof t.source=="string")throw new TypeError(`Unable to upload '${t.source}', not a file`);(kue(p)||Buffer.isBuffer(p))&&e.addPart({headers:{"content-disposition":`form-data; name="${r}"; filename="${d}"`},body:p})}}o(yd,"attachFormMedia");async function Lue(e,t,r){if(!Nz(t))return e.headersSent||e.setHeader("content-type","application/json"),e.end(JSON.stringify(t),"utf-8"),!0;let{headers:n,body:s}=await Lz(t,r.attachmentAgent);if(!e.headersSent)for(let[i,a]of Object.entries(n))e.setHeader(i,a);return await new Promise(i=>{e.on("finish",i),s.pipe(e)}),!0}o(Lue,"answerToWebhook");function Fue(e){throw e.message=e.message.replace(/\/(bot|user)(\d+):[^/]+\//,"/$1$2:[REDACTED]/"),e}o(Fue,"redactToken");var fT=class{static{o(this,"ApiClient")}constructor(t,r,n){this.token=t,this.response=n,this.options={...Pue,...(0,Tue.compactOptions)(r)},this.options.apiRoot.startsWith("http://")&&(this.options.agent=void 0)}set webhookReply(t){this.options.webhookReply=t}get webhookReply(){return this.options.webhookReply}async callApi(t,r,{signal:n}={}){let{token:s,options:i,response:a}=this;if(i.webhookReply&&a?.writableEnded===!1&&Rue.has(t))return pT("Call via webhook",t,r),await Lue(a,{method:t,...r},i);if(!s)throw new dT.default({error_code:401,description:"Bot Token is required"});pT("HTTP call",t,r);let d=Nz(r)?await Lz({method:t,...r},i.attachmentAgent):await Bue(r),p=new Oue.URL(`./${i.apiMode}${s}${i.testEnv?"/test":""}/${t}`,i.apiRoot);d.agent=i.agent,d.signal=n,d.timeout=5e5;let f=await(0,Bz.default)(p,d).catch(Fue);if(f.status>=500){let h={error_code:f.status,description:f.statusText};throw new dT.default(h,{method:t,payload:r})}let m=await f.json();if(!m.ok)throw pT("API call failed",m),new dT.default(m,{method:t,payload:r});return m.result}};jn.default=fT});var Uz=b(Un=>{"use strict";l();u();c();Object.defineProperty(Un,"__esModule",{value:!0});Un.linkOrMention=Un.createFmt=Un.join=Un.FmtString=void 0;var jue=Ix(),da=class e{static{o(this,"FmtString")}constructor(t,r){this.text=t,r&&(this.entities=r,this.parse_mode=void 0)}static normalise(t){return t instanceof e?t:new e(String(t))}};Un.FmtString=da;var Uue=Array.isArray,jz=o((e,t)=>{var r;let n=e.text.length;if(t instanceof da){e.text=`${e.text}${t.text}`;for(let s=0;s<(((r=t.entities)===null||r===void 0?void 0:r.length)||0);s++){let i=t.entities[s];e.entities.push({...i,offset:i.offset+n})}}else e.text=`${e.text}${t}`},"_add"),que=o((e,t)=>{let r=new da("");r.entities=[];let n=e[Symbol.iterator](),s=n.next();for(;!s.done;)jz(r,s.value),s=n.next(),t&&!s.done&&jz(r,t);return r.entities.length?r.parse_mode=void 0:delete r.entities,r},"join");Un.join=que;function Hue(e,t){return o(function(n,...s){var i;n=Uue(n)?n:[n];let a=(0,Un.join)((0,jue.zip)(n,s));return e&&((i=a.entities)!==null&&i!==void 0||(a.entities=[]),a.entities.unshift({type:e,offset:0,length:a.text.length,...t}),a.parse_mode=void 0),a},"fmt")}o(Hue,"createFmt");Un.createFmt=Hue;var zue=o((e,t)=>{let{text:r,entities:n=[]}=da.normalise(e);return n.unshift(Object.assign(t,{offset:0,length:r.length})),new da(r,n)},"linkOrMention");Un.linkOrMention=zue});var gT=b(Pe=>{"use strict";l();u();c();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.mention=Pe.link=Pe.pre=Pe.code=Pe.quote=Pe.underline=Pe.strikethrough=Pe.spoiler=Pe.italic=Pe.bold=Pe.fmt=Pe.join=Pe.FmtString=void 0;var Yr=Uz();Object.defineProperty(Pe,"FmtString",{enumerable:!0,get:o(function(){return Yr.FmtString},"get")});Pe.join=Yr.join;Pe.fmt=(0,Yr.createFmt)();Pe.bold=(0,Yr.createFmt)("bold");Pe.italic=(0,Yr.createFmt)("italic");Pe.spoiler=(0,Yr.createFmt)("spoiler");Pe.strikethrough=(0,Yr.createFmt)("strikethrough");Pe.underline=(0,Yr.createFmt)("underline");Pe.quote=(0,Yr.createFmt)("blockquote");Pe.code=(0,Yr.createFmt)("code");var $ue=o(e=>(0,Yr.createFmt)("pre",{language:e}),"pre");Pe.pre=$ue;var Jue=o((e,t)=>(0,Yr.linkOrMention)(e,{type:"text_link",url:t}),"link");Pe.link=Jue;var Vue=o((e,t)=>typeof t=="number"?(0,Pe.link)(e,"tg://user?id="+t):(0,Yr.linkOrMention)(e,{type:"text_mention",user:t}),"mention");Pe.mention=Vue});var yT=b(pa=>{"use strict";l();u();c();var Kue=pa&&pa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pa,"__esModule",{value:!0});pa.Telegram=void 0;var Gue=Kue(Fz()),Wue=Jd(),qz=kv(),Hz=gT(),Us=Ix(),Rv=class extends Gue.default{static{o(this,"Telegram")}getMe(){return this.callApi("getMe",{})}getFile(t){return this.callApi("getFile",{file_id:t})}async getFileLink(t){if(typeof t=="string"?t=await this.getFile(t):t.file_path===void 0&&(t=await this.getFile(t.file_id)),t.file_path!==void 0&&(0,Wue.isAbsolute)(t.file_path)){let r=new qz.URL(this.options.apiRoot);return r.port="",r.pathname=t.file_path,r.protocol="file:",r}return new qz.URL(`./file/${this.options.apiMode}${this.token}${this.options.testEnv?"/test":""}/${t.file_path}`,this.options.apiRoot)}getUpdates(t,r,n,s){return this.callApi("getUpdates",{allowed_updates:s,limit:r,offset:n,timeout:t})}getWebhookInfo(){return this.callApi("getWebhookInfo",{})}getGameHighScores(t,r,n,s){return this.callApi("getGameHighScores",{user_id:t,inline_message_id:r,chat_id:n,message_id:s})}setGameScore(t,r,n,s,i,a=!0,d=!1){return this.callApi("setGameScore",{force:d,score:r,user_id:t,inline_message_id:n,chat_id:s,message_id:i,disable_edit_message:!a})}setWebhook(t,r){return this.callApi("setWebhook",{url:t,...r})}deleteWebhook(t){return this.callApi("deleteWebhook",{...t})}sendMessage(t,r,n){let s=Hz.FmtString.normalise(r);return this.callApi("sendMessage",{chat_id:t,...n,...s})}forwardMessage(t,r,n,s){return this.callApi("forwardMessage",{chat_id:t,from_chat_id:r,message_id:n,...s})}forwardMessages(t,r,n,s){return this.callApi("forwardMessages",{chat_id:t,from_chat_id:r,message_ids:n,...s})}sendChatAction(t,r,n){return this.callApi("sendChatAction",{chat_id:t,action:r,...n})}setMessageReaction(t,r,n,s){return this.callApi("setMessageReaction",{chat_id:t,message_id:r,reaction:n,is_big:s})}getUserProfilePhotos(t,r,n){return this.callApi("getUserProfilePhotos",{user_id:t,offset:r,limit:n})}sendLocation(t,r,n,s){return this.callApi("sendLocation",{chat_id:t,latitude:r,longitude:n,...s})}sendVenue(t,r,n,s,i,a){return this.callApi("sendVenue",{latitude:r,longitude:n,title:s,address:i,chat_id:t,...a})}sendInvoice(t,r,n){return this.callApi("sendInvoice",{chat_id:t,...r,...n})}sendContact(t,r,n,s){return this.callApi("sendContact",{chat_id:t,phone_number:r,first_name:n,...s})}sendPhoto(t,r,n){return this.callApi("sendPhoto",{chat_id:t,photo:r,...(0,Us.fmtCaption)(n)})}sendDice(t,r){return this.callApi("sendDice",{chat_id:t,...r})}sendDocument(t,r,n){return this.callApi("sendDocument",{chat_id:t,document:r,...(0,Us.fmtCaption)(n)})}sendAudio(t,r,n){return this.callApi("sendAudio",{chat_id:t,audio:r,...(0,Us.fmtCaption)(n)})}sendSticker(t,r,n){return this.callApi("sendSticker",{chat_id:t,sticker:r,...n})}sendVideo(t,r,n){return this.callApi("sendVideo",{chat_id:t,video:r,...(0,Us.fmtCaption)(n)})}sendAnimation(t,r,n){return this.callApi("sendAnimation",{chat_id:t,animation:r,...(0,Us.fmtCaption)(n)})}sendVideoNote(t,r,n){return this.callApi("sendVideoNote",{chat_id:t,video_note:r,...n})}sendVoice(t,r,n){return this.callApi("sendVoice",{chat_id:t,voice:r,...(0,Us.fmtCaption)(n)})}sendGame(t,r,n){return this.callApi("sendGame",{chat_id:t,game_short_name:r,...n})}sendMediaGroup(t,r,n){return this.callApi("sendMediaGroup",{chat_id:t,media:r,...n})}sendPoll(t,r,n,s){return this.callApi("sendPoll",{chat_id:t,type:"regular",question:r,options:n,...s})}sendQuiz(t,r,n,s){return this.callApi("sendPoll",{chat_id:t,type:"quiz",question:r,options:n,...s})}stopPoll(t,r,n){return this.callApi("stopPoll",{chat_id:t,message_id:r,...n})}getChat(t){return this.callApi("getChat",{chat_id:t})}getChatAdministrators(t){return this.callApi("getChatAdministrators",{chat_id:t})}getChatMember(t,r){return this.callApi("getChatMember",{chat_id:t,user_id:r})}getChatMembersCount(t){return this.callApi("getChatMembersCount",{chat_id:t})}answerInlineQuery(t,r,n){return this.callApi("answerInlineQuery",{inline_query_id:t,results:r,...n})}setChatPermissions(t,r,n){return this.callApi("setChatPermissions",{chat_id:t,permissions:r,...n})}banChatMember(t,r,n,s){return this.callApi("banChatMember",{chat_id:t,user_id:r,until_date:n,...s})}get kickChatMember(){return this.banChatMember}promoteChatMember(t,r,n){return this.callApi("promoteChatMember",{chat_id:t,user_id:r,...n})}restrictChatMember(t,r,n){return this.callApi("restrictChatMember",{chat_id:t,user_id:r,...n})}setChatAdministratorCustomTitle(t,r,n){return this.callApi("setChatAdministratorCustomTitle",{chat_id:t,user_id:r,custom_title:n})}exportChatInviteLink(t){return this.callApi("exportChatInviteLink",{chat_id:t})}createChatInviteLink(t,r){return this.callApi("createChatInviteLink",{chat_id:t,...r})}createInvoiceLink(t){return this.callApi("createInvoiceLink",{...t})}editChatInviteLink(t,r,n){return this.callApi("editChatInviteLink",{chat_id:t,invite_link:r,...n})}revokeChatInviteLink(t,r){return this.callApi("revokeChatInviteLink",{chat_id:t,invite_link:r})}setChatPhoto(t,r){return this.callApi("setChatPhoto",{chat_id:t,photo:r})}deleteChatPhoto(t){return this.callApi("deleteChatPhoto",{chat_id:t})}setChatTitle(t,r){return this.callApi("setChatTitle",{chat_id:t,title:r})}setChatDescription(t,r){return this.callApi("setChatDescription",{chat_id:t,description:r})}pinChatMessage(t,r,n){return this.callApi("pinChatMessage",{chat_id:t,message_id:r,...n})}unpinChatMessage(t,r){return this.callApi("unpinChatMessage",{chat_id:t,message_id:r})}unpinAllChatMessages(t){return this.callApi("unpinAllChatMessages",{chat_id:t})}leaveChat(t){return this.callApi("leaveChat",{chat_id:t})}unbanChatMember(t,r,n){return this.callApi("unbanChatMember",{chat_id:t,user_id:r,...n})}answerCbQuery(t,r,n){return this.callApi("answerCallbackQuery",{text:r,callback_query_id:t,...n})}answerGameQuery(t,r){return this.callApi("answerCallbackQuery",{url:r,callback_query_id:t})}getUserChatBoosts(t,r){return this.callApi("getUserChatBoosts",{chat_id:t,user_id:r})}answerShippingQuery(t,r,n,s){return this.callApi("answerShippingQuery",{ok:r,shipping_query_id:t,shipping_options:n,error_message:s})}answerPreCheckoutQuery(t,r,n){return this.callApi("answerPreCheckoutQuery",{ok:r,pre_checkout_query_id:t,error_message:n})}answerWebAppQuery(t,r){return this.callApi("answerWebAppQuery",{web_app_query_id:t,result:r})}editMessageText(t,r,n,s,i){let a=Hz.FmtString.normalise(s);return this.callApi("editMessageText",{chat_id:t,message_id:r,inline_message_id:n,...i,...a})}editMessageCaption(t,r,n,s,i){return this.callApi("editMessageCaption",{chat_id:t,message_id:r,inline_message_id:n,...i,...(0,Us.fmtCaption)({caption:s})})}editMessageMedia(t,r,n,s,i){return this.callApi("editMessageMedia",{chat_id:t,message_id:r,inline_message_id:n,media:(0,Us.fmtCaption)(s),...i})}editMessageReplyMarkup(t,r,n,s){return this.callApi("editMessageReplyMarkup",{chat_id:t,message_id:r,inline_message_id:n,reply_markup:s})}editMessageLiveLocation(t,r,n,s,i,a){return this.callApi("editMessageLiveLocation",{latitude:s,longitude:i,chat_id:t,message_id:r,inline_message_id:n,...a})}stopMessageLiveLocation(t,r,n,s){return this.callApi("stopMessageLiveLocation",{chat_id:t,message_id:r,inline_message_id:n,reply_markup:s})}deleteMessage(t,r){return this.callApi("deleteMessage",{chat_id:t,message_id:r})}deleteMessages(t,r){return this.callApi("deleteMessages",{chat_id:t,message_ids:r})}setChatStickerSet(t,r){return this.callApi("setChatStickerSet",{chat_id:t,sticker_set_name:r})}deleteChatStickerSet(t){return this.callApi("deleteChatStickerSet",{chat_id:t})}getForumTopicIconStickers(){return this.callApi("getForumTopicIconStickers",{})}createForumTopic(t,r,n){return this.callApi("createForumTopic",{chat_id:t,name:r,...n})}editForumTopic(t,r,n){return this.callApi("editForumTopic",{chat_id:t,message_thread_id:r,...n})}closeForumTopic(t,r){return this.callApi("closeForumTopic",{chat_id:t,message_thread_id:r})}reopenForumTopic(t,r){return this.callApi("reopenForumTopic",{chat_id:t,message_thread_id:r})}deleteForumTopic(t,r){return this.callApi("deleteForumTopic",{chat_id:t,message_thread_id:r})}unpinAllForumTopicMessages(t,r){return this.callApi("unpinAllForumTopicMessages",{chat_id:t,message_thread_id:r})}editGeneralForumTopic(t,r){return this.callApi("editGeneralForumTopic",{chat_id:t,name:r})}closeGeneralForumTopic(t){return this.callApi("closeGeneralForumTopic",{chat_id:t})}reopenGeneralForumTopic(t){return this.callApi("reopenGeneralForumTopic",{chat_id:t})}hideGeneralForumTopic(t){return this.callApi("hideGeneralForumTopic",{chat_id:t})}unhideGeneralForumTopic(t){return this.callApi("unhideGeneralForumTopic",{chat_id:t})}unpinAllGeneralForumTopicMessages(t){return this.callApi("unpinAllGeneralForumTopicMessages",{chat_id:t})}getStickerSet(t){return this.callApi("getStickerSet",{name:t})}uploadStickerFile(t,r,n){return this.callApi("uploadStickerFile",{user_id:t,sticker_format:n,sticker:r})}createNewStickerSet(t,r,n,s){return this.callApi("createNewStickerSet",{name:r,title:n,user_id:t,...s})}addStickerToSet(t,r,n){return this.callApi("addStickerToSet",{name:r,user_id:t,...n})}setStickerPositionInSet(t,r){return this.callApi("setStickerPositionInSet",{sticker:t,position:r})}get setStickerSetThumb(){return this.setStickerSetThumbnail}setStickerSetThumbnail(t,r,n){return this.callApi("setStickerSetThumbnail",{name:t,user_id:r,thumbnail:n})}setStickerMaskPosition(t,r){return this.callApi("setStickerMaskPosition",{sticker:t,mask_position:r})}setStickerKeywords(t,r){return this.callApi("setStickerKeywords",{sticker:t,keywords:r})}setStickerEmojiList(t,r){return this.callApi("setStickerEmojiList",{sticker:t,emoji_list:r})}deleteStickerSet(t){return this.callApi("deleteStickerSet",{name:t})}setStickerSetTitle(t,r){return this.callApi("setStickerSetTitle",{name:t,title:r})}setCustomEmojiStickerSetThumbnail(t,r){return this.callApi("setCustomEmojiStickerSetThumbnail",{name:t,custom_emoji_id:r})}deleteStickerFromSet(t){return this.callApi("deleteStickerFromSet",{sticker:t})}getCustomEmojiStickers(t){return this.callApi("getCustomEmojiStickers",{custom_emoji_ids:t})}setMyCommands(t,r){return this.callApi("setMyCommands",{commands:t,...r})}deleteMyCommands(t={}){return this.callApi("deleteMyCommands",t)}getMyCommands(t={}){return this.callApi("getMyCommands",t)}setMyDescription(t,r){return this.callApi("setMyDescription",{description:t,language_code:r})}setMyName(t,r){return this.callApi("setMyName",{name:t,language_code:r})}getMyName(t){return this.callApi("getMyName",{language_code:t})}getMyDescription(t){return this.callApi("getMyDescription",{language_code:t})}setMyShortDescription(t,r){return this.callApi("setMyShortDescription",{short_description:t,language_code:r})}getMyShortDescription(t){return this.callApi("getMyShortDescription",{language_code:t})}setPassportDataErrors(t,r){return this.callApi("setPassportDataErrors",{user_id:t,errors:r})}sendCopy(t,r,n){return this.copyMessage(t,r.chat.id,r.message_id,n)}copyMessage(t,r,n,s){return this.callApi("copyMessage",{chat_id:t,from_chat_id:r,message_id:n,...(0,Us.fmtCaption)(s)})}copyMessages(t,r,n,s){return this.callApi("copyMessages",{chat_id:t,from_chat_id:r,message_ids:n,...s})}approveChatJoinRequest(t,r){return this.callApi("approveChatJoinRequest",{chat_id:t,user_id:r})}declineChatJoinRequest(t,r){return this.callApi("declineChatJoinRequest",{chat_id:t,user_id:r})}banChatSenderChat(t,r,n){return this.callApi("banChatSenderChat",{chat_id:t,sender_chat_id:r,...n})}unbanChatSenderChat(t,r){return this.callApi("unbanChatSenderChat",{chat_id:t,sender_chat_id:r})}setChatMenuButton({chatId:t,menuButton:r}={}){return this.callApi("setChatMenuButton",{chat_id:t,menu_button:r})}getChatMenuButton({chatId:t}={}){return this.callApi("getChatMenuButton",{chat_id:t})}setMyDefaultAdministratorRights({rights:t,forChannels:r}={}){return this.callApi("setMyDefaultAdministratorRights",{rights:t,for_channels:r})}getMyDefaultAdministratorRights({forChannels:t}={}){return this.callApi("getMyDefaultAdministratorRights",{for_channels:t})}logOut(){return this.callApi("logOut",{})}close(){return this.callApi("close",{})}};pa.Telegram=Rv;pa.default=Rv});var $z=b((SVt,zz)=>{l();u();c();var Yue=(function(){try{if(!Buffer.isEncoding("latin1"))return!1;var e=Buffer.alloc?Buffer.alloc(4):new Buffer(4);return e.fill("ab","ucs2"),e.toString("hex")==="61006200"}catch{return!1}})();function Que(e){return e.length===1&&e.charCodeAt(0)<256}o(Que,"isSingleByte");function Mv(e,t,r,n){if(r<0||n>e.length)throw new RangeError("Out of range index");return r=r>>>0,n=n===void 0?e.length:n>>>0,n>r&&e.fill(t,r,n),e}o(Mv,"fillWithNumber");function Xue(e,t,r,n){if(r<0||n>e.length)throw new RangeError("Out of range index");if(n<=r)return e;r=r>>>0,n=n===void 0?e.length:n>>>0;for(var s=r,i=t.length;s<=n-i;)t.copy(e,s),s+=i;return s!==n&&t.copy(e,s,0,n-s),e}o(Xue,"fillWithBuffer");function Zue(e,t,r,n,s){if(Yue)return e.fill(t,r,n,s);if(typeof t=="number")return Mv(e,t,r,n);if(typeof t=="string"){if(typeof r=="string"?(s=r,r=0,n=e.length):typeof n=="string"&&(s=n,n=e.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(s==="latin1"&&(s="binary"),typeof s=="string"&&!Buffer.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(t==="")return Mv(e,0,r,n);if(Que(t))return Mv(e,t.charCodeAt(0),r,n);t=new Buffer(t,s)}return Buffer.isBuffer(t)?Xue(e,t,r,n):Mv(e,0,r,n)}o(Zue,"fill");zz.exports=Zue});var Vz=b((TVt,Jz)=>{l();u();c();function ele(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');return Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e)}o(ele,"allocUnsafe");Jz.exports=ele});var Wz=b((PVt,Gz)=>{l();u();c();var Kz=$z(),tle=Vz();Gz.exports=o(function(t,r,n){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');if(Buffer.alloc)return Buffer.alloc(t,r,n);var s=tle(t);return t===0?s:r===void 0?Kz(s,0):(typeof n!="string"&&(n=void 0),Kz(s,r,n))},"alloc")});var Zz=b((LVt,Xz)=>{"use strict";l();u();c();var Qz=Ox(),Yz=Wz(),rle=o(function(t,r){var n=String(t),s=String(r),i=n.length,a=0;i!==s.length&&(s=n,a=1);for(var d=0;d<i;d++)a|=n.charCodeAt(d)^s.charCodeAt(d);return a===0},"safeCompare"),nle=o(function(t,r){var n=String(t),s=String(r),i=Buffer.byteLength(n),a=Buffer.byteLength(s),d=Yz(i,0,"utf8");d.write(n);var p=Yz(i,0,"utf8");return p.write(s),Qz.timingSafeEqual(d,p)&&i===a},"nativeTimingSafeEqual");Xz.exports=typeof Qz.timingSafeEqual<"u"?nle:rle});var n$=b(yn=>{"use strict";l();u();c();var sle=yn&&yn.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),ile=yn&&yn.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),ole=yn&&yn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sle(t,e,r);return ile(t,e),t},xd=yn&&yn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yn,"__esModule",{value:!0});yn.Telegraf=void 0;var ale=ole(Ox()),cle=Bi(),ule=eT(),lle=xd(Dx()),r$=xd(ca()),dle=xd(g5()),ple=v5(),fle=xd(S5()),e$=xd(yT()),mle=kv(),t$=Zz(),qn=(0,r$.default)("telegraf:main"),hle={telegram:{},handlerTimeout:9e4,contextType:lle.default};function gle(e){return()=>e}o(gle,"always");var yle=gle(Promise.resolve()),ble="x-telegram-bot-api-secret-token",bT=class extends cle.Composer{static{o(this,"Telegraf")}constructor(t,r){super(),this.context={},this.webhookFilter=function(n){let s=(0,r$.default)("telegraf:webhook");if(n.method==="POST")if(t$(this.path,n.url))if(this.secretToken){let i=n.headers[ble];if(t$(this.secretToken,i))return!0;s("Secret token does not match:",i,this.secretToken)}else return!0;else s("Path does not match:",n.url,this.path);else s("Unexpected request method, not POST. Received:",n.method);return!1},this.handleError=(n,s)=>{throw process.exitCode=1,console.error("Unhandled error while processing",s.update),n},this.options={...hle,...(0,ule.compactOptions)(r)},this.telegram=new e$.default(t,this.options.telegram),qn("Created a `Telegraf` instance")}get token(){return this.telegram.token}set webhookReply(t){this.telegram.webhookReply=t}get webhookReply(){return this.telegram.webhookReply}catch(t){return this.handleError=t,this}webhookCallback(t="/",r={}){let{secretToken:n}=r;return(0,dle.default)(this.webhookFilter.bind({hookPath:t,path:t,secretToken:n}),(s,i)=>this.handleUpdate(s,i))}getDomainOpts(t){var r;let n=t.domain.startsWith("https://")||t.domain.startsWith("http://");n&&qn("Unexpected protocol in domain, telegraf will use https:",t.domain);let s=n?new mle.URL(t.domain).host:t.domain,i=(r=t.path)!==null&&r!==void 0?r:`/telegraf/${this.secretPathComponent()}`,a=`https://${s}${i}`;return{domain:s,path:i,url:a}}async createWebhook(t){let{domain:r,path:n,...s}=t,i=this.getDomainOpts({domain:r,path:n});return await this.telegram.setWebhook(i.url,s),qn(`Webhook set to ${i.url}`),this.webhookCallback(i.path,{secretToken:s.secret_token})}startPolling(t=[]){return this.polling=new ple.Polling(this.telegram,t),this.polling.loop(async r=>{await this.handleUpdate(r)})}startWebhook(t,r,n,s,i,a){let d=this.webhookCallback(t,{secretToken:a}),p=typeof i=="function"?(f,m)=>d(f,m,()=>i(f,m)):d;return this}secretPathComponent(){return ale.createHash("sha3-256").update(this.token).update(process.version).digest("hex")}async launch(t={},r){var n,s;let[i,a]=typeof t=="function"?[{},t]:[t,r],d=i.dropPendingUpdates,p=i.allowedUpdates,f=i.webhook;if(qn("Connecting to Telegram"),(n=this.botInfo)!==null&&n!==void 0||(this.botInfo=await this.telegram.getMe()),a?.(),qn(`Launching @${this.botInfo.username}`),f===void 0){await this.telegram.deleteWebhook({drop_pending_updates:d}),qn("Bot started with long polling"),await this.startPolling(p);return}let m=this.getDomainOpts({domain:f.domain,path:(s=f.path)!==null&&s!==void 0?s:f.hookPath}),{tlsOptions:h,port:g,host:y,cb:x,secretToken:_}=f;this.startWebhook(m.path,h,g,y,x,_),await this.telegram.setWebhook(m.url,{drop_pending_updates:d,allowed_updates:p,ip_address:f.ipAddress,max_connections:f.maxConnections,secret_token:f.secretToken,certificate:f.certificate}),qn(`Bot started with webhook @ ${m.url}`)}stop(t="unspecified"){var r,n;if(qn("Stopping bot... Reason:",t),this.polling===void 0&&this.webhookServer===void 0)throw new Error("Bot is not running!");(r=this.webhookServer)===null||r===void 0||r.close(),(n=this.polling)===null||n===void 0||n.stop()}async handleUpdate(t,r){var n,s;(n=this.botInfo)!==null&&n!==void 0||(this.botInfo=(qn("Update %d is waiting for `botInfo` to be initialized",t.update_id),await((s=this.botInfoCall)!==null&&s!==void 0?s:this.botInfoCall=this.telegram.getMe()))),qn("Processing update",t.update_id);let i=new e$.default(this.token,this.telegram.options,r),a=this.options.contextType,d=new a(t,i,this.botInfo);Object.assign(d,this.context);try{await(0,fle.default)(Promise.resolve(this.middleware()(d,yle)),this.options.handlerTimeout)}catch(p){return await this.handleError(p,d)}finally{r?.writableEnded===!1&&r.end(),qn("Finished processing update",t.update_id)}}};yn.Telegraf=bT});var s$=b(qc=>{"use strict";l();u();c();var xle=qc&&qc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qc,"__esModule",{value:!0});qc.Router=void 0;var Pv=xle(Bi()),xT=class{static{o(this,"Router")}constructor(t,r=new Map){if(this.routeFn=t,this.handlers=r,this.otherwiseHandler=Pv.default.passThru(),typeof t!="function")throw new Error("Missing routing function")}on(t,...r){if(r.length===0)throw new TypeError("At least one handler must be provided");return this.handlers.set(t,Pv.default.compose(r)),this}otherwise(...t){if(t.length===0)throw new TypeError("At least one otherwise handler must be provided");return this.otherwiseHandler=Pv.default.compose(t),this}middleware(){return Pv.default.lazy(t=>{var r;let n=this.routeFn(t);return n==null?this.otherwiseHandler:(Object.assign(t,n.context),Object.assign(t.state,n.state),(r=this.handlers.get(n.route))!==null&&r!==void 0?r:this.otherwiseHandler)})}};qc.Router=xT});var i$=b(_e=>{"use strict";l();u();c();Object.defineProperty(_e,"__esModule",{value:!0});_e.webApp=_e.login=_e.pay=_e.game=_e.switchToCurrentChat=_e.switchToChat=_e.callback=_e.url=_e.channelRequest=_e.groupRequest=_e.botRequest=_e.userRequest=_e.pollRequest=_e.locationRequest=_e.contactRequest=_e.text=void 0;function vle(e,t=!1){return{text:e,hide:t}}o(vle,"text");_e.text=vle;function _le(e,t=!1){return{text:e,request_contact:!0,hide:t}}o(_le,"contactRequest");_e.contactRequest=_le;function Sle(e,t=!1){return{text:e,request_location:!0,hide:t}}o(Sle,"locationRequest");_e.locationRequest=Sle;function wle(e,t,r=!1){return{text:e,request_poll:{type:t},hide:r}}o(wle,"pollRequest");_e.pollRequest=wle;function Ele(e,t,r,n=!1){return{text:e,request_users:{request_id:t,...r},hide:n}}o(Ele,"userRequest");_e.userRequest=Ele;function Cle(e,t,r,n=!1){return{text:e,request_users:{request_id:t,user_is_bot:!0,...r},hide:n}}o(Cle,"botRequest");_e.botRequest=Cle;function Ale(e,t,r,n=!1){return{text:e,request_chat:{request_id:t,chat_is_channel:!1,...r},hide:n}}o(Ale,"groupRequest");_e.groupRequest=Ale;function Tle(e,t,r,n=!1){return{text:e,request_chat:{request_id:t,chat_is_channel:!0,...r},hide:n}}o(Tle,"channelRequest");_e.channelRequest=Tle;function Ole(e,t,r=!1){return{text:e,url:t,hide:r}}o(Ole,"url");_e.url=Ole;function kle(e,t,r=!1){return{text:e,callback_data:t,hide:r}}o(kle,"callback");_e.callback=kle;function Rle(e,t,r=!1){return{text:e,switch_inline_query:t,hide:r}}o(Rle,"switchToChat");_e.switchToChat=Rle;function Mle(e,t,r=!1){return{text:e,switch_inline_query_current_chat:t,hide:r}}o(Mle,"switchToCurrentChat");_e.switchToCurrentChat=Mle;function Ple(e,t=!1){return{text:e,callback_game:{},hide:t}}o(Ple,"game");_e.game=Ple;function Ile(e,t=!1){return{text:e,pay:!0,hide:t}}o(Ile,"pay");_e.pay=Ile;function Ble(e,t,r={},n=!1){return{text:e,login_url:{...r,url:t},hide:n}}o(Ble,"login");_e.login=Ble;function Dle(e,t,r=!1){return{text:e,web_app:{url:t},hide:r}}o(Dle,"webApp");_e.webApp=Dle});var vT=b(dt=>{"use strict";l();u();c();var Nle=dt&&dt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Lle=dt&&dt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Fle=dt&&dt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Nle(t,e,r);return Lle(t,e),t};Object.defineProperty(dt,"__esModule",{value:!0});dt.inlineKeyboard=dt.keyboard=dt.forceReply=dt.removeKeyboard=dt.button=dt.Markup=void 0;var jle=Av(),fa=class e{static{o(this,"Markup")}constructor(t){this.reply_markup=t}selective(t=!0){return new e({...this.reply_markup,selective:t})}placeholder(t){return new e({...this.reply_markup,input_field_placeholder:t})}resize(t=!0){return new e({...this.reply_markup,resize_keyboard:t})}oneTime(t=!0){return new e({...this.reply_markup,one_time_keyboard:t})}persistent(t=!0){return new e({...this.reply_markup,is_persistent:t})}};dt.Markup=fa;dt.button=Fle(i$());function Ule(){return new fa({remove_keyboard:!0})}o(Ule,"removeKeyboard");dt.removeKeyboard=Ule;function qle(){return new fa({force_reply:!0})}o(qle,"forceReply");dt.forceReply=qle;function Hle(e,t){let r=o$(e,{columns:1,...t});return new fa({keyboard:r})}o(Hle,"keyboard");dt.keyboard=Hle;function zle(e,t){let r=o$(e,{columns:e.length,...t});return new fa({inline_keyboard:r})}o(zle,"inlineKeyboard");dt.inlineKeyboard=zle;function o$(e,t){let r=[];if(!Array.isArray(e))return r;if((0,jle.is2D)(e))return e.map(a=>a.filter(d=>!d.hide));let n=t.wrap!==void 0?t.wrap:(a,d,p)=>p.length>=t.columns,s=[],i=0;for(let a of e.filter(d=>!d.hide))n(a,i,s)&&s.length>0&&(r.push(s),s=[]),s.push(a),i++;return s.length>0&&r.push(s),r}o(o$,"buildKeyboard")});var a$=b(Iv=>{"use strict";l();u();c();Object.defineProperty(Iv,"__esModule",{value:!0});Iv.Markup=void 0;var $le=vT();Object.defineProperty(Iv,"Markup",{enumerable:!0,get:o(function(){return $le.Markup},"get")})});var c$=b(Pr=>{"use strict";l();u();c();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.fromFileId=Pr.fromURL=Pr.fromURLStream=Pr.fromReadableStream=Pr.fromBuffer=Pr.fromLocalFile=void 0;var Jle=o((e,t)=>({source:e,filename:t}),"fromLocalFile");Pr.fromLocalFile=Jle;var Vle=o((e,t)=>({source:e,filename:t}),"fromBuffer");Pr.fromBuffer=Vle;var Kle=o((e,t)=>({source:e,filename:t}),"fromReadableStream");Pr.fromReadableStream=Kle;var Gle=o((e,t)=>({url:e.toString(),filename:t}),"fromURLStream");Pr.fromURLStream=Gle;var Wle=o(e=>e.toString(),"fromURL");Pr.fromURL=Wle;var Yle=o(e=>e,"fromFileId");Pr.fromFileId=Yle});var u$=b(Bv=>{"use strict";l();u();c();Object.defineProperty(Bv,"__esModule",{value:!0});Bv.deunionize=void 0;function Qle(e){return e}o(Qle,"deunionize");Bv.deunionize=Qle});var _T=b(ms=>{"use strict";l();u();c();var Xle=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ms,"__esModule",{value:!0});ms.isSessionContext=ms.MemorySessionStore=ms.session=void 0;var Zle=Xle(ca()),qs=(0,Zle.default)("telegraf:session");function ede(e){var t,r,n;let s=(t=e?.property)!==null&&t!==void 0?t:"session",i=(r=e?.getSessionKey)!==null&&r!==void 0?r:tde,a=(n=e?.store)!==null&&n!==void 0?n:new Dv,d=new Map,p=new Map;return async(f,m)=>{var h;let g=f.update.update_id,y=!1;function x(){if(y&&process.env.EXPERIMENTAL_SESSION_CHECKS)throw new Error("Session was accessed or assigned to after the middleware chain exhausted. This is a bug in your code. You're probably accessing session asynchronously and missing awaits.")}o(x,"releaseChecks");let _=await i(f);if(!_)return f[s]=void 0,await m();let E=d.get(_);if(E)qs(`(${g}) found cached session, reusing from cache`),++E.counter;else{qs(`(${g}) did not find cached session`);let D=p.get(_);D?qs(`(${g}) found a concurrent request, reusing promise`):(qs(`(${g}) fetching from upstream store`),D=a.get(_)),p.set(_,D);let I=await D;p.delete(_),qs(`(${g}) updating cache`);let N=d.get(_);N?(N.counter++,E=N):(E={ref:I??((h=e?.defaultSession)===null||h===void 0?void 0:h.call(e,f)),counter:1},d.set(_,E))}let T=E,k=!1;Object.defineProperty(f,s,{get(){return x(),k=!0,T.ref},set(D){x(),k=!0,T.ref=D}});try{await m(),y=!0}finally{--T.counter===0&&(qs(`(${g}) refcounter reached 0, removing cached`),d.delete(_)),qs(`(${g}) middlewares completed, checking session`),k&&(T.ref==null?(qs(`(${g}) ctx.${s} missing, removing from store`),await a.delete(_)):(qs(`(${g}) ctx.${s} found, updating store`),await a.set(_,T.ref)))}}}o(ede,"session");ms.session=ede;function tde(e){var t,r;let n=(t=e.from)===null||t===void 0?void 0:t.id,s=(r=e.chat)===null||r===void 0?void 0:r.id;if(!(n==null||s==null))return`${n}:${s}`}o(tde,"defaultGetSessionKey");var Dv=class{static{o(this,"MemorySessionStore")}constructor(t=1/0){this.ttl=t,this.store=new Map}get(t){let r=this.store.get(t);if(r!=null){if(r.expires<Date.now()){this.delete(t);return}return r.session}}set(t,r){let n=Date.now();this.store.set(t,{session:r,expires:n+this.ttl})}delete(t){this.store.delete(t)}};ms.MemorySessionStore=Dv;function rde(e){return"session"in e}o(rde,"isSessionContext");ms.isSessionContext=rde});var wT=b(vd=>{"use strict";l();u();c();var f$=vd&&vd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vd,"__esModule",{value:!0});var nde=f$(Bi()),sde=f$(ca()),l$=(0,sde.default)("telegraf:scenes:context"),d$=o(()=>Promise.resolve(),"noop"),p$=o(()=>Math.floor(Date.now()/1e3),"now"),ST=class{static{o(this,"SceneContextScene")}constructor(t,r,n){this.ctx=t,this.scenes=r,this.leaving=!1;let s={};this.options={defaultSession:s,...n}}get session(){var t,r;let n=Object.assign({},this.options.defaultSession),s=(r=(t=this.ctx.session)===null||t===void 0?void 0:t.__scenes)!==null&&r!==void 0?r:n;return s.expires!==void 0&&s.expires<p$()&&(s=n),this.ctx.session===void 0?this.ctx.session={__scenes:s}:this.ctx.session.__scenes=s,s}get state(){var t,r;return(t=(r=this.session).state)!==null&&t!==void 0?t:r.state={}}set state(t){this.session.state={...t}}get current(){var t;let r=(t=this.session.current)!==null&&t!==void 0?t:this.options.default;return r===void 0||!this.scenes.has(r)?void 0:this.scenes.get(r)}reset(){this.ctx.session!==void 0&&(this.ctx.session.__scenes=Object.assign({},this.options.defaultSession))}async enter(t,r={},n=!1){var s,i;if(!this.scenes.has(t))throw new Error(`Can't find scene: ${t}`);n||await this.leave(),l$("Entering scene",t,r,n),this.session.current=t,this.state=r;let a=(i=(s=this.current)===null||s===void 0?void 0:s.ttl)!==null&&i!==void 0?i:this.options.ttl;return a!==void 0&&(this.session.expires=p$()+a),this.current===void 0||n?void 0:await("enterMiddleware"in this.current&&typeof this.current.enterMiddleware=="function"?this.current.enterMiddleware():this.current.middleware())(this.ctx,d$)}reenter(){return this.session.current===void 0?void 0:this.enter(this.session.current,this.state)}async leave(){if(!this.leaving){l$("Leaving scene");try{return this.leaving=!0,this.current===void 0?void 0:(await("leaveMiddleware"in this.current&&typeof this.current.leaveMiddleware=="function"?this.current.leaveMiddleware():nde.default.passThru())(this.ctx,d$),this.reset())}finally{this.leaving=!1}}}};vd.default=ST});var m$=b(Hc=>{"use strict";l();u();c();var ide=Hc&&Hc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.Stage=void 0;var ode=_T(),ade=ide(wT()),_d=Bi(),ET=class extends _d.Composer{static{o(this,"Stage")}constructor(t=[],r){super(),this.options={...r},this.scenes=new Map,t.forEach(n=>this.register(n))}register(...t){return t.forEach(r=>{if(r?.id==null||typeof r.middleware!="function")throw new Error("telegraf: Unsupported scene");this.scenes.set(r.id,r)}),this}middleware(){let t=_d.Composer.compose([(r,n)=>{let s=this.scenes,i=new ade.default(r,s,this.options);return r.scene=i,n()},super.middleware(),_d.Composer.lazy(r=>{var n;return(n=r.scene.current)!==null&&n!==void 0?n:_d.Composer.passThru()})]);return _d.Composer.optional(ode.isSessionContext,t)}static enter(...t){return r=>r.scene.enter(...t)}static reenter(...t){return r=>r.scene.reenter(...t)}static leave(...t){return r=>r.scene.leave(...t)}};Hc.Stage=ET});var CT=b(ma=>{"use strict";l();u();c();var cde=ma&&ma.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ma,"__esModule",{value:!0});ma.BaseScene=void 0;var h$=cde(Bi()),{compose:Nv}=h$.default,Lv=class extends h$.default{static{o(this,"BaseScene")}constructor(t,r){let n={handlers:[],enterHandlers:[],leaveHandlers:[],...r};super(...n.handlers),this.id=t,this.ttl=n.ttl,this.enterHandler=Nv(n.enterHandlers),this.leaveHandler=Nv(n.leaveHandlers)}enter(...t){return this.enterHandler=Nv([this.enterHandler,...t]),this}leave(...t){return this.leaveHandler=Nv([this.leaveHandler,...t]),this}enterMiddleware(){return this.enterHandler}leaveMiddleware(){return this.leaveHandler}};ma.BaseScene=Lv;ma.default=Lv});var OT=b(TT=>{"use strict";l();u();c();Object.defineProperty(TT,"__esModule",{value:!0});var AT=class{static{o(this,"WizardContextWizard")}constructor(t,r){var n;this.ctx=t,this.steps=r,this.state=t.scene.state,this.cursor=(n=t.scene.session.cursor)!==null&&n!==void 0?n:0}get step(){return this.steps[this.cursor]}get cursor(){return this.ctx.scene.session.cursor}set cursor(t){this.ctx.scene.session.cursor=t}selectStep(t){return this.cursor=t,this}next(){return this.selectStep(this.cursor+1)}back(){return this.selectStep(this.cursor-1)}};TT.default=AT});var g$=b(zc=>{"use strict";l();u();c();var MT=zc&&zc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zc,"__esModule",{value:!0});zc.WizardScene=void 0;var ude=MT(CT()),lde=MT(OT()),kT=MT(Bi()),RT=class extends ude.default{static{o(this,"WizardScene")}constructor(t,r,...n){let s,i;typeof r=="function"||"middleware"in r?(s=void 0,i=[r,...n]):(s=r,i=n),super(t,s),this.steps=i}middleware(){return kT.default.compose([(t,r)=>(t.wizard=new lde.default(t,this.steps),r()),super.middleware(),(t,r)=>t.wizard.step===void 0?(t.wizard.selectStep(0),t.scene.leave()):kT.default.unwrap(t.wizard.step)(t,r)])}enterMiddleware(){return kT.default.compose([this.enterHandler,this.middleware()])}};zc.WizardScene=RT});var b$=b(Ir=>{"use strict";l();u();c();var y$=Ir&&Ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.WizardContextWizard=Ir.WizardScene=Ir.BaseScene=Ir.SceneContextScene=Ir.Stage=void 0;var dde=m$();Object.defineProperty(Ir,"Stage",{enumerable:!0,get:o(function(){return dde.Stage},"get")});var pde=wT();Object.defineProperty(Ir,"SceneContextScene",{enumerable:!0,get:o(function(){return y$(pde).default},"get")});var fde=CT();Object.defineProperty(Ir,"BaseScene",{enumerable:!0,get:o(function(){return fde.BaseScene},"get")});var mde=g$();Object.defineProperty(Ir,"WizardScene",{enumerable:!0,get:o(function(){return mde.WizardScene},"get")});var hde=OT();Object.defineProperty(Ir,"WizardContextWizard",{enumerable:!0,get:o(function(){return y$(hde).default},"get")})});var x$=b(ha=>{"use strict";l();u();c();var gde=ha&&ha.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),yde=ha&&ha.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gde(t,e,r)};Object.defineProperty(ha,"__esModule",{value:!0});yde(b$(),ha)});var _$=b(be=>{"use strict";l();u();c();var bde=be&&be.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),xde=be&&be.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Sd=be&&be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bde(t,e,r);return xde(t,e),t};Object.defineProperty(be,"__esModule",{value:!0});be.Scenes=be.MemorySessionStore=be.session=be.deunionize=be.Format=be.Input=be.Markup=be.Types=be.Telegram=be.TelegramError=be.Router=be.Composer=be.Context=be.Telegraf=void 0;var vde=n$();Object.defineProperty(be,"Telegraf",{enumerable:!0,get:o(function(){return vde.Telegraf},"get")});var _de=Dx();Object.defineProperty(be,"Context",{enumerable:!0,get:o(function(){return _de.Context},"get")});var Sde=Bi();Object.defineProperty(be,"Composer",{enumerable:!0,get:o(function(){return Sde.Composer},"get")});var wde=s$();Object.defineProperty(be,"Router",{enumerable:!0,get:o(function(){return wde.Router},"get")});var Ede=$x();Object.defineProperty(be,"TelegramError",{enumerable:!0,get:o(function(){return Ede.TelegramError},"get")});var Cde=yT();Object.defineProperty(be,"Telegram",{enumerable:!0,get:o(function(){return Cde.Telegram},"get")});be.Types=Sd(a$());be.Markup=Sd(vT());be.Input=Sd(c$());be.Format=Sd(gT());var Ade=u$();Object.defineProperty(be,"deunionize",{enumerable:!0,get:o(function(){return Ade.deunionize},"get")});var v$=_T();Object.defineProperty(be,"session",{enumerable:!0,get:o(function(){return v$.session},"get")});Object.defineProperty(be,"MemorySessionStore",{enumerable:!0,get:o(function(){return v$.MemorySessionStore},"get")});be.Scenes=Sd(x$())});var w$=b((mKt,S$)=>{l();u();c();S$.exports=ZA()});l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();var Gv=o((e,t,r)=>(n,s)=>{let i=-1;return a(0);async function a(d){if(d<=i)throw new Error("next() called multiple times");i=d;let p,f=!1,m;if(e[d]?(m=e[d][0][0],n.req.routeIndex=d):m=d===e.length&&s||void 0,m)try{p=await m(n,()=>a(d+1))}catch(h){if(h instanceof Error&&t)n.error=h,p=await t(h,n),f=!0;else throw h}else n.finalized===!1&&r&&(p=await r(n));return p&&(n.finalized===!1||f)&&(n.res=p),n}},"compose");l();u();c();l();u();c();l();u();c();var Qc=class extends Error{static{o(this,"HTTPException")}res;status;constructor(e=500,t){super(t?.message,{cause:t?.cause}),this.res=t?.res,this.status=e}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}};l();u();c();var lO=Symbol();l();u();c();var dO=o(async(e,t=Object.create(null))=>{let{all:r=!1,dot:n=!1}=t,i=(e instanceof Id?e.raw.headers:e.headers).get("Content-Type");return i?.startsWith("multipart/form-data")||i?.startsWith("application/x-www-form-urlencoded")?YV(e,{all:r,dot:n}):{}},"parseBody");async function YV(e,t){let r=await e.formData();return r?QV(r,t):{}}o(YV,"parseFormData");function QV(e,t){let r=Object.create(null);return e.forEach((n,s)=>{t.all||s.endsWith("[]")?XV(r,s,n):r[s]=n}),t.dot&&Object.entries(r).forEach(([n,s])=>{n.includes(".")&&(ZV(r,n,s),delete r[n])}),r}o(QV,"convertFormDataToBodyData");var XV=o((e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:t.endsWith("[]")?e[t]=[r]:e[t]=r},"handleParsingAllValues"),ZV=o((e,t,r)=>{let n=e,s=t.split(".");s.forEach((i,a)=>{a===s.length-1?n[i]=r:((!n[i]||typeof n[i]!="object"||Array.isArray(n[i])||n[i]instanceof File)&&(n[i]=Object.create(null)),n=n[i])})},"handleParsingNestedValues");l();u();c();var Yv=o(e=>{let t=e.split("/");return t[0]===""&&t.shift(),t},"splitPath"),pO=o(e=>{let{groups:t,path:r}=e9(e),n=Yv(r);return t9(n,t)},"splitRoutingPath"),e9=o(e=>{let t=[];return e=e.replace(/\{[^}]+\}/g,(r,n)=>{let s=`@${n}`;return t.push([s,r]),s}),{groups:t,path:e}},"extractGroupsFromPath"),t9=o((e,t)=>{for(let r=t.length-1;r>=0;r--){let[n]=t[r];for(let s=e.length-1;s>=0;s--)if(e[s].includes(n)){e[s]=e[s].replace(n,t[r][1]);break}}return e},"replaceGroupMarks"),Bd={},fO=o((e,t)=>{if(e==="*")return"*";let r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${e}#${t}`;return Bd[n]||(r[2]?Bd[n]=t&&t[0]!==":"&&t[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:Bd[n]=[e,r[1],!0]),Bd[n]}return null},"getPattern"),ya=o((e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},"tryDecode"),r9=o(e=>ya(e,decodeURI),"tryDecodeURI"),Qv=o(e=>{let t=e.url,r=t.indexOf("/",t.indexOf(":")+4),n=r;for(;n<t.length;n++){let s=t.charCodeAt(n);if(s===37){let i=t.indexOf("?",n),a=t.slice(r,i===-1?void 0:i);return r9(a.includes("%25")?a.replace(/%25/g,"%2525"):a)}else if(s===63)break}return t.slice(r,n)},"getPath");var mO=o(e=>{let t=Qv(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},"getPathNoStrict"),qi=o((e,t,...r)=>(r.length&&(t=qi(t,...r)),`${e?.[0]==="/"?"":"/"}${e}${t==="/"?"":`${e?.at(-1)==="/"?"":"/"}${t?.[0]==="/"?t.slice(1):t}`}`),"mergePath"),Dd=o(e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;let t=e.split("/"),r=[],n="";return t.forEach(s=>{if(s!==""&&!/\:/.test(s))n+="/"+s;else if(/\:/.test(s))if(/\?/.test(s)){r.length===0&&n===""?r.push("/"):r.push(n);let i=s.replace("?","");n+="/"+i,r.push(n)}else n+="/"+s}),r.filter((s,i,a)=>a.indexOf(s)===i)},"checkOptionalParameter"),Wv=o(e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?ya(e,Xc):e):e,"_decodeURI"),hO=o((e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let a=e.indexOf("?",8);if(a===-1)return;for(e.startsWith(t,a+1)||(a=e.indexOf(`&${t}`,a+1));a!==-1;){let d=e.charCodeAt(a+t.length+1);if(d===61){let p=a+t.length+2,f=e.indexOf("&",p);return Wv(e.slice(p,f===-1?void 0:f))}else if(d==38||isNaN(d))return"";a=e.indexOf(`&${t}`,a+1)}if(n=/[%+]/.test(e),!n)return}let s={};n??=/[%+]/.test(e);let i=e.indexOf("?",8);for(;i!==-1;){let a=e.indexOf("&",i+1),d=e.indexOf("=",i);d>a&&a!==-1&&(d=-1);let p=e.slice(i+1,d===-1?a===-1?void 0:a:d);if(n&&(p=Wv(p)),i=a,p==="")continue;let f;d===-1?f="":(f=e.slice(d+1,a===-1?void 0:a),n&&(f=Wv(f))),r?(s[p]&&Array.isArray(s[p])||(s[p]=[]),s[p].push(f)):s[p]??=f}return t?s[t]:s},"_getQueryParam"),gO=hO,yO=o((e,t)=>hO(e,t,!0),"getQueryParams"),Xc=decodeURIComponent;var bO=o(e=>ya(e,Xc),"tryDecodeURIComponent"),Id=class{static{o(this,"HonoRequest")}raw;#t;#e;routeIndex=0;path;bodyCache={};constructor(e,t="/",r=[[]]){this.raw=e,this.path=t,this.#e=r,this.#t={}}param(e){return e?this.#r(e):this.#i()}#r(e){let t=this.#e[0][this.routeIndex][1][e],r=this.#s(t);return r&&/\%/.test(r)?bO(r):r}#i(){let e={},t=Object.keys(this.#e[0][this.routeIndex][1]);for(let r of t){let n=this.#s(this.#e[0][this.routeIndex][1][r]);n!==void 0&&(e[r]=/\%/.test(n)?bO(n):n)}return e}#s(e){return this.#e[1]?this.#e[1][e]:e}query(e){return gO(this.url,e)}queries(e){return yO(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;let t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}async parseBody(e){return this.bodyCache.parsedBody??=await dO(this,e)}#n=o(e=>{let{bodyCache:t,raw:r}=this,n=t[e];if(n)return n;let s=Object.keys(t)[0];return s?t[s].then(i=>(s==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=r[e]()},"#cachedBody");json(){return this.#n("text").then(e=>JSON.parse(e))}text(){return this.#n("text")}arrayBuffer(){return this.#n("arrayBuffer")}blob(){return this.#n("blob")}formData(){return this.#n("formData")}addValidatedData(e,t){this.#t[e]=t}valid(e){return this.#t[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[lO](){return this.#e}get matchedRoutes(){return this.#e[0].map(([[,e]])=>e)}get routePath(){return this.#e[0].map(([[,e]])=>e)[this.routeIndex].path}};l();u();c();var xO={Stringify:1,BeforeStream:2,Stream:3},n9=o((e,t)=>{let r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},"raw");var Xv=o(async(e,t,r,n,s)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));let i=e.callbacks;if(!i?.length)return Promise.resolve(e);s?s[0]+=e:s=[e];let a=Promise.all(i.map(d=>d({phase:t,buffer:s,context:n}))).then(d=>Promise.all(d.filter(Boolean).map(p=>Xv(p,t,!1,n,s))).then(()=>s[0]));return r?n9(await a,i):a},"resolveCallback");var s9="text/plain; charset=UTF-8",Zv=o((e,t)=>({"Content-Type":e,...t}),"setDefaultContentType"),vO=class{static{o(this,"Context")}#t;#e;env={};#r;finalized=!1;error;#i;#s;#n;#l;#c;#u;#a;#d;#p;constructor(e,t){this.#t=e,t&&(this.#s=t.executionCtx,this.env=t.env,this.#u=t.notFoundHandler,this.#p=t.path,this.#d=t.matchResult)}get req(){return this.#e??=new Id(this.#t,this.#p,this.#d),this.#e}get event(){if(this.#s&&"respondWith"in this.#s)return this.#s;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#s)return this.#s;throw Error("This context has no ExecutionContext")}get res(){return this.#n||=new Response(null,{headers:this.#a??=new Headers})}set res(e){if(this.#n&&e){e=new Response(e.body,e);for(let[t,r]of this.#n.headers.entries())if(t!=="content-type")if(t==="set-cookie"){let n=this.#n.headers.getSetCookie();e.headers.delete("set-cookie");for(let s of n)e.headers.append("set-cookie",s)}else e.headers.set(t,r)}this.#n=e,this.finalized=!0}render=o((...e)=>(this.#c??=t=>this.html(t),this.#c(...e)),"render");setLayout=o(e=>this.#l=e,"setLayout");getLayout=o(()=>this.#l,"getLayout");setRenderer=o(e=>{this.#c=e},"setRenderer");header=o((e,t,r)=>{this.finalized&&(this.#n=new Response(this.#n.body,this.#n));let n=this.#n?this.#n.headers:this.#a??=new Headers;t===void 0?n.delete(e):r?.append?n.append(e,t):n.set(e,t)},"header");status=o(e=>{this.#i=e},"status");set=o((e,t)=>{this.#r??=new Map,this.#r.set(e,t)},"set");get=o(e=>this.#r?this.#r.get(e):void 0,"get");get var(){return this.#r?Object.fromEntries(this.#r):{}}#o(e,t,r){let n=this.#n?new Headers(this.#n.headers):this.#a??new Headers;if(typeof t=="object"&&"headers"in t){let i=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(let[a,d]of i)a.toLowerCase()==="set-cookie"?n.append(a,d):n.set(a,d)}if(r)for(let[i,a]of Object.entries(r))if(typeof a=="string")n.set(i,a);else{n.delete(i);for(let d of a)n.append(i,d)}let s=typeof t=="number"?t:t?.status??this.#i;return new Response(e,{status:s,headers:n})}newResponse=o((...e)=>this.#o(...e),"newResponse");body=o((e,t,r)=>this.#o(e,t,r),"body");text=o((e,t,r)=>!this.#a&&!this.#i&&!t&&!r&&!this.finalized?new Response(e):this.#o(e,t,Zv(s9,r)),"text");json=o((e,t,r)=>this.#o(JSON.stringify(e),t,Zv("application/json",r)),"json");html=o((e,t,r)=>{let n=o(s=>this.#o(s,t,Zv("text/html; charset=UTF-8",r)),"res");return typeof e=="object"?Xv(e,xO.Stringify,!1,{}).then(n):n(e)},"html");redirect=o((e,t)=>{let r=String(e);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,t??302)},"redirect");notFound=o(()=>(this.#u??=()=>new Response,this.#u(this)),"notFound")};l();u();c();var qe="ALL",_O="all",SO=["get","post","put","delete","options","patch"],Nd="Can not add a route since the matcher is already built.",Ld=class extends Error{static{o(this,"UnsupportedPathError")}};l();u();c();var wO="__COMPOSED_HANDLER";var i9=o(e=>e.text("404 Not Found",404),"notFoundHandler"),EO=o((e,t)=>{if("getResponse"in e){let r=e.getResponse();return t.newResponse(r.body,r)}return console.error(e),t.text("Internal Server Error",500)},"errorHandler"),CO=class AO{static{o(this,"_Hono")}get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#t="/";routes=[];constructor(t={}){[...SO,_O].forEach(i=>{this[i]=(a,...d)=>(typeof a=="string"?this.#t=a:this.#i(i,this.#t,a),d.forEach(p=>{this.#i(i,this.#t,p)}),this)}),this.on=(i,a,...d)=>{for(let p of[a].flat()){this.#t=p;for(let f of[i].flat())d.map(m=>{this.#i(f.toUpperCase(),this.#t,m)})}return this},this.use=(i,...a)=>(typeof i=="string"?this.#t=i:(this.#t="*",a.unshift(i)),a.forEach(d=>{this.#i(qe,this.#t,d)}),this);let{strict:n,...s}=t;Object.assign(this,s),this.getPath=n??!0?t.getPath??Qv:mO}#e(){let t=new AO({router:this.router,getPath:this.getPath});return t.errorHandler=this.errorHandler,t.#r=this.#r,t.routes=this.routes,t}#r=i9;errorHandler=EO;route(t,r){let n=this.basePath(t);return r.routes.map(s=>{let i;r.errorHandler===EO?i=s.handler:(i=o(async(a,d)=>(await Gv([],r.errorHandler)(a,()=>s.handler(a,d))).res,"handler"),i[wO]=s.handler),n.#i(s.method,s.path,i)}),this}basePath(t){let r=this.#e();return r._basePath=qi(this._basePath,t),r}onError=o(t=>(this.errorHandler=t,this),"onError");notFound=o(t=>(this.#r=t,this),"notFound");mount(t,r,n){let s,i;n&&(typeof n=="function"?i=n:(i=n.optionHandler,n.replaceRequest===!1?s=o(p=>p,"replaceRequest"):s=n.replaceRequest));let a=i?p=>{let f=i(p);return Array.isArray(f)?f:[f]}:p=>{let f;try{f=p.executionCtx}catch{}return[p.env,f]};s||=(()=>{let p=qi(this._basePath,t),f=p==="/"?0:p.length;return m=>{let h=new URL(m.url);return h.pathname=h.pathname.slice(f)||"/",new Request(h,m)}})();let d=o(async(p,f)=>{let m=await r(s(p.req.raw),...a(p));if(m)return m;await f()},"handler");return this.#i(qe,qi(t,"*"),d),this}#i(t,r,n){t=t.toUpperCase(),r=qi(this._basePath,r);let s={basePath:this._basePath,path:r,method:t,handler:n};this.router.add(t,r,[n,s]),this.routes.push(s)}#s(t,r){if(t instanceof Error)return this.errorHandler(t,r);throw t}#n(t,r,n,s){if(s==="HEAD")return(async()=>new Response(null,await this.#n(t,r,n,"GET")))();let i=this.getPath(t,{env:n}),a=this.router.match(s,i),d=new vO(t,{path:i,matchResult:a,env:n,executionCtx:r,notFoundHandler:this.#r});if(a[0].length===1){let f;try{f=a[0][0][0][0](d,async()=>{d.res=await this.#r(d)})}catch(m){return this.#s(m,d)}return f instanceof Promise?f.then(m=>m||(d.finalized?d.res:this.#r(d))).catch(m=>this.#s(m,d)):f??this.#r(d)}let p=Gv(a[0],this.errorHandler,this.#r);return(async()=>{try{let f=await p(d);if(!f.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return f.res}catch(f){return this.#s(f,d)}})()}fetch=o((t,...r)=>this.#n(t,r[1],r[0],t.method),"fetch");request=o((t,r,n,s)=>t instanceof Request?this.fetch(r?new Request(t,r):t,n,s):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${qi("/",t)}`,r),n,s)),"request");fire=o(()=>{addEventListener("fetch",t=>{t.respondWith(this.#n(t.request,t,void 0,t.request.method))})},"fire")};l();u();c();l();u();c();l();u();c();var Fd=[];function e_(e,t){let r=this.buildAllMatchers(),n=o(((s,i)=>{let a=r[s]||r[qe],d=a[2][i];if(d)return d;let p=i.match(a[0]);if(!p)return[[],Fd];let f=p.indexOf("",1);return[a[1][f],p]}),"match2");return this.match=n,n(e,t)}o(e_,"match");l();u();c();var jd="[^/]+",Zc=".*",eu="(?:|/.*)",Hi=Symbol(),o9=new Set(".\\+*[^]$()");function a9(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===Zc||e===eu?1:t===Zc||t===eu?-1:e===jd?1:t===jd?-1:e.length===t.length?e<t?-1:1:t.length-e.length}o(a9,"compareKey");var TO=class t_{static{o(this,"_Node")}#t;#e;#r=Object.create(null);insert(t,r,n,s,i){if(t.length===0){if(this.#t!==void 0)throw Hi;if(i)return;this.#t=r;return}let[a,...d]=t,p=a==="*"?d.length===0?["","",Zc]:["","",jd]:a==="/*"?["","",eu]:a.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),f;if(p){let m=p[1],h=p[2]||jd;if(m&&p[2]&&(h===".*"||(h=h.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(h))))throw Hi;if(f=this.#r[h],!f){if(Object.keys(this.#r).some(g=>g!==Zc&&g!==eu))throw Hi;if(i)return;f=this.#r[h]=new t_,m!==""&&(f.#e=s.varIndex++)}!i&&m!==""&&n.push([m,f.#e])}else if(f=this.#r[a],!f){if(Object.keys(this.#r).some(m=>m.length>1&&m!==Zc&&m!==eu))throw Hi;if(i)return;f=this.#r[a]=new t_}f.insert(d,r,n,s,i)}buildRegExpStr(){let r=Object.keys(this.#r).sort(a9).map(n=>{let s=this.#r[n];return(typeof s.#e=="number"?`(${n})@${s.#e}`:o9.has(n)?`\\${n}`:n)+s.buildRegExpStr()});return typeof this.#t=="number"&&r.unshift(`#${this.#t}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}};l();u();c();var OO=class{static{o(this,"Trie")}#t={varIndex:0};#e=new TO;insert(e,t,r){let n=[],s=[];for(let a=0;;){let d=!1;if(e=e.replace(/\{[^}]+\}/g,p=>{let f=`@\\${a}`;return s[a]=[f,p],a++,d=!0,f}),!d)break}let i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=s.length-1;a>=0;a--){let[d]=s[a];for(let p=i.length-1;p>=0;p--)if(i[p].indexOf(d)!==-1){i[p]=i[p].replace(d,s[a][1]);break}}return this.#e.insert(i,t,n,this.#t,r),n}buildRegExp(){let e=this.#e.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0,r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(s,i,a)=>i!==void 0?(r[++t]=Number(i),"$()"):(a!==void 0&&(n[Number(a)]=++t),"")),[new RegExp(`^${e}`),r,n]}};var c9=[/^$/,[],Object.create(null)],kO=Object.create(null);function RO(e){return kO[e]??=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}o(RO,"buildWildcardRegExp");function u9(){kO=Object.create(null)}o(u9,"clearWildcardRegExpCache");function l9(e){let t=new OO,r=[];if(e.length===0)return c9;let n=e.map(f=>[!/\*|\/:/.test(f[0]),...f]).sort(([f,m],[h,g])=>f?1:h?-1:m.length-g.length),s=Object.create(null);for(let f=0,m=-1,h=n.length;f<h;f++){let[g,y,x]=n[f];g?s[y]=[x.map(([E])=>[E,Object.create(null)]),Fd]:m++;let _;try{_=t.insert(y,m,g)}catch(E){throw E===Hi?new Ld(y):E}g||(r[m]=x.map(([E,T])=>{let k=Object.create(null);for(T-=1;T>=0;T--){let[D,I]=_[T];k[D]=I}return[E,k]}))}let[i,a,d]=t.buildRegExp();for(let f=0,m=r.length;f<m;f++)for(let h=0,g=r[f].length;h<g;h++){let y=r[f][h]?.[1];if(!y)continue;let x=Object.keys(y);for(let _=0,E=x.length;_<E;_++)y[x[_]]=d[y[x[_]]]}let p=[];for(let f in a)p[f]=r[a[f]];return[i,p,s]}o(l9,"buildMatcherFromPreprocessedRoutes");function ba(e,t){if(e){for(let r of Object.keys(e).sort((n,s)=>s.length-n.length))if(RO(r).test(t))return[...e[r]]}}o(ba,"findMiddleware");var Ud=class{static{o(this,"RegExpRouter")}name="RegExpRouter";#t;#e;constructor(){this.#t={[qe]:Object.create(null)},this.#e={[qe]:Object.create(null)}}add(e,t,r){let n=this.#t,s=this.#e;if(!n||!s)throw new Error(Nd);n[e]||[n,s].forEach(d=>{d[e]=Object.create(null),Object.keys(d[qe]).forEach(p=>{d[e][p]=[...d[qe][p]]})}),t==="/*"&&(t="*");let i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){let d=RO(t);e===qe?Object.keys(n).forEach(p=>{n[p][t]||=ba(n[p],t)||ba(n[qe],t)||[]}):n[e][t]||=ba(n[e],t)||ba(n[qe],t)||[],Object.keys(n).forEach(p=>{(e===qe||e===p)&&Object.keys(n[p]).forEach(f=>{d.test(f)&&n[p][f].push([r,i])})}),Object.keys(s).forEach(p=>{(e===qe||e===p)&&Object.keys(s[p]).forEach(f=>d.test(f)&&s[p][f].push([r,i]))});return}let a=Dd(t)||[t];for(let d=0,p=a.length;d<p;d++){let f=a[d];Object.keys(s).forEach(m=>{(e===qe||e===m)&&(s[m][f]||=[...ba(n[m],f)||ba(n[qe],f)||[]],s[m][f].push([r,i-p+d+1]))})}}match=e_;buildAllMatchers(){let e=Object.create(null);return Object.keys(this.#e).concat(Object.keys(this.#t)).forEach(t=>{e[t]||=this.#r(t)}),this.#t=this.#e=void 0,u9(),e}#r(e){let t=[],r=e===qe;return[this.#t,this.#e].forEach(n=>{let s=n[e]?Object.keys(n[e]).map(i=>[i,n[e][i]]):[];s.length!==0?(r||=!0,t.push(...s)):e!==qe&&t.push(...Object.keys(n[qe]).map(i=>[i,n[qe][i]]))}),r?l9(t):null}};l();u();c();l();u();c();l();u();c();var r_=class{static{o(this,"SmartRouter")}name="SmartRouter";#t=[];#e=[];constructor(e){this.#t=e.routers}add(e,t,r){if(!this.#e)throw new Error(Nd);this.#e.push([e,t,r])}match(e,t){if(!this.#e)throw new Error("Fatal error");let r=this.#t,n=this.#e,s=r.length,i=0,a;for(;i<s;i++){let d=r[i];try{for(let p=0,f=n.length;p<f;p++)d.add(...n[p]);a=d.match(e,t)}catch(p){if(p instanceof Ld)continue;throw p}this.match=d.match.bind(d),this.#t=[d],this.#e=void 0;break}if(i===s)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(this.#e||this.#t.length!==1)throw new Error("No active router has been determined yet.");return this.#t[0]}};l();u();c();l();u();c();l();u();c();var tu=Object.create(null),MO=class PO{static{o(this,"_Node")}#t;#e;#r;#i=0;#s=tu;constructor(t,r,n){if(this.#e=n||Object.create(null),this.#t=[],t&&r){let s=Object.create(null);s[t]={handler:r,possibleKeys:[],score:0},this.#t=[s]}this.#r=[]}insert(t,r,n){this.#i=++this.#i;let s=this,i=pO(r),a=[];for(let d=0,p=i.length;d<p;d++){let f=i[d],m=i[d+1],h=fO(f,m),g=Array.isArray(h)?h[0]:f;if(g in s.#e){s=s.#e[g],h&&a.push(h[1]);continue}s.#e[g]=new PO,h&&(s.#r.push(h),a.push(h[1])),s=s.#e[g]}return s.#t.push({[t]:{handler:n,possibleKeys:a.filter((d,p,f)=>f.indexOf(d)===p),score:this.#i}}),s}#n(t,r,n,s){let i=[];for(let a=0,d=t.#t.length;a<d;a++){let p=t.#t[a],f=p[r]||p[qe],m={};if(f!==void 0&&(f.params=Object.create(null),i.push(f),n!==tu||s&&s!==tu))for(let h=0,g=f.possibleKeys.length;h<g;h++){let y=f.possibleKeys[h],x=m[f.score];f.params[y]=s?.[y]&&!x?s[y]:n[y]??s?.[y],m[f.score]=!0}}return i}search(t,r){let n=[];this.#s=tu;let i=[this],a=Yv(r),d=[];for(let p=0,f=a.length;p<f;p++){let m=a[p],h=p===f-1,g=[];for(let y=0,x=i.length;y<x;y++){let _=i[y],E=_.#e[m];E&&(E.#s=_.#s,h?(E.#e["*"]&&n.push(...this.#n(E.#e["*"],t,_.#s)),n.push(...this.#n(E,t,_.#s))):g.push(E));for(let T=0,k=_.#r.length;T<k;T++){let D=_.#r[T],I=_.#s===tu?{}:{..._.#s};if(D==="*"){let Te=_.#e["*"];Te&&(n.push(...this.#n(Te,t,_.#s)),Te.#s=I,g.push(Te));continue}let[N,G,ee]=D;if(!m&&!(ee instanceof RegExp))continue;let K=_.#e[N],te=a.slice(p).join("/");if(ee instanceof RegExp){let Te=ee.exec(te);if(Te){if(I[G]=Te[0],n.push(...this.#n(K,t,_.#s,I)),Object.keys(K.#e).length){K.#s=I;let Ot=Te[0].match(/\//)?.length??0;(d[Ot]||=[]).push(K)}continue}}(ee===!0||ee.test(m))&&(I[G]=m,h?(n.push(...this.#n(K,t,I,_.#s)),K.#e["*"]&&n.push(...this.#n(K.#e["*"],t,I,_.#s))):(K.#s=I,g.push(K)))}}i=g.concat(d.shift()??[])}return n.length>1&&n.sort((p,f)=>p.score-f.score),[n.map(({handler:p,params:f})=>[p,f])]}};var n_=class{static{o(this,"TrieRouter")}name="TrieRouter";#t;constructor(){this.#t=new MO}add(e,t,r){let n=Dd(t);if(n){for(let s=0,i=n.length;s<i;s++)this.#t.insert(e,n[s],r);return}this.#t.insert(e,t,r)}match(e,t){return this.#t.search(e,t)}};var tr=class extends CO{static{o(this,"Hono")}constructor(e={}){super(e),this.router=e.router??new r_({routers:[new Ud,new n_]})}};l();u();c();var IO=o(e=>{let r={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...e},n=(i=>typeof i=="string"?i==="*"?()=>i:a=>i===a?a:null:typeof i=="function"?i:a=>i.includes(a)?a:null)(r.origin),s=(i=>typeof i=="function"?i:Array.isArray(i)?()=>i:()=>[])(r.allowMethods);return o(async function(a,d){function p(m,h){a.res.headers.set(m,h)}o(p,"set");let f=await n(a.req.header("origin")||"",a);if(f&&p("Access-Control-Allow-Origin",f),r.credentials&&p("Access-Control-Allow-Credentials","true"),r.exposeHeaders?.length&&p("Access-Control-Expose-Headers",r.exposeHeaders.join(",")),a.req.method==="OPTIONS"){r.origin!=="*"&&p("Vary","Origin"),r.maxAge!=null&&p("Access-Control-Max-Age",r.maxAge.toString());let m=await s(a.req.header("origin")||"",a);m.length&&p("Access-Control-Allow-Methods",m.join(","));let h=r.allowHeaders;if(!h?.length){let g=a.req.header("Access-Control-Request-Headers");g&&(h=g.split(/\s*,\s*/))}return h?.length&&(p("Access-Control-Allow-Headers",h.join(",")),a.res.headers.append("Vary","Access-Control-Request-Headers")),a.res.headers.delete("Content-Length"),a.res.headers.delete("Content-Type"),new Response(null,{headers:a.res.headers,status:204,statusText:"No Content"})}await d(),r.origin!=="*"&&a.header("Vary","Origin",{append:!0})},"cors2")},"cors");l();u();c();l();u();c();l();u();c();l();u();c();var BO={name:"HMAC",hash:"SHA-256"},d9=o(async e=>{let t=typeof e=="string"?new TextEncoder().encode(e):e;return await crypto.subtle.importKey("raw",t,BO,!1,["sign","verify"])},"getCryptoKey");var p9=o(async(e,t,r)=>{try{let n=atob(e),s=new Uint8Array(n.length);for(let i=0,a=n.length;i<a;i++)s[i]=n.charCodeAt(i);return await crypto.subtle.verify(BO,r,s,new TextEncoder().encode(t))}catch{return!1}},"verifySignature"),f9=/^[\w!#$%&'*.^`|~+-]+$/,m9=/^[ !#-:<-[\]-~]*$/,qd=o((e,t)=>{if(t&&e.indexOf(t)===-1)return{};let r=e.trim().split(";"),n={};for(let s of r){s=s.trim();let i=s.indexOf("=");if(i===-1)continue;let a=s.substring(0,i).trim();if(t&&t!==a||!f9.test(a))continue;let d=s.substring(i+1).trim();if(d.startsWith('"')&&d.endsWith('"')&&(d=d.slice(1,-1)),m9.test(d)&&(n[a]=d.indexOf("%")!==-1?ya(d,Xc):d,t))break}return n},"parse"),s_=o(async(e,t,r)=>{let n={},s=await d9(t);for(let[i,a]of Object.entries(qd(e,r))){let d=a.lastIndexOf(".");if(d<1)continue;let p=a.substring(0,d),f=a.substring(d+1);if(f.length!==44||!f.endsWith("="))continue;let m=await p9(f,p,s);n[i]=m?p:!1}return n},"parseSigned");var Hd=o((e,t,r)=>{let n=e.req.raw.headers.get("Cookie");if(typeof t=="string"){if(!n)return;let i=t;return r==="secure"?i="__Secure-"+t:r==="host"&&(i="__Host-"+t),qd(n,i)[i]}return n?qd(n):{}},"getCookie"),i_=o(async(e,t,r,n)=>{let s=e.req.raw.headers.get("Cookie");if(typeof r=="string"){if(!s)return;let a=r;return n==="secure"?a="__Secure-"+r:n==="host"&&(a="__Host-"+r),(await s_(s,t,a))[a]}return s?await s_(s,t):{}},"getSignedCookie");l();u();c();l();u();c();l();u();c();var o_=o(e=>c_(e.replace(/_|-/g,t=>({_:"/","-":"+"})[t]??t)),"decodeBase64Url"),a_=o(e=>h9(e).replace(/\/|\+/g,t=>({"/":"_","+":"-"})[t]??t),"encodeBase64Url"),h9=o(e=>{let t="",r=new Uint8Array(e);for(let n=0,s=r.length;n<s;n++)t+=String.fromCharCode(r[n]);return btoa(t)},"encodeBase64"),c_=o(e=>{let t=atob(e),r=new Uint8Array(new ArrayBuffer(t.length)),n=t.length/2;for(let s=0,i=t.length-1;s<=n;s++,i--)r[s]=t.charCodeAt(s),r[i]=t.charCodeAt(i);return r},"decodeBase64");l();u();c();var xa=(e=>(e.HS256="HS256",e.HS384="HS384",e.HS512="HS512",e.RS256="RS256",e.RS384="RS384",e.RS512="RS512",e.PS256="PS256",e.PS384="PS384",e.PS512="PS512",e.ES256="ES256",e.ES384="ES384",e.ES512="ES512",e.EdDSA="EdDSA",e))(xa||{});l();u();c();l();u();c();var g9={deno:"Deno",bun:"Bun",workerd:"Cloudflare-Workers",node:"Node.js"},DO=o(()=>{let e=globalThis;if(typeof navigator<"u"&&!0){for(let[r,n]of Object.entries(g9))if(y9(n))return r}return typeof e?.EdgeRuntime=="string"?"edge-light":e?.fastly!==void 0?"fastly":e?.process?.release?.name==="node"?"node":"other"},"getRuntimeKey"),y9=o(e=>"Cloudflare-Workers".startsWith(e),"checkUserAgentEquals");l();u();c();var NO=class extends Error{static{o(this,"JwtAlgorithmNotImplemented")}constructor(e){super(`${e} is not an implemented algorithm`),this.name="JwtAlgorithmNotImplemented"}},u_=class extends Error{static{o(this,"JwtAlgorithmRequired")}constructor(){super('JWT verification requires "alg" option to be specified'),this.name="JwtAlgorithmRequired"}},l_=class extends Error{static{o(this,"JwtAlgorithmMismatch")}constructor(e,t){super(`JWT algorithm mismatch: expected "${e}", got "${t}"`),this.name="JwtAlgorithmMismatch"}},ru=class extends Error{static{o(this,"JwtTokenInvalid")}constructor(e){super(`invalid JWT token: ${e}`),this.name="JwtTokenInvalid"}},LO=class extends Error{static{o(this,"JwtTokenNotBefore")}constructor(e){super(`token (${e}) is being used before it's valid`),this.name="JwtTokenNotBefore"}},FO=class extends Error{static{o(this,"JwtTokenExpired")}constructor(e){super(`token (${e}) expired`),this.name="JwtTokenExpired"}},jO=class extends Error{static{o(this,"JwtTokenIssuedAt")}constructor(e,t){super(`Invalid "iat" claim, must be a valid number lower than "${e}" (iat: "${t}")`),this.name="JwtTokenIssuedAt"}},zd=class extends Error{static{o(this,"JwtTokenIssuer")}constructor(e,t){super(`expected issuer "${e}", got ${t?`"${t}"`:"none"} `),this.name="JwtTokenIssuer"}},d_=class extends Error{static{o(this,"JwtHeaderInvalid")}constructor(e){super(`jwt header is invalid: ${JSON.stringify(e)}`),this.name="JwtHeaderInvalid"}},UO=class extends Error{static{o(this,"JwtHeaderRequiresKid")}constructor(e){super(`required "kid" in jwt header: ${JSON.stringify(e)}`),this.name="JwtHeaderRequiresKid"}},qO=class extends Error{static{o(this,"JwtSymmetricAlgorithmNotAllowed")}constructor(e){super(`symmetric algorithm "${e}" is not allowed for JWK verification`),this.name="JwtSymmetricAlgorithmNotAllowed"}},HO=class extends Error{static{o(this,"JwtAlgorithmNotAllowed")}constructor(e,t){super(`algorithm "${e}" is not in the allowed list: [${t.join(", ")}]`),this.name="JwtAlgorithmNotAllowed"}},zO=class extends Error{static{o(this,"JwtTokenSignatureMismatched")}constructor(e){super(`token(${e}) signature mismatched`),this.name="JwtTokenSignatureMismatched"}},$O=class extends Error{static{o(this,"JwtPayloadRequiresAud")}constructor(e){super(`required "aud" in jwt payload: ${JSON.stringify(e)}`),this.name="JwtPayloadRequiresAud"}},JO=class extends Error{static{o(this,"JwtTokenAudience")}constructor(e,t){super(`expected audience "${Array.isArray(e)?e.join(", "):e}", got "${t}"`),this.name="JwtTokenAudience"}},va=(e=>(e.Encrypt="encrypt",e.Decrypt="decrypt",e.Sign="sign",e.Verify="verify",e.DeriveKey="deriveKey",e.DeriveBits="deriveBits",e.WrapKey="wrapKey",e.UnwrapKey="unwrapKey",e))(va||{});l();u();c();var zi=new TextEncoder,VO=new TextDecoder;async function GO(e,t,r){let n=YO(t),s=await b9(e,n);return await crypto.subtle.sign(n,s,r)}o(GO,"signing");async function WO(e,t,r,n){let s=YO(t),i=await x9(e,s);return await crypto.subtle.verify(s,i,r,n)}o(WO,"verifying");function p_(e){return c_(e.replace(/-+(BEGIN|END).*/g,"").replace(/\s/g,""))}o(p_,"pemToBinary");async function b9(e,t){if(!crypto.subtle||!crypto.subtle.importKey)throw new Error("`crypto.subtle.importKey` is undefined. JWT auth middleware requires it.");if(QO(e)){if(e.type!=="private"&&e.type!=="secret")throw new Error(`unexpected key type: CryptoKey.type is ${e.type}, expected private or secret`);return e}let r=[va.Sign];return typeof e=="object"?await crypto.subtle.importKey("jwk",e,t,!1,r):e.includes("PRIVATE")?await crypto.subtle.importKey("pkcs8",p_(e),t,!1,r):await crypto.subtle.importKey("raw",zi.encode(e),t,!1,r)}o(b9,"importPrivateKey");async function x9(e,t){if(!crypto.subtle||!crypto.subtle.importKey)throw new Error("`crypto.subtle.importKey` is undefined. JWT auth middleware requires it.");if(QO(e)){if(e.type==="public"||e.type==="secret")return e;e=await KO(e)}if(typeof e=="string"&&e.includes("PRIVATE")){let n=await crypto.subtle.importKey("pkcs8",p_(e),t,!0,[va.Sign]);e=await KO(n)}let r=[va.Verify];return typeof e=="object"?await crypto.subtle.importKey("jwk",e,t,!1,r):e.includes("PUBLIC")?await crypto.subtle.importKey("spki",p_(e),t,!1,r):await crypto.subtle.importKey("raw",zi.encode(e),t,!1,r)}o(x9,"importPublicKey");async function KO(e){if(e.type!=="private")throw new Error(`unexpected key type: ${e.type}`);if(!e.extractable)throw new Error("unexpected private key is unextractable");let t=await crypto.subtle.exportKey("jwk",e),{kty:r}=t,{alg:n,e:s,n:i}=t,{crv:a,x:d,y:p}=t;return{kty:r,alg:n,e:s,n:i,crv:a,x:d,y:p,key_ops:[va.Verify]}}o(KO,"exportPublicJwkFrom");function YO(e){switch(e){case"HS256":return{name:"HMAC",hash:{name:"SHA-256"}};case"HS384":return{name:"HMAC",hash:{name:"SHA-384"}};case"HS512":return{name:"HMAC",hash:{name:"SHA-512"}};case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"RS384":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"PS256":return{name:"RSA-PSS",hash:{name:"SHA-256"},saltLength:32};case"PS384":return{name:"RSA-PSS",hash:{name:"SHA-384"},saltLength:48};case"PS512":return{name:"RSA-PSS",hash:{name:"SHA-512"},saltLength:64};case"ES256":return{name:"ECDSA",hash:{name:"SHA-256"},namedCurve:"P-256"};case"ES384":return{name:"ECDSA",hash:{name:"SHA-384"},namedCurve:"P-384"};case"ES512":return{name:"ECDSA",hash:{name:"SHA-512"},namedCurve:"P-521"};case"EdDSA":return{name:"Ed25519",namedCurve:"Ed25519"};default:throw new NO(e)}}o(YO,"getKeyAlgorithm");function QO(e){return DO()==="node"&&crypto.webcrypto?e instanceof crypto.webcrypto.CryptoKey:e instanceof CryptoKey}o(QO,"isCryptoKey");var f_=o(e=>a_(zi.encode(JSON.stringify(e)).buffer).replace(/=/g,""),"encodeJwtPart"),v9=o(e=>a_(e).replace(/=/g,""),"encodeSignaturePart"),m_=o(e=>JSON.parse(VO.decode(o_(e))),"decodeJwtPart");function XO(e){if(typeof e=="object"&&e!==null){let t=e;return"alg"in t&&Object.values(xa).includes(t.alg)&&(!("typ"in t)||t.typ==="JWT")}return!1}o(XO,"isTokenHeader");var ZO=o(async(e,t,r="HS256")=>{let n=f_(e),s;typeof t=="object"&&"alg"in t?(r=t.alg,s=f_({alg:r,typ:"JWT",kid:t.kid})):s=f_({alg:r,typ:"JWT"});let i=`${s}.${n}`,a=await GO(t,r,zi.encode(i)),d=v9(a);return`${i}.${d}`},"sign"),h_=o(async(e,t,r)=>{if(!r)throw new u_;let{alg:n,iss:s,nbf:i=!0,exp:a=!0,iat:d=!0,aud:p}=typeof r=="string"?{alg:r}:r;if(!n)throw new u_;let f=e.split(".");if(f.length!==3)throw new ru(e);let{header:m,payload:h}=g_(e);if(!XO(m))throw new d_(m);if(m.alg!==n)throw new l_(n,m.alg);let g=Date.now()/1e3|0;if(i&&h.nbf&&h.nbf>g)throw new LO(e);if(a&&h.exp&&h.exp<=g)throw new FO(e);if(d&&h.iat&&g<h.iat)throw new jO(g,h.iat);if(s){if(!h.iss)throw new zd(s,null);if(typeof s=="string"&&h.iss!==s)throw new zd(s,h.iss);if(s instanceof RegExp&&!s.test(h.iss))throw new zd(s,h.iss)}if(p){if(!h.aud)throw new $O(h);if(!(Array.isArray(h.aud)?h.aud:[h.aud]).some(T=>p instanceof RegExp?p.test(T):typeof p=="string"?T===p:Array.isArray(p)&&p.includes(T)))throw new JO(p,h.aud)}let y=e.substring(0,e.lastIndexOf("."));if(!await WO(t,n,o_(f[2]),zi.encode(y)))throw new zO(e);return h},"verify"),_9=[xa.HS256,xa.HS384,xa.HS512],e2=o(async(e,t,r)=>{let n=t.verification||{},s=S9(e);if(!XO(s))throw new d_(s);if(!s.kid)throw new UO(s);if(_9.includes(s.alg))throw new qO(s.alg);if(!t.allowedAlgorithms.includes(s.alg))throw new HO(s.alg,t.allowedAlgorithms);if(t.jwks_uri){let a=await fetch(t.jwks_uri,r);if(!a.ok)throw new Error(`failed to fetch JWKS from ${t.jwks_uri}`);let d=await a.json();if(!d.keys)throw new Error('invalid JWKS response. "keys" field is missing');if(!Array.isArray(d.keys))throw new Error('invalid JWKS response. "keys" field is not an array');t.keys?t.keys.push(...d.keys):t.keys=d.keys}else if(!t.keys)throw new Error('verifyWithJwks requires options for either "keys" or "jwks_uri" or both');let i=t.keys.find(a=>a.kid===s.kid);if(!i)throw new ru(e);if(i.alg&&i.alg!==s.alg)throw new l_(i.alg,s.alg);return await h_(e,i,{alg:s.alg,...n})},"verifyWithJwks"),g_=o(e=>{try{let[t,r]=e.split("."),n=m_(t),s=m_(r);return{header:n,payload:s}}catch{throw new ru(e)}},"decode"),S9=o(e=>{try{let[t]=e.split(".");return m_(t)}catch{throw new ru(e)}},"decodeHeader");var le={sign:ZO,verify:h_,decode:g_,verifyWithJwks:e2};var $d=o(e=>{let t=e.verification||{};if(!e||!e.secret)throw new Error('JWT auth middleware requires options for "secret"');if(!e.alg)throw new Error('JWT auth middleware requires options for "alg"');if(!crypto.subtle||!crypto.subtle.importKey)throw new Error("`crypto.subtle.importKey` is undefined. JWT auth middleware requires it.");return o(async function(n,s){let i=e.headerName||"Authorization",a=n.req.raw.headers.get(i),d;if(a){let m=a.split(/\s+/);if(m.length!==2){let h="invalid credentials structure";throw new Qc(401,{message:h,res:y_({ctx:n,error:"invalid_request",errDescription:h})})}else d=m[1]}else e.cookie&&(typeof e.cookie=="string"?d=Hd(n,e.cookie):e.cookie.secret?e.cookie.prefixOptions?d=await i_(n,e.cookie.secret,e.cookie.key,e.cookie.prefixOptions):d=await i_(n,e.cookie.secret,e.cookie.key):e.cookie.prefixOptions?d=Hd(n,e.cookie.key,e.cookie.prefixOptions):d=Hd(n,e.cookie.key));if(!d){let m="no authorization included in request";throw new Qc(401,{message:m,res:y_({ctx:n,error:"invalid_request",errDescription:m})})}let p,f;try{p=await le.verify(d,e.secret,{alg:e.alg,...t})}catch(m){f=m}if(!p)throw new Qc(401,{message:"Unauthorized",res:y_({ctx:n,error:"invalid_token",statusText:"Unauthorized",errDescription:"token verification failure"}),cause:f});n.set("jwtPayload",p),await s()},"jwt2")},"jwt");function y_(e){return new Response("Unauthorized",{status:401,statusText:e.statusText,headers:{"WWW-Authenticate":`Bearer realm="${e.ctx.req.url}",error="${e.error}",error_description="${e.errDescription}"`}})}o(y_,"unauthorizedResponse");var w9=le.verifyWithJwks,E9=le.verify,C9=le.decode,A9=le.sign;l();u();c();l();u();c();l();u();c();l();u();c();var t2=`
`;var j1=Fr(c2(),1),U1=Fr(F1(),1);var wn=class extends Error{static{o(this,"n")}name="";description="";constructor(t,r=""){super(r),this.name=t,this.description=r}},bs=class{static{o(this,"i")}reSpecCompliantAddr=/(([^<>\r\n]+)\s)?<[^\r\n]+>/;name="";addr="";type="To";constructor(t,r={type:"To"}){this.type=r.type,this.parse(t)}getAddrDomain(){if(this.addr.includes("@")){let t=this.addr.split("@");if(t.length>1)return t[1]}return""}dump(){return this.name.length>0?`"${this.name}" <${this.addr}>`:`<${this.addr}>`}parse(t){if(this.isMailboxAddrObject(t))return this.addr=t.addr,typeof t.name=="string"&&(this.name=t.name),typeof t.type=="string"&&(this.type=t.type),this;if(this.isMailboxAddrText(t)){let r=(0,U1.default)(t).call(t);if(r.startsWith("<")&&r.endsWith(">"))return this.addr=r.slice(1,-1),this;let n=r.split(" <");return n[0]=/^("|')/.test(n[0])?n[0].slice(1):n[0],n[0]=/("|')$/.test(n[0])?n[0].slice(0,-1):n[0],n[1]=n[1].slice(0,-1),this.name=n[0],this.addr=n[1],this}if(typeof t=="string")return this.addr=t,this;throw new wn("MIMETEXT_INVALID_MAILBOX","Couldn't recognize the input.")}isMailboxAddrText(t){return typeof t=="string"&&this.reSpecCompliantAddr.test(t)}isMailboxAddrObject(t){return this.isObject(t)&&Object.hasOwn(t,"addr")}isObject(t){return!!t&&t.constructor===Object}},rp=class{static{o(this,"a")}fields=[{name:"Date",generator:o(()=>new Date().toUTCString().replace(/GMT|UTC/gi,"+0000"),"generator")},{name:"From",required:!0,validate:o(t=>this.validateMailboxSingle(t),"validate"),dump:o(t=>this.dumpMailboxSingle(t),"dump")},{name:"Sender",validate:o(t=>this.validateMailboxSingle(t),"validate"),dump:o(t=>this.dumpMailboxSingle(t),"dump")},{name:"Reply-To",validate:o(t=>this.validateMailboxSingle(t),"validate"),dump:o(t=>this.dumpMailboxSingle(t),"dump")},{name:"To",validate:o(t=>this.validateMailboxMulti(t),"validate"),dump:o(t=>this.dumpMailboxMulti(t),"dump")},{name:"Cc",validate:o(t=>this.validateMailboxMulti(t),"validate"),dump:o(t=>this.dumpMailboxMulti(t),"dump")},{name:"Bcc",validate:o(t=>this.validateMailboxMulti(t),"validate"),dump:o(t=>this.dumpMailboxMulti(t),"dump")},{name:"Message-ID",generator:o(()=>"<"+Math.random().toString(36).slice(2)+"@"+this.fields.filter((t=>t.name==="From"))[0].value.getAddrDomain()+">","generator")},{name:"Subject",required:!0,dump:o(t=>typeof t=="string"?"=?utf-8?B?"+this.envctx.toBase64(t)+"?=":"","dump")},{name:"MIME-Version",generator:o(()=>"1.0","generator")}];constructor(t){this.envctx=t}dump(){let t="";for(let r of this.fields){if(r.disabled)continue;let n=r.value!==void 0&&r.value!==null;if(!n&&r.required)throw new wn("MIMETEXT_MISSING_HEADER",`The "${r.name}" header is required.`);if(!n&&typeof r.generator!="function")continue;n||typeof r.generator!="function"||(r.value=r.generator());let s=Object.hasOwn(r,"dump")&&typeof r.dump=="function"?r.dump(r.value):typeof r.value=="string"?r.value:"";t+=`${r.name}: ${s}${this.envctx.eol}`}return t.slice(0,-1*this.envctx.eol.length)}toObject(){return this.fields.reduce(((t,r)=>(t[r.name]=r.value,t)),{})}get(t){let r=this.fields.findIndex((n=>n.name.toLowerCase()===t.toLowerCase()));return r!==-1?this.fields[r].value:void 0}set(t,r){let n=o(s=>s.name.toLowerCase()===t.toLowerCase(),"s");if(this.fields.some(n)){let s=this.fields.findIndex(n),i=this.fields[s];if(i.validate&&!i.validate(r))throw new wn("MIMETEXT_INVALID_HEADER_VALUE",`The value for the header "${t}" is invalid.`);return this.fields[s].value=r,this.fields[s]}return this.setCustom({name:t,value:r,custom:!0,dump:o(s=>typeof s=="string"?s:"","dump")})}setCustom(t){if(this.isHeaderField(t)){if(typeof t.value!="string")throw new wn("MIMETEXT_INVALID_HEADER_FIELD","Custom header must have a value.");return this.fields.push(t),t}throw new wn("MIMETEXT_INVALID_HEADER_FIELD","Invalid input for custom header. It must be in type of HeaderField.")}validateMailboxSingle(t){return t instanceof bs}validateMailboxMulti(t){return t instanceof bs||this.isArrayOfMailboxes(t)}dumpMailboxMulti(t){let r=o(n=>n.name.length===0?n.dump():`=?utf-8?B?${this.envctx.toBase64(n.name)}?= <${n.addr}>`,"t");return this.isArrayOfMailboxes(t)?t.map(r).join(`,${this.envctx.eol} `):t instanceof bs?r(t):""}dumpMailboxSingle(t){return t instanceof bs?(r=>r.name.length===0?r.dump():`=?utf-8?B?${this.envctx.toBase64(r.name)}?= <${r.addr}>`)(t):""}isHeaderField(t){let r=["name","value","dump","required","disabled","generator","custom"];if(this.isObject(t)){let n=t;if(Object.hasOwn(n,"name")&&typeof n.name=="string"&&n.name.length>0&&!Object.keys(n).some((s=>!r.includes(s))))return!0}return!1}isObject(t){return!!t&&t.constructor===Object}isArrayOfMailboxes(t){return this.isArray(t)&&t.every((r=>r instanceof bs))}isArray(t){return!!t&&t.constructor===Array}},Q_=class extends rp{static{o(this,"r")}fields=[{name:"Content-ID"},{name:"Content-Type"},{name:"Content-Transfer-Encoding"},{name:"Content-Disposition"}];constructor(t){super(t)}},X_=class{static{o(this,"o")}constructor(t,r,n={}){this.envctx=t,this.headers=new Q_(this.envctx),this.data=r,this.setHeaders(n)}dump(){let t=this.envctx.eol;return this.headers.dump()+t+t+this.data}isAttachment(){let t=this.headers.get("Content-Disposition");return typeof t=="string"&&t.includes("attachment")}isInlineAttachment(){let t=this.headers.get("Content-Disposition");return typeof t=="string"&&t.includes("inline")}setHeader(t,r){return this.headers.set(t,r),t}getHeader(t){return this.headers.get(t)}setHeaders(t){return Object.keys(t).map((r=>this.setHeader(r,t[r])))}getHeaders(){return this.headers.toObject()}},Z_=class{static{o(this,"d")}boundaries={mixed:"",alt:"",related:""};validTypes=["text/html","text/plain"];validContentTransferEncodings=["7bit","8bit","binary","quoted-printable","base64"];messages=[];constructor(t){this.envctx=t,this.headers=new rp(this.envctx),this.messages=[],this.generateBoundaries()}asRaw(){let t=this.envctx.eol,r=this.headers.dump(),n=this.getMessageByType("text/plain"),s=this.getMessageByType("text/html"),i=s??n??void 0;if(i===void 0)throw new wn("MIMETEXT_MISSING_BODY","No content added to the message.");let a=this.hasAttachments(),d=this.hasInlineAttachments(),p=d&&a?"mixed+related":a?"mixed":d?"related":n&&s?"alternative":"";if(p==="mixed+related"){let f=this.getAttachments().map((h=>"--"+this.boundaries.mixed+t+h.dump()+t+t)).join("").slice(0,-1*t.length),m=this.getInlineAttachments().map((h=>"--"+this.boundaries.related+t+h.dump()+t+t)).join("").slice(0,-1*t.length);return r+t+"Content-Type: multipart/mixed; boundary="+this.boundaries.mixed+t+t+"--"+this.boundaries.mixed+t+"Content-Type: multipart/related; boundary="+this.boundaries.related+t+t+this.dumpTextContent(n,s,this.boundaries.related)+t+t+m+"--"+this.boundaries.related+"--"+t+f+"--"+this.boundaries.mixed+"--"}if(p==="mixed"){let f=this.getAttachments().map((m=>"--"+this.boundaries.mixed+t+m.dump()+t+t)).join("").slice(0,-1*t.length);return r+t+"Content-Type: multipart/mixed; boundary="+this.boundaries.mixed+t+t+this.dumpTextContent(n,s,this.boundaries.mixed)+t+(n&&s?"":t)+f+"--"+this.boundaries.mixed+"--"}if(p==="related"){let f=this.getInlineAttachments().map((m=>"--"+this.boundaries.related+t+m.dump()+t+t)).join("").slice(0,-1*t.length);return r+t+"Content-Type: multipart/related; boundary="+this.boundaries.related+t+t+this.dumpTextContent(n,s,this.boundaries.related)+t+t+f+"--"+this.boundaries.related+"--"}return p==="alternative"?r+t+"Content-Type: multipart/alternative; boundary="+this.boundaries.alt+t+t+this.dumpTextContent(n,s,this.boundaries.alt)+t+t+"--"+this.boundaries.alt+"--":r+t+i.dump()}asEncoded(){return this.envctx.toBase64WebSafe(this.asRaw())}dumpTextContent(t,r,n){let s=this.envctx.eol,i=r??t,a="";return a=t&&r&&(this.hasInlineAttachments()||this.hasAttachments())?"--"+n+s+"Content-Type: multipart/alternative; boundary="+this.boundaries.alt+s+s+"--"+this.boundaries.alt+s+t.dump()+s+s+"--"+this.boundaries.alt+s+r.dump()+s+s+"--"+this.boundaries.alt+"--":t&&r?"--"+n+s+t.dump()+s+s+"--"+n+s+r.dump():"--"+n+s+i.dump(),a}hasInlineAttachments(){return this.messages.some((t=>t.isInlineAttachment()))}hasAttachments(){return this.messages.some((t=>t.isAttachment()))}getAttachments(){let t=o(r=>r.isAttachment(),"e");return this.messages.some(t)?this.messages.filter(t):[]}getInlineAttachments(){let t=o(r=>r.isInlineAttachment(),"e");return this.messages.some(t)?this.messages.filter(t):[]}getMessageByType(t){let r=o(n=>!n.isAttachment()&&!n.isInlineAttachment()&&(n.getHeader("Content-Type")||"").includes(t),"t");return this.messages.some(r)?this.messages.filter(r)[0]:void 0}addAttachment(t){if(this.isObject(t.headers)||(t.headers={}),typeof t.filename!="string")throw new wn("MIMETEXT_MISSING_FILENAME",'The property "filename" must exist while adding attachments.');let r=(t.headers["Content-Type"]??t.contentType)||"none";if(this.envctx.validateContentType(r)===!1)throw new wn("MIMETEXT_INVALID_MESSAGE_TYPE",`You specified an invalid content type "${r}".`);let n=t.headers["Content-Transfer-Encoding"]??t.encoding??"base64";this.validContentTransferEncodings.includes(n)||(r="application/octet-stream");let s=t.headers["Content-ID"];typeof s=="string"&&s.length>2&&!s.startsWith("<")&&!s.endsWith(">")&&(t.headers["Content-ID"]="<"+t.headers["Content-ID"]+">");let i=t.inline?"inline":"attachment";return t.headers=Object.assign({},t.headers,{"Content-Type":`${r}; name="${t.filename}"`,"Content-Transfer-Encoding":n,"Content-Disposition":`${i}; filename="${t.filename}"`}),this._addMessage({data:t.data,headers:t.headers})}addMessage(t){this.isObject(t.headers)||(t.headers={});let r=(t.headers["Content-Type"]??t.contentType)||"none";if(!this.validTypes.includes(r))throw new wn("MIMETEXT_INVALID_MESSAGE_TYPE",`Valid content types are ${this.validTypes.join(", ")} but you specified "${r}".`);let n=t.headers["Content-Transfer-Encoding"]??t.encoding??"7bit";this.validContentTransferEncodings.includes(n)||(r="application/octet-stream");let s=t.charset??"UTF-8";return t.headers=Object.assign({},t.headers,{"Content-Type":`${r}; charset=${s}`,"Content-Transfer-Encoding":n}),this._addMessage({data:t.data,headers:t.headers})}_addMessage(t){let r=new X_(this.envctx,t.data,t.headers);return this.messages.push(r),r}setSender(t,r={type:"From"}){let n=new bs(t,r);return this.setHeader("From",n),n}getSender(){return this.getHeader("From")}setRecipients(t,r={type:"To"}){let n=(this.isArray(t)?t:[t]).map((s=>new bs(s,r)));return this.setHeader(r.type,n),n}getRecipients(t={type:"To"}){return this.getHeader(t.type)}setRecipient(t,r={type:"To"}){return this.setRecipients(t,r)}setTo(t,r={type:"To"}){return this.setRecipients(t,r)}setCc(t,r={type:"Cc"}){return this.setRecipients(t,r)}setBcc(t,r={type:"Bcc"}){return this.setRecipients(t,r)}setSubject(t){return this.setHeader("subject",t),t}getSubject(){return this.getHeader("subject")}setHeader(t,r){return this.headers.set(t,r),t}getHeader(t){return this.headers.get(t)}setHeaders(t){return Object.keys(t).map((r=>this.setHeader(r,t[r])))}getHeaders(){return this.headers.toObject()}toBase64(t){return this.envctx.toBase64(t)}toBase64WebSafe(t){return this.envctx.toBase64WebSafe(t)}generateBoundaries(){this.boundaries={mixed:Math.random().toString(36).slice(2),alt:Math.random().toString(36).slice(2),related:Math.random().toString(36).slice(2)}}isArray(t){return!!t&&t.constructor===Array}isObject(t){return!!t&&t.constructor===Object}},m7={toBase64:o(function(e){return Buffer.from(e).toString("base64")},"toBase64"),toBase64WebSafe:o(function(e){return Buffer.from(e).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},"toBase64WebSafe"),eol:t2,validateContentType:o(e=>j1.contentType(e),"validateContentType")};function Js(){return new Z_(m7)}o(Js,"u");var Vs=o(e=>{if(e==null||e==null)return null;if(typeof e=="object")return e;if(typeof e!="string")return null;try{return JSON.parse(e)}catch(t){console.error(`GetJsonValue: Failed to parse ${e}`,t)}return null},"getJsonObjectValue"),Q=o(async(e,t)=>{let r=await q1(e,t);if(!r)return null;try{return JSON.parse(r)}catch(n){console.error(`GetJsonSetting: Failed to parse ${t}`,n)}return null},"getJsonSetting"),q1=o(async(e,t)=>{try{return await e.env.DB.prepare("SELECT value FROM settings where key = ?").bind(t).first("value")}catch(r){console.error(`GetSetting: Failed to get ${t}`,r)}return null},"getSetting"),bt=o(async(e,t,r)=>(await e.env.DB.prepare("INSERT or REPLACE INTO settings (key, value) VALUES (?, ?) ON CONFLICT(key) DO UPDATE SET value = ?, updated_at = datetime('now')").bind(t,r,r).run(),!0),"saveSetting"),hr=o(e=>typeof e=="string"?e:"","getStringValue"),uu=o((e,t=",")=>hr(e).split(t).map(n=>n.trim()).filter(n=>n.length>0),"getSplitStringListValue"),ae=o(e=>typeof e=="boolean"?e:typeof e=="string"?e==="true":!1,"getBooleanValue"),Cn=o((e,t=0)=>{if(typeof e=="number")return e;if(typeof e=="string")try{return parseInt(e)}catch{console.error(`Failed to parse int value: ${e}`)}return t},"getIntValue"),Ks=o(e=>{if(!e)return[];if(!Array.isArray(e))try{return JSON.parse(e)}catch(t){return console.error("Failed to parse value",t),[]}return e},"getStringArray"),np=o(e=>e.env.DEFAULT_DOMAINS==null||e.env.DEFAULT_DOMAINS==null?En(e):Ks(e.env.DEFAULT_DOMAINS)||En(e),"getDefaultDomains"),En=o(e=>{if(!e.env.DOMAINS)return[];if(!Array.isArray(e.env.DOMAINS))try{return JSON.parse(e.env.DOMAINS)}catch(t){return console.error("Failed to parse DOMAINS",t),[]}return e.env.DOMAINS},"getDomains"),An=o(e=>{if(!e.env.USER_ROLES)return[];if(!Array.isArray(e.env.USER_ROLES))try{return JSON.parse(e.env.USER_ROLES)}catch(t){return console.error("Failed to parse USER_ROLES",t),[]}return e.env.USER_ROLES},"getUserRoles"),e0=o(e=>{if(!e.env.ANOTHER_WORKER_LIST)return[];if(!Array.isArray(e.env.ANOTHER_WORKER_LIST))try{return JSON.parse(e.env.ANOTHER_WORKER_LIST)}catch(t){return console.error("Failed to parse ANOTHER_WORKER_LIST",t),[]}return e.env.ANOTHER_WORKER_LIST},"getAnotherWorkerList"),t0=o(e=>{if(!e.env.PASSWORDS)return[];if(!Array.isArray(e.env.PASSWORDS))try{return JSON.parse(e.env.PASSWORDS).filter(r=>r.length>0)}catch(t){return console.error("Failed to parse PASSWORDS",t),[]}return e.env.PASSWORDS.filter(t=>t.length>0)},"getPasswords"),r0=o(e=>{if(!e.env.ADMIN_PASSWORDS)return[];if(!Array.isArray(e.env.ADMIN_PASSWORDS))try{return JSON.parse(e.env.ADMIN_PASSWORDS).filter(r=>r.length>0)}catch(t){return console.error("Failed to parse ADMIN_PASSWORDS",t),[]}return e.env.ADMIN_PASSWORDS.filter(t=>t.length>0)},"getAdminPasswords"),n0=o(e=>{if(!e)return[];if(!Array.isArray(e))try{return JSON.parse(e).filter(r=>r.length>0)}catch(t){return console.error("Failed to parse ADMIN_PASSWORDS",t),[]}return e.filter(t=>t.length>0)},"getEnvStringList"),s0=o(async(e,t,r,n)=>{try{let s=Js();s.setSender({name:"Admin",addr:"admin@internal"}),s.setRecipient(t),s.setSubject(r),s.addMessage({contentType:"text/plain",data:n});let i=Math.random().toString(36).substring(2,15),{success:a}=await e.env.DB.prepare("INSERT INTO raw_mails (source, address, raw, message_id) VALUES (?, ?, ?, ?)").bind("admin@internal",t,s.asRaw(),i).run();return a||console.log(`Failed save message from admin@internal to ${t}`),a}catch(s){return console.log("sendAdminInternalMail error",s),!1}},"sendAdminInternalMail"),Ji=o(async(e,t)=>{if(!e.env.CF_TURNSTILE_SITE_KEY||!e.env.CF_TURNSTILE_SECRET_KEY)return;if(!t)throw new Error("Captcha token is required");let r=e.req.raw.headers.get("cf-connecting-ip"),n=new FormData;n.append("secret",e.env.CF_TURNSTILE_SECRET_KEY),n.append("response",t),r&&n.append("remoteip",r);let a=await(await fetch("https://challenges.cloudflare.com/turnstile/v0/siteverify",{body:n,method:"POST"})).json();if(!a.success)throw console.log("Captcha failed",a),new Error("Captcha failed")},"checkCfTurnstile"),Ea=o(e=>{if(!e||e.length<1||e.length>100)throw new Error("Invalid password");return!0},"checkUserPassword"),sp=o(async e=>{let t=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(e));return Array.from(new Uint8Array(t)).map(n=>n.toString(16).padStart(2,"0")).join("")},"hashPassword"),V={getJsonObjectValue:Vs,getSetting:q1,saveSetting:bt,getStringValue:hr,getSplitStringListValue:uu,getBooleanValue:ae,getIntValue:Cn,getStringArray:Ks,getDefaultDomains:np,getDomains:En,getUserRoles:An,getAnotherWorkerList:e0,getPasswords:t0,getAdminPasswords:r0,getEnvStringList:n0,sendAdminInternalMail:s0,checkCfTurnstile:Ji,checkUserPassword:Ea,getJsonSetting:Q,getJsonValue:Vs,getStringList:Ks};l();u();c();var R={VERSION:"v1.1.0",DB_VERSION_KEY:"db_version",DB_VERSION:"v0.0.5",ADDRESS_BLOCK_LIST_KEY:"address_block_list",SEND_BLOCK_LIST_KEY:"send_block_list",AUTO_CLEANUP_KEY:"auto_cleanup",USER_SETTINGS_KEY:"user_settings",OAUTH2_SETTINGS_KEY:"oauth2_settings",VERIFIED_ADDRESS_LIST_KEY:"verified_address_list",NO_LIMIT_SEND_ADDRESS_LIST_KEY:"no_limit_send_address_list",EMAIL_RULE_SETTINGS_KEY:"email_rule_settings",ROLE_ADDRESS_CONFIG_KEY:"role_address_config",IP_BLACKLIST_SETTINGS_KEY:"ip_blacklist_settings",AI_EXTRACT_SETTINGS_KEY:"ai_extract_settings",TG_KV_PREFIX:"temp-mail-telegram",TG_KV_SETTINGS_KEY:"temp-mail-telegram-settings",WEBHOOK_KV_SETTINGS_KEY:"temp-mail-webhook-settings",WEBHOOK_KV_USER_SETTINGS_KEY:"temp-mail-webhook-user-settings",EMAIL_KV_BLACK_LIST:"temp-mail-email-black-list",WEBHOOK_KV_ADMIN_MAIL_SETTINGS_KEY:"temp-mail-webhook-admin-mail-settings"};l();u();c();l();u();c();l();u();c();l();u();c();var H1=o(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),z1=o(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig");l();u();c();var Ca;(function(e){e.HTTP="http",e.HTTPS="https"})(Ca||(Ca={}));l();u();c();l();u();c();var Aa;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Aa||(Aa={}));l();u();c();var lu="__smithy_context";l();u();c();var he=class e{static{o(this,"HttpRequest")}method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=h7(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function h7(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}o(h7,"cloneQuery");l();u();c();var rr=class{static{o(this,"HttpResponse")}statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function g7(e){return t=>async r=>{let{request:n}=r;return he.isInstance(n)&&n.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}o(g7,"addExpectContinueMiddleware");var y7={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},$1=o(e=>({applyToStack:o(t=>{t.add(g7(e),y7)},"applyToStack")}),"getAddExpectContinuePlugin");l();u();c();l();u();c();l();u();c();var zn={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},i0=zn.WHEN_SUPPORTED,du={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},o0=zn.WHEN_SUPPORTED,Se;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(Se||(Se={}));var J1;(function(e){e.HEADER="header",e.TRAILER="trailer"})(J1||(J1={}));var pu=Se.CRC32;l();u();c();var ip;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(ip||(ip={}));l();u();c();l();u();c();var a0={CrtCrc64Nvme:null};l();u();c();l();u();c();function V1(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}o(V1,"setCredentialFeature");l();u();c();function He(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}o(He,"setFeature");l();u();c();l();u();c();l();u();c();var c0=o(e=>rr.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,"getDateHeader");l();u();c();var Ta=o(e=>new Date(Date.now()+e),"getSkewCorrectedDate");l();u();c();l();u();c();var K1=o((e,t)=>Math.abs(Ta(t).getTime()-e)>=3e5,"isClockSkewed");var u0=o((e,t)=>{let r=Date.parse(e);return K1(r,t)?r-Date.now():t},"getUpdatedSystemClockOffset");var fu=o((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),op=o(async e=>{let t=fu("context",e.context),r=fu("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await fu("signer",r.signer)(n),a=e?.signingRegion,d=e?.signingRegionSet,p=e?.signingName;return{config:r,signer:i,signingRegion:a,signingRegionSet:d,signingName:p}},"validateSigningProperties"),Vi=class{static{o(this,"AwsSdkSigV4Signer")}async sign(t,r,n){if(!he.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await op(n),{config:i,signer:a}=s,{signingRegion:d,signingName:p}=s,f=n.context;if(f?.authSchemes?.length??!1){let[h,g]=f.authSchemes;h?.name==="sigv4a"&&g?.name==="sigv4"&&(d=g?.signingRegion??d,p=g?.signingName??p)}return await a.sign(t,{signingDate:Ta(i.systemClockOffset),signingRegion:d,signingService:p})}errorHandler(t){return r=>{let n=r.ServerTime??c0(r.$response);if(n){let s=fu("config",t.config),i=s.systemClockOffset;s.systemClockOffset=u0(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=c0(t);if(n){let s=fu("config",r.config);s.systemClockOffset=u0(n,s.systemClockOffset)}}};l();u();c();var mu=class extends Vi{static{o(this,"AwsSdkSigV4ASigner")}async sign(t,r,n){if(!he.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:a,signingRegionSet:d,signingName:p}=await op(n),m=(await s.sigv4aSigningRegionSet?.()??d??[a]).join(",");return await i.sign(t,{signingDate:Ta(s.systemClockOffset),signingRegion:m,signingService:p})}};l();u();c();l();u();c();l();u();c();var Tn=o(e=>e[lu]||(e[lu]={}),"getSmithyContext");l();u();c();var Bt=o(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider");l();u();c();var G1=o((e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r},"resolveAuthOptions");function x7(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}o(x7,"convertHttpAuthSchemesToMap");var W1=o((e,t)=>(r,n)=>async s=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),a=e.authSchemePreference?await e.authSchemePreference():[],d=G1(i,a),p=x7(e.httpAuthSchemes),f=Tn(n),m=[];for(let h of d){let g=p.get(h.schemeId);if(!g){m.push(`HttpAuthScheme \`${h.schemeId}\` was not enabled for this service.`);continue}let y=g.identityProvider(await t.identityProviderConfigProvider(e));if(!y){m.push(`HttpAuthScheme \`${h.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:x={},signingProperties:_={}}=h.propertiesExtractor?.(e,n)||{};h.identityProperties=Object.assign(h.identityProperties||{},x),h.signingProperties=Object.assign(h.signingProperties||{},_),f.selectedHttpAuthScheme={httpAuthOption:h,identity:await y(h.identityProperties),signer:g.signer};break}if(!f.selectedHttpAuthScheme)throw new Error(m.join(`
`));return r(s)},"httpAuthSchemeMiddleware");l();u();c();var v7={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Y1=o((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:o(n=>{n.addRelativeTo(W1(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),v7)},"applyToStack")}),"getHttpAuthSchemeEndpointRuleSetPlugin");l();u();c();var Q1=o((e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let a=await t(i,e);return{response:i,output:a}}catch(a){if(Object.defineProperty(a,"$response",{value:i,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in a)){let d="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+=`
  `+d}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(d):n.logger?.warn?.(d)}typeof a.$responseBodyText<"u"&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(rr.isInstance(i)){let{headers:p={}}=i,f=Object.entries(p);a.$metadata={httpStatusCode:i.statusCode,requestId:l0(/^x-[\w-]+-request-?id$/,f),extendedRequestId:l0(/^x-[\w-]+-id-2$/,f),cfId:l0(/^x-[\w-]+-cf-id$/,f)}}}catch{}}throw a}},"deserializerMiddleware"),l0=o((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader");l();u();c();l();u();c();var X1=o((e,t)=>(r,n)=>async s=>{let i=e,a=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!a)throw new Error("No valid endpoint provider available.");let d=await t(s.input,{...e,endpoint:a});return r({...s,request:d})},"serializerMiddleware");var _7={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},d0={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function $n(e,t,r){return{applyToStack:o(n=>{n.add(Q1(e,r),_7),n.add(X1(e,t),d0)},"applyToStack")}}o($n,"getSerdePlugin");l();u();c();var S7=o(e=>t=>{throw t},"defaultErrorHandler"),w7=o((e,t)=>{},"defaultSuccessHandler"),Z1=o(e=>(t,r)=>async n=>{if(!he.isInstance(n.request))return t(n);let i=Tn(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:d,signer:p}=i,f=await t({...n,request:await p.sign(n.request,d,a)}).catch((p.errorHandler||S7)(a));return(p.successHandler||w7)(f.response,a),f},"httpSigningMiddleware");l();u();c();var p0={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},eR=o(e=>({applyToStack:o(t=>{t.addRelativeTo(Z1(e),p0)},"applyToStack")}),"getHttpSigningPlugin");l();u();c();var xs=o(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider");l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();var tR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f0=Object.entries(tR).reduce((e,[t,r])=>(e[r]=Number(t),e),{}),rR=tR.split(""),Gs=6,Ki=8,nR=63;var Oa=o(e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;let r=new ArrayBuffer(t),n=new DataView(r);for(let s=0;s<e.length;s+=4){let i=0,a=0;for(let f=s,m=s+3;f<=m;f++)if(e[f]!=="="){if(!(e[f]in f0))throw new TypeError(`Invalid character ${e[f]} in base64 string.`);i|=f0[e[f]]<<(m-f)*Gs,a+=Gs}else i>>=Gs;let d=s/4*3;i>>=a%Ki;let p=Math.floor(a/Ki);for(let f=0;f<p;f++){let m=(p-f-1)*Ki;n.setUint8(d+f,(i&255<<m)>>m)}}return new Uint8Array(r)},"fromBase64");l();u();c();Ur();function Ys(e){let t;typeof e=="string"?t=jr(e):t=e;let r=typeof t=="object"&&typeof t.length=="number",n=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let i=0;i<t.length;i+=3){let a=0,d=0;for(let f=i,m=Math.min(i+3,t.length);f<m;f++)a|=t[f]<<(m-f-1)*Ki,d+=Ki;let p=Math.ceil(d/Gs);a<<=p*Gs-d;for(let f=1;f<=p;f++){let m=(p-f)*Gs;s+=rR[(a&nR<<m)>>m]}s+="==".slice(0,4-p)}return s}o(Ys,"toBase64");Ur();var ka=class e extends Uint8Array{static{o(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(Oa(t)):e.mutate(jr(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?Ys(this):Ws(this)}};l();u();c();var E7=typeof ReadableStream=="function"?ReadableStream:function(){},ap=class extends E7{static{o(this,"ChecksumStream")}};l();u();c();l();u();c();var hu=o(e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),"isReadableStream");var oR=o(({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!hu(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let i=s??Ys;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let a=new TransformStream({start(){},async transform(p,f){t.update(p),f.enqueue(p)},async flush(p){let f=await t.digest(),m=i(f);if(e!==m){let h=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);p.error(h)}else p.terminate()}});r.pipeThrough(a);let d=a.readable;return Object.setPrototypeOf(d,ap.prototype),d},"createChecksumStream");l();u();c();l();u();c();var cp=class{static{o(this,"ByteArrayCollector")}allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};function C7(e,t,r){let n=e.getReader(),s=!1,i=0,a=["",new cp(f=>new Uint8Array(f))],d=-1,p=o(async f=>{let{value:m,done:h}=await n.read(),g=m;if(h){if(d!==-1){let y=h0(a,d);gu(y)>0&&f.enqueue(y)}f.close()}else{let y=T7(g,!1);if(d!==y&&(d>=0&&f.enqueue(h0(a,d)),d=y),d===-1){f.enqueue(g);return}let x=gu(g);i+=x;let _=gu(a[d]);if(x>=t&&_===0)f.enqueue(g);else{let E=A7(a,d,g);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${x} is below threshold of ${t}, automatically buffering.`)),E>=t?f.enqueue(h0(a,d)):await p(f)}}},"pull");return new ReadableStream({pull:p})}o(C7,"createBufferedReadableStream");var aR=C7;function A7(e,t,r){switch(t){case 0:return e[0]+=r,gu(e[0]);case 1:case 2:return e[t].push(r),gu(e[t])}}o(A7,"merge");function h0(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}o(h0,"flush");function gu(e){return e?.byteLength??e?.length??0}o(gu,"sizeOf");function T7(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}o(T7,"modeOf");l();u();c();var cR=o((e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:a}=t,d=r!==void 0&&n!==void 0&&s!==void 0&&i!==void 0&&a!==void 0,p=d?a(s,e):void 0,f=e.getReader();return new ReadableStream({async pull(m){let{value:h,done:g}=await f.read();if(g){if(m.enqueue(`0\r
`),d){let y=r(await p);m.enqueue(`${i}:${y}\r
`),m.enqueue(`\r
`)}m.close()}else m.enqueue(`${(n(h)||0).toString(16)}\r
${h}\r
`)}})},"getAwsChunkedEncodingStream");l();u();c();async function uR(e,t){let r=0,n=[],s=e.getReader(),i=!1;for(;!i;){let{done:p,value:f}=await s.read();if(f&&(n.push(f),r+=f?.byteLength??0),r>=t)break;i=p}s.releaseLock();let a=new Uint8Array(Math.min(t,r)),d=0;for(let p of n){if(p.byteLength>a.byteLength-d){a.set(p.subarray(0,a.byteLength-d),d);break}else a.set(p,d);d+=p.length}return a}o(uR,"headStream");l();u();c();l();u();c();l();u();c();l();u();c();var Jn=o(e=>encodeURIComponent(e).replace(/[!'()*]/g,O7),"escapeUri"),O7=o(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode");function up(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=Jn(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${Jn(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${Jn(n)}`),t.push(s)}}return t.join("&")}o(up,"buildQueryString");l();u();c();function g0(e,t){return new Request(e,t)}o(g0,"createRequest");l();u();c();function lR(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}o(lR,"requestTimeout");var y0={supported:void 0},lp=class e{static{o(this,"FetchHttpHandler")}config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),y0.supported===void 0&&(y0.supported=typeof Request<"u"&&"keepalive"in g0("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,a=this.config.credentials;if(r?.aborted){let k=new Error("Request aborted");return k.name="AbortError",Promise.reject(k)}let d=t.path,p=up(t.query||{});p&&(d+=`?${p}`),t.fragment&&(d+=`#${t.fragment}`);let f="";if(t.username!=null||t.password!=null){let k=t.username??"",D=t.password??"";f=`${k}:${D}@`}let{port:m,method:h}=t,g=`${t.protocol}//${f}${t.hostname}${m?`:${m}`:""}${d}`,y=h==="GET"||h==="HEAD"?void 0:t.body,x={body:y,headers:new Headers(t.headers),method:h,credentials:a};this.config?.cache&&(x.cache=this.config.cache),y&&(x.duplex="half"),typeof AbortController<"u"&&(x.signal=r),y0.supported&&(x.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(x,this.config.requestInit(t));let _=o(()=>{},"removeSignalEventListener"),E=g0(g,x),T=[fetch(E).then(k=>{let D=k.headers,I={};for(let G of D.entries())I[G[0]]=G[1];return k.body!=null?{response:new rr({headers:I,reason:k.statusText,statusCode:k.status,body:k.body})}:k.blob().then(G=>({response:new rr({headers:I,reason:k.statusText,statusCode:k.status,body:G})}))}),lR(s)];return r&&T.push(new Promise((k,D)=>{let I=o(()=>{let N=new Error("Request aborted");N.name="AbortError",D(N)},"onAbort");if(typeof r.addEventListener=="function"){let N=r;N.addEventListener("abort",I,{once:!0}),_=o(()=>N.removeEventListener("abort",I),"removeSignalEventListener")}else r.onabort=I})),Promise.race(T).finally(_)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}};l();u();c();var dp=o(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):k7(e):R7(e),"streamCollector");async function k7(e){let t=await M7(e),r=Oa(t);return new Uint8Array(r)}o(k7,"collectBlob");async function R7(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:d,value:p}=await r.read();p&&(t.push(p),s+=p.length),n=d}let i=new Uint8Array(s),a=0;for(let d of t)i.set(d,a),a+=d.length;return i}o(R7,"collectStream");function M7(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),a=i>-1?i+1:s.length;t(s.substring(a))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}o(M7,"readToBase64");l();u();c();var dR={},b0={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),dR[e]=t,b0[t]=e}function pp(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in b0)t[r/2]=b0[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}o(pp,"fromHex");function Ge(e){let t="";for(let r=0;r<e.byteLength;r++)t+=dR[e[r]];return t}o(Ge,"toHex");Ur();var pR="The stream has already been transformed.",mR=o(e=>{if(!fR(e)&&!hu(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let t=!1,r=o(async()=>{if(t)throw new Error(pR);return t=!0,await dp(e)},"transformToByteArray"),n=o(s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()},"blobToWebStream");return Object.assign(e,{transformToByteArray:r,transformToString:o(async s=>{let i=await r();if(s==="base64")return Ys(i);if(s==="hex")return Ge(i);if(s===void 0||s==="utf8"||s==="utf-8")return Ws(i);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(i);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},"transformToString"),transformToWebStream:o(()=>{if(t)throw new Error(pR);if(t=!0,fR(e))return n(e);if(hu(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)},"transformToWebStream")})},"sdkStreamMixin"),fR=o(e=>typeof Blob=="function"&&e instanceof Blob,"isBlobInstance");l();u();c();async function hR(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}o(hR,"splitStream");var Ra=o(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return ka.mutate(e);if(!e)return ka.mutate(new Uint8Array);let r=t.streamCollector(e);return ka.mutate(await r)},"collectBody");l();u();c();function x0(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}o(x0,"extendedEncodeURIComponent");l();u();c();var fp=o(e=>typeof e=="function"?e():e,"deref");l();u();c();l();u();c();function yu(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}o(yu,"translateTraits");var Ma=class e{static{o(this,"NormalizedSchema")}ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],s=t,i=t;for(this._isMemberSchema=!1;v0(s);)n.push(s[1]),s=s[0],i=fp(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let a=n.length-1;a>=0;--a){let d=n[a];Object.assign(this.memberTraits,yu(d))}}else this.memberTraits=0;if(i instanceof e){let a=this.memberTraits;Object.assign(this,i),this.memberTraits=Object.assign({},a,i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??i.memberName;return}if(this.schema=fp(i),P7(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(i),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=fp(t);if(r instanceof e)return r;if(v0(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),yu(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=o(i=>(i&4)===4||!!i?.idempotencyToken,"match"),{normalizedTraits:r,traits:n,memberTraits:s}=this;return t(r)||t(n)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return yu(this.memberTraits)}getOwnTraits(){return yu(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:n[4]??0;return bu([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],i=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t[3+t[0]]:r?15:void 0;if(i!=null)return bu([i,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),s=r[5][n];return bu(v0(s)?s:[s,0],t)}if(this.isDocumentSchema())return bu([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],bu([t[5][r],0],t[4][r])]}};function bu(e,t){if(e instanceof Ma)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=Ma;return new r(e,t)}o(bu,"member");var v0=o(e=>Array.isArray(e)&&e.length===2,"isMemberSchema"),P7=o(e=>Array.isArray(e)&&e.length>=5,"isStaticSchema");l();u();c();l();u();c();var Qs=o(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean");var I7=o(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&wR.warn(SR(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),B7=Math.ceil(2**127*(2-2**-23)),gR=o(e=>{let t=I7(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>B7)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),_0=o(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong");var yR=o(e=>S0(e,32),"expectInt32"),bR=o(e=>S0(e,16),"expectShort"),xR=o(e=>S0(e,8),"expectByte"),S0=o((e,t)=>{let r=_0(e);if(r!==void 0&&D7(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),D7=o((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),vs=o((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),w0=o(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),Ye=o(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return wR.warn(SR(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString");var vR=o(e=>gR(typeof e=="string"?xu(e):e),"strictParseFloat32"),N7=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,xu=o(e=>{let t=e.match(N7);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber");var mp=o(e=>_0(typeof e=="string"?xu(e):e),"strictParseLong");var Pa=o(e=>yR(typeof e=="string"?xu(e):e),"strictParseInt32"),vu=o(e=>bR(typeof e=="string"?xu(e):e),"strictParseShort"),_R=o(e=>xR(typeof e=="string"?xu(e):e),"strictParseByte"),SR=o(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),wR={warn:console.warn};var L7=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C0=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ia(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),d=e.getUTCSeconds(),p=s<10?`0${s}`:`${s}`,f=i<10?`0${i}`:`${i}`,m=a<10?`0${a}`:`${a}`,h=d<10?`0${d}`:`${d}`;return`${L7[n]}, ${p} ${C0[r]} ${t} ${f}:${m}:${h} GMT`}o(Ia,"dateToUtcString");var xke=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var F7=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Su=o(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=F7.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,a,d,p,f,m]=t,h=vu(_u(n)),g=Xs(s,"month",1,12),y=Xs(i,"day",1,31),x=hp(h,g,y,{hours:a,minutes:d,seconds:p,fractionalMilliseconds:f});return m.toUpperCase()!="Z"&&x.setTime(x.getTime()-W7(m)),x},"parseRfc3339DateTimeWithOffset"),j7=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),U7=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),q7=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),wu=o(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=j7.exec(e);if(t){let[r,n,s,i,a,d,p,f]=t;return hp(vu(_u(i)),E0(s),Xs(n,"day",1,31),{hours:a,minutes:d,seconds:p,fractionalMilliseconds:f})}if(t=U7.exec(e),t){let[r,n,s,i,a,d,p,f]=t;return $7(hp(H7(i),E0(s),Xs(n,"day",1,31),{hours:a,minutes:d,seconds:p,fractionalMilliseconds:f}))}if(t=q7.exec(e),t){let[r,n,s,i,a,d,p,f]=t;return hp(vu(_u(f)),E0(n),Xs(s.trimLeft(),"day",1,31),{hours:i,minutes:a,seconds:d,fractionalMilliseconds:p})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime");var hp=o((e,t,r,n)=>{let s=t-1;return V7(e,s,r),new Date(Date.UTC(e,s,r,Xs(n.hours,"hour",0,23),Xs(n.minutes,"minute",0,59),Xs(n.seconds,"seconds",0,60),G7(n.fractionalMilliseconds)))},"buildDate"),H7=o(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+vu(_u(e));return r<t?r+100:r},"parseTwoDigitYear"),z7=50*365*24*60*60*1e3,$7=o(e=>e.getTime()-new Date().getTime()>z7?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),E0=o(e=>{let t=C0.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),J7=[31,28,31,30,31,30,31,31,30,31,30,31],V7=o((e,t,r)=>{let n=J7[t];if(t===1&&K7(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${C0[t]} in ${e}: ${r}`)},"validateDayOfMonth"),K7=o(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),Xs=o((e,t,r,n)=>{let s=_R(_u(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},"parseDateValue"),G7=o(e=>e==null?0:vR("0."+e)*1e3,"parseMilliseconds"),W7=o(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},"parseOffsetToMilliseconds"),_u=o(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes");l();u();c();l();u();c();var A0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Dt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),ER=o(()=>{if(A0)return A0();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Dt[e[0]]+Dt[e[1]]+Dt[e[2]]+Dt[e[3]]+"-"+Dt[e[4]]+Dt[e[5]]+"-"+Dt[e[6]]+Dt[e[7]]+"-"+Dt[e[8]]+Dt[e[9]]+"-"+Dt[e[10]]+Dt[e[11]]+Dt[e[12]]+Dt[e[13]]+Dt[e[14]]+Dt[e[15]]},"v4");l();u();c();function CR(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}o(CR,"quoteHeader");l();u();c();l();u();c();var AR=o((e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let a=n();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?a.split("/").map(d=>x0(d)).join("/"):x0(a))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath");function Gi(e,t){return new T0(e,t)}o(Gi,"requestBuilder");var T0=class{static{o(this,"RequestBuilder")}input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new he({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=AR(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}};l();u();c();function TR(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}o(TR,"setFeature");l();u();c();var gp=class{static{o(this,"DefaultIdentityProviderConfig")}authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}};l();u();c();var Y7=o(e=>o(function(r){return O0(r)&&r.expiration.getTime()-Date.now()<e},"isIdentityExpired"),"createIsIdentityExpiredFunction"),Q7=3e5,OR=Y7(Q7),O0=o(e=>e.expiration!==void 0,"doesIdentityRequireRefresh"),kR=o((e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,a,d=!1,p=o(async f=>{i||(i=n(f));try{s=await i,a=!0,d=!1}finally{i=void 0}return s},"coalesceProvider");return t===void 0?async f=>((!a||f?.forceRefresh)&&(s=await p(f)),s):async f=>((!a||f?.forceRefresh)&&(s=await p(f)),d?s:r(s)?(t(s)&&await p(f),s):(d=!0,s))},"memoizeIdentityProvider");l();u();c();var RR=o((e,t,r)=>{let n,s,i,a=!1,d=o(async()=>{s||(s=e());try{n=await s,i=!0,a=!1}finally{s=void 0}return n},"coalesceProvider");return t===void 0?async p=>((!i||p?.forceRefresh)&&(n=await d()),n):async p=>((!i||p?.forceRefresh)&&(n=await d()),a?n:r&&!r(n)?(a=!0,n):(t(n)&&await d(),n))},"memoize");var MR=o(e=>(e.sigv4aSigningRegionSet=xs(e.sigv4aSigningRegionSet),e),"resolveAwsSdkSigV4AConfig");l();u();c();l();u();c();Ur();l();u();c();var PR="X-Amz-Algorithm",IR="X-Amz-Credential",k0="X-Amz-Date",BR="X-Amz-SignedHeaders",DR="X-Amz-Expires",R0="X-Amz-Signature",M0="X-Amz-Security-Token";var P0="authorization",I0=k0.toLowerCase(),X7="date",NR=[P0,I0,X7],LR=R0.toLowerCase(),Eu="x-amz-content-sha256",FR=M0.toLowerCase();var jR={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},UR=/^proxy-/,qR=/^sec-/;var yp="AWS4-HMAC-SHA256";var HR="AWS4-HMAC-SHA256-PAYLOAD",zR="UNSIGNED-PAYLOAD",$R=50,B0="aws4_request",JR=3600*24*7;l();u();c();Ur();var bp={},D0=[],xp=o((e,t,r)=>`${e}/${t}/${r}/${B0}`,"createScope"),KR=o(async(e,t,r,n,s)=>{let i=await VR(e,t.secretAccessKey,t.accessKeyId),a=`${r}:${n}:${s}:${Ge(i)}:${t.sessionToken}`;if(a in bp)return bp[a];for(D0.push(a);D0.length>$R;)delete bp[D0.shift()];let d=`AWS4${t.secretAccessKey}`;for(let p of[r,n,s,B0])d=await VR(e,d,p);return bp[a]=d},"getSigningKey");var VR=o((e,t,r)=>{let n=new e(t);return n.update(On(r)),n.digest()},"hmac");l();u();c();var N0=o(({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in jR||t?.has(i)||UR.test(i)||qR.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders");l();u();c();l();u();c();var vp=o(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer");Ur();var _p=o(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Eu)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||vp(t)){let n=new r;return n.update(On(t)),Ge(await n.digest())}return zR},"getPayloadHash");l();u();c();Ur();var Sp=class{static{o(this,"HeaderFormatter")}format(t){let r=[];for(let i of Object.keys(t)){let a=jr(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0)),s=0;for(let i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(t.value,3),a;case"string":let d=jr(t.value),p=new DataView(new ArrayBuffer(3+d.byteLength));p.setUint8(0,7),p.setUint16(1,d.byteLength,!1);let f=new Uint8Array(p.buffer);return f.set(d,3),f;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(L0.fromNumber(t.value.valueOf()).bytes,1),m;case"uuid":if(!Z7.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(pp(t.value.replace(/\-/g,"")),1),h}}},GR;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(GR||(GR={}));var Z7=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,L0=class e{static{o(this,"Int64")}bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&WR(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&WR(t),parseInt(Ge(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function WR(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}o(WR,"negate");l();u();c();var YR=o((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader");l();u();c();var QR=o((e,t={})=>{let{headers:r,query:n={}}=he.clone(e);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},"moveHeadersToQuery");l();u();c();var F0=o(e=>{e=he.clone(e);for(let t of Object.keys(e.headers))NR.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest");l();u();c();Ur();l();u();c();var XR=o(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===LR)continue;let s=Jn(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${Jn(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((a,d)=>a.concat([`${s}=${Jn(d)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery");l();u();c();var ZR=o(e=>eW(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),eW=o(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate");var wp=class{static{o(this,"SignatureV4Base")}service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:a=!0}){this.service=s,this.sha256=i,this.uriEscapePath=a,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Bt(n),this.credentialProvider=Bt(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${XR(t)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let i=new this.sha256;i.update(On(n));let a=await i.digest();return`${s}
${t}
${r}
${Ge(a)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Jn(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=ZR(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}};var Wi=class extends wp{static{o(this,"SignatureV4")}headerFormatter=new Sp;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:a=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:a})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:d,hoistableHeaders:p,signingRegion:f,signingService:m}=r,h=await this.credentialProvider();this.validateResolvedCredentials(h);let g=f??await this.regionProvider(),{longDate:y,shortDate:x}=this.formatDate(n);if(s>JR)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=xp(x,g,m??this.service),E=QR(F0(t),{unhoistableHeaders:a,hoistableHeaders:p});h.sessionToken&&(E.query[M0]=h.sessionToken),E.query[PR]=yp,E.query[IR]=`${h.accessKeyId}/${_}`,E.query[k0]=y,E.query[DR]=s.toString(10);let T=N0(E,i,d);return E.query[BR]=this.getCanonicalHeaderList(T),E.query[R0]=await this.getSignature(y,_,this.getSigningKey(h,g,x,m),this.createCanonicalRequest(E,T,await _p(t,this.sha256))),E}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:a}){let d=i??await this.regionProvider(),{shortDate:p,longDate:f}=this.formatDate(n),m=xp(p,d,a??this.service),h=await _p({headers:{},body:r},this.sha256),g=new this.sha256;g.update(t);let y=Ge(await g.digest()),x=[HR,f,m,s,y,h].join(`
`);return this.signString(x,{signingDate:n,signingRegion:d,signingService:a})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(a=>({message:t.message,signature:a}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=n??await this.regionProvider(),{shortDate:d}=this.formatDate(r),p=new this.sha256(await this.getSigningKey(i,a,d,s));return p.update(On(t)),Ge(await p.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:a}={}){let d=await this.credentialProvider();this.validateResolvedCredentials(d);let p=i??await this.regionProvider(),f=F0(t),{longDate:m,shortDate:h}=this.formatDate(r),g=xp(h,p,a??this.service);f.headers[I0]=m,d.sessionToken&&(f.headers[FR]=d.sessionToken);let y=await _p(f,this.sha256);!YR(Eu,f.headers)&&this.applyChecksum&&(f.headers[Eu]=y);let x=N0(f,s,n),_=await this.getSignature(m,g,this.getSigningKey(d,p,h,a),this.createCanonicalRequest(f,x,y));return f.headers[P0]=`${yp} Credential=${d.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(x)}, Signature=${_}`,f}async getSignature(t,r,n,s){let i=await this.createStringToSign(t,r,s,yp),a=new this.sha256(await n);return a.update(On(i)),Ge(await a.digest())}getSigningKey(t,r,n,s){return KR(this.sha256,t,n,r,s||this.service)}};l();u();c();var j0={SignatureV4a:null};var eM=o(e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(f){f&&f!==t&&f!==n&&(r=!0),t=f;let m=tW(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),h=rW(e,m);r&&!h.attributed?(n=o(async g=>h(g).then(y=>V1(y,"CREDENTIALS_CODE","e")),"resolvedCredentials"),n.memoized=h.memoized,n.configBound=h.configBound,n.attributed=!0):n=h},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:a}=e,d;return e.signer?d=xs(e.signer):e.regionInfoProvider?d=o(()=>xs(e.region)().then(async f=>[await e.regionInfoProvider(f,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},f]).then(([f,m])=>{let{signingRegion:h,signingService:g}=f;e.signingRegion=e.signingRegion||h||m,e.signingName=e.signingName||g||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},x=e.signerConstructor||Wi;return new x(y)}),"signer"):d=o(async f=>{f=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await xs(e.region)(),properties:{}},f);let m=f.signingRegion,h=f.signingName;e.signingRegion=e.signingRegion||m,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},y=e.signerConstructor||Wi;return new y(g)},"signer"),Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:d})},"resolveAwsSdkSigV4Config");function tW(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=kR(t,OR,O0):r?n=xs(r(Object.assign({},e,{parentClientConfig:e}))):n=o(async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},"credentialsProvider"),n.memoized=!0,n}o(tW,"normalizeCredentialProvider");function rW(e,t){if(t.configBound)return t;let r=o(async n=>t({...n,callerClientConfig:e}),"fn");return r.memoized=t.memoized,r.configBound=!0,r}o(rW,"bindCallerConfig");l();u();c();var tM=typeof TextEncoder=="function"?new TextEncoder:null,rM=o(e=>{if(typeof e=="string"){if(tM)return tM.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength");l();u();c();l();u();c();l();u();c();var Yi=o((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Zs=o((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Ba=o(()=>{let e=[],t=[],r=!1,n=new Set,s=o(h=>h.sort((g,y)=>nM[y.step]-nM[g.step]||sM[y.priority||"normal"]-sM[g.priority||"normal"]),"sort"),i=o(h=>{let g=!1,y=o(x=>{let _=Yi(x.name,x.aliases);if(_.includes(h)){g=!0;for(let E of _)n.delete(E);return!1}return!0},"filterCb");return e=e.filter(y),t=t.filter(y),g},"removeByName"),a=o(h=>{let g=!1,y=o(x=>{if(x.middleware===h){g=!0;for(let _ of Yi(x.name,x.aliases))n.delete(_);return!1}return!0},"filterCb");return e=e.filter(y),t=t.filter(y),g},"removeByReference"),d=o(h=>(e.forEach(g=>{h.add(g.middleware,{...g})}),t.forEach(g=>{h.addRelativeTo(g.middleware,{...g})}),h.identifyOnResolve?.(m.identifyOnResolve()),h),"cloneTo"),p=o(h=>{let g=[];return h.before.forEach(y=>{y.before.length===0&&y.after.length===0?g.push(y):g.push(...p(y))}),g.push(h),h.after.reverse().forEach(y=>{y.before.length===0&&y.after.length===0?g.push(y):g.push(...p(y))}),g},"expandRelativeMiddlewareList"),f=o((h=!1)=>{let g=[],y=[],x={};return e.forEach(E=>{let T={...E,before:[],after:[]};for(let k of Yi(T.name,T.aliases))x[k]=T;g.push(T)}),t.forEach(E=>{let T={...E,before:[],after:[]};for(let k of Yi(T.name,T.aliases))x[k]=T;y.push(T)}),y.forEach(E=>{if(E.toMiddleware){let T=x[E.toMiddleware];if(T===void 0){if(h)return;throw new Error(`${E.toMiddleware} is not found when adding ${Zs(E.name,E.aliases)} middleware ${E.relation} ${E.toMiddleware}`)}E.relation==="after"&&T.after.push(E),E.relation==="before"&&T.before.push(E)}}),s(g).map(p).reduce((E,T)=>(E.push(...T),E),[])},"getMiddlewareList"),m={add:o((h,g={})=>{let{name:y,override:x,aliases:_}=g,E={step:"initialize",priority:"normal",middleware:h,...g},T=Yi(y,_);if(T.length>0){if(T.some(k=>n.has(k))){if(!x)throw new Error(`Duplicate middleware name '${Zs(y,_)}'`);for(let k of T){let D=e.findIndex(N=>N.name===k||N.aliases?.some(G=>G===k));if(D===-1)continue;let I=e[D];if(I.step!==E.step||E.priority!==I.priority)throw new Error(`"${Zs(I.name,I.aliases)}" middleware with ${I.priority} priority in ${I.step} step cannot be overridden by "${Zs(y,_)}" middleware with ${E.priority} priority in ${E.step} step.`);e.splice(D,1)}}for(let k of T)n.add(k)}e.push(E)},"add"),addRelativeTo:o((h,g)=>{let{name:y,override:x,aliases:_}=g,E={middleware:h,...g},T=Yi(y,_);if(T.length>0){if(T.some(k=>n.has(k))){if(!x)throw new Error(`Duplicate middleware name '${Zs(y,_)}'`);for(let k of T){let D=t.findIndex(N=>N.name===k||N.aliases?.some(G=>G===k));if(D===-1)continue;let I=t[D];if(I.toMiddleware!==E.toMiddleware||I.relation!==E.relation)throw new Error(`"${Zs(I.name,I.aliases)}" middleware ${I.relation} "${I.toMiddleware}" middleware cannot be overridden by "${Zs(y,_)}" middleware ${E.relation} "${E.toMiddleware}" middleware.`);t.splice(D,1)}}for(let k of T)n.add(k)}t.push(E)},"addRelativeTo"),clone:o(()=>d(Ba()),"clone"),use:o(h=>{h.applyToStack(m)},"use"),remove:o(h=>typeof h=="string"?i(h):a(h),"remove"),removeByTag:o(h=>{let g=!1,y=o(x=>{let{tags:_,name:E,aliases:T}=x;if(_&&_.includes(h)){let k=Yi(E,T);for(let D of k)n.delete(D);return g=!0,!1}return!0},"filterCb");return e=e.filter(y),t=t.filter(y),g},"removeByTag"),concat:o(h=>{let g=d(Ba());return g.use(h),g.identifyOnResolve(r||g.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),g},"concat"),applyToStack:d,identify:o(()=>f(!0).map(h=>{let g=h.step??h.relation+" "+h.toMiddleware;return Zs(h.name,h.aliases)+" - "+g}),"identify"),identifyOnResolve(h){return typeof h=="boolean"&&(r=h),r},resolve:o((h,g)=>{for(let y of f().map(x=>x.middleware).reverse())h=y(h,g);return r&&console.log(m.identify()),h},"resolve")};return m},"constructStack"),nM={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},sM={high:3,normal:2,low:1};var Ep=class{static{o(this,"Client")}config;middlewareStack=Ba();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,a=s===void 0&&this.config.cacheMiddleware===!0,d;if(a){this.handlers||(this.handlers=new WeakMap);let p=this.handlers;p.has(t.constructor)?d=p.get(t.constructor):(d=t.resolveMiddleware(this.middlewareStack,this.config,s),p.set(t.constructor,d))}else delete this.handlers,d=t.resolveMiddleware(this.middlewareStack,this.config,s);if(i)d(t).then(p=>i(null,p.output),p=>i(p)).catch(()=>{});else return d(t).then(p=>p.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}};l();u();c();l();u();c();l();u();c();var U0="***SensitiveInformation***";function Cp(e,t){if(t==null)return t;let r=Ma.of(e);if(r.getMergedTraits().sensitive)return U0;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return U0}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return U0}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[i,a]of r.structIterator())n[i]!=null&&(s[i]=Cp(a,n[i]));return s}return t}o(Cp,"schemaLogFilter");var qr=class{static{o(this,"Command")}middlewareStack=Ba();schema;static classBuilder(){return new q0}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:i,commandName:a,inputFilterSensitiveLog:d,outputFilterSensitiveLog:p,smithyContext:f,additionalContext:m,CommandCtor:h}){for(let E of s.bind(this)(h,t,r,n))this.middlewareStack.use(E);let g=t.concat(this.middlewareStack),{logger:y}=r,x={logger:y,clientName:i,commandName:a,inputFilterSensitiveLog:d,outputFilterSensitiveLog:p,[lu]:{commandInstance:this,...f},...m},{requestHandler:_}=r;return g.resolve(E=>_.handle(E.request,n||{}),x)}},q0=class{static{o(this,"ClassBuilder")}_init=o(()=>{},"_init");_ep={};_middlewareFn=o(()=>[],"_middlewareFn");_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends qr{static{o(this,"CommandRef")}input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,i){let a=t._operationSchema,d=a?.[4]??a?.input,p=a?.[5]??a?.output;return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(a?Cp.bind(null,d):f=>f),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(a?Cp.bind(null,p):f=>f),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}};l();u();c();var nr="***SensitiveInformation***";l();u();c();l();u();c();var Ap=class e extends Error{static{o(this,"ServiceException")}$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},kt=o((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException");var nW=o(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=sW(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,a=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw kt(a,t)},"throwDefaultError"),iM=o(e=>({output:t,parsedBody:r,errorCode:n})=>{nW({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),sW=o(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata");l();u();c();var oM=o(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode");l();u();c();l();u();c();var aM=o(e=>{let t=[];for(let r in Aa){let n=Aa[r];e[n]!==void 0&&t.push({algorithmId:o(()=>n,"algorithmId"),checksumConstructor:o(()=>e[n],"checksumConstructor")})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),cM=o(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig");l();u();c();var uM=o(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),lM=o(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig");var dM=o(e=>Object.assign(aM(e),uM(e)),"getDefaultExtensionConfiguration");var pM=o(e=>Object.assign(cM(e),lM(e)),"resolveDefaultRuntimeConfig");l();u();c();var Tp=o(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem");l();u();c();var H0=o(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=H0(e[r]));return e},"getValueFromTextNode");l();u();c();var xt=o(e=>e!=null,"isSerializableHeaderValue");l();u();c();var ei=class{static{o(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};l();u();c();function Oe(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,iW(n,s,i);i=t}for(let a of Object.keys(i)){if(!Array.isArray(i[a])){n[a]=i[a];continue}oW(n,null,i,a)}return n}o(Oe,"map");var iW=o((e,t,r)=>Oe(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),"mapWithFilter"),oW=o((e,t,r,n)=>{if(t!==null){let a=r[n];typeof a=="function"&&(a=[,a]);let[d=aW,p=cW,f=n]=a;(typeof d=="function"&&d(t[f])||typeof d!="function"&&d)&&(e[n]=p(t[f]));return}let[s,i]=r[n];if(typeof i=="function"){let a,d=s===void 0&&(a=i())!=null,p=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;d?e[n]=a:p&&(e[n]=i())}else{let a=s===void 0&&i!=null,d=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(a||d)&&(e[n]=i)}},"applyInstruction"),aW=o(e=>e!=null,"nonNullish"),cW=o(e=>e,"pass");l();u();c();var fM=o(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime");Ur();var mM=o((e,t)=>Ra(e,t).then(r=>(t?.utf8Encoder??Ws)(r)),"collectBodyString");l();u();c();l();u();c();l();u();c();var hM=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",uW=hM+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",lW="["+hM+"]["+uW+"]*",dW=new RegExp("^"+lW+"$");function Op(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let a=0;a<i;a++)s.push(n[a]);r.push(s),n=t.exec(e)}return r}o(Op,"getAllMatches");var Cu=o(function(e){let t=dW.exec(e);return!(t===null||typeof t>"u")},"isName");function gM(e){return typeof e<"u"}o(gM,"isExist");var pW={allowBooleanAttributes:!1,unpairedTags:[]};function _M(e,t){t=Object.assign({},pW,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=bM(e,i),i.err)return i}else if(e[i]==="<"){let a=i;if(i++,e[i]==="!"){i=xM(e,i);continue}else{let d=!1;e[i]==="/"&&(d=!0,i++);let p="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)p+=e[i];if(p=p.trim(),p[p.length-1]==="/"&&(p=p.substring(0,p.length-1),i--),!vW(p)){let h;return p.trim().length===0?h="Invalid space after '<'.":h="Tag '"+p+"' is an invalid name.",Qe("InvalidTag",h,sr(e,i))}let f=hW(e,i);if(f===!1)return Qe("InvalidAttr","Attributes for '"+p+"' have open quote.",sr(e,i));let m=f.value;if(i=f.index,m[m.length-1]==="/"){let h=i-m.length;m=m.substring(0,m.length-1);let g=vM(m,t);if(g===!0)n=!0;else return Qe(g.err.code,g.err.msg,sr(e,h+g.err.line))}else if(d)if(f.tagClosed){if(m.trim().length>0)return Qe("InvalidTag","Closing tag '"+p+"' can't have attributes or invalid starting.",sr(e,a));if(r.length===0)return Qe("InvalidTag","Closing tag '"+p+"' has not been opened.",sr(e,a));{let h=r.pop();if(p!==h.tagName){let g=sr(e,h.tagStartPos);return Qe("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+g.line+", col "+g.col+") instead of closing tag '"+p+"'.",sr(e,a))}r.length==0&&(s=!0)}}else return Qe("InvalidTag","Closing tag '"+p+"' doesn't have proper closing.",sr(e,i));else{let h=vM(m,t);if(h!==!0)return Qe(h.err.code,h.err.msg,sr(e,i-m.length+h.err.line));if(s===!0)return Qe("InvalidXml","Multiple possible root nodes found.",sr(e,i));t.unpairedTags.indexOf(p)!==-1||r.push({tagName:p,tagStartPos:a}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=xM(e,i);continue}else if(e[i+1]==="?"){if(i=bM(e,++i),i.err)return i}else break;else if(e[i]==="&"){let h=bW(e,i);if(h==-1)return Qe("InvalidChar","char '&' is not expected.",sr(e,i));i=h}else if(s===!0&&!yM(e[i]))return Qe("InvalidXml","Extra text at the end",sr(e,i));e[i]==="<"&&i--}}else{if(yM(e[i]))continue;return Qe("InvalidChar","char '"+e[i]+"' is not expected.",sr(e,i))}if(n){if(r.length==1)return Qe("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",sr(e,r[0].tagStartPos));if(r.length>0)return Qe("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Qe("InvalidXml","Start tag expected.",1);return!0}o(_M,"validate");function yM(e){return e===" "||e==="	"||e===`
`||e==="\r"}o(yM,"isWhiteSpace");function bM(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return Qe("InvalidXml","XML declaration allowed only at the start of the document.",sr(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}o(bM,"readPI");function xM(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}o(xM,"readCommentAndCDATA");var fW='"',mW="'";function hW(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===fW||e[t]===mW)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}o(hW,"readAttributeStr");var gW=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function vM(e,t){let r=Op(e,gW),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return Qe("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",Au(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return Qe("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",Au(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return Qe("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",Au(r[s]));let i=r[s][2];if(!xW(i))return Qe("InvalidAttr","Attribute '"+i+"' is an invalid name.",Au(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return Qe("InvalidAttr","Attribute '"+i+"' is repeated.",Au(r[s]))}return!0}o(vM,"validateAttributeString");function yW(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}o(yW,"validateNumberAmpersand");function bW(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,yW(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}o(bW,"validateAmpersand");function Qe(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}o(Qe,"getErrorObject");function xW(e){return Cu(e)}o(xW,"validateAttrName");function vW(e){return Cu(e)}o(vW,"validateTagName");function sr(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}o(sr,"getLineNumberForPosition");function Au(e){return e.startIndex+e[1].length}o(Au,"getPositionFromMatch");l();u();c();l();u();c();var _W={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:o(function(e,t){return t},"tagValueProcessor"),attributeValueProcessor:o(function(e,t){return t},"attributeValueProcessor"),stopNodes:[],alwaysCreateTextNode:!1,isArray:o(()=>!1,"isArray"),commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:o(function(e,t,r){return e},"updateTag"),captureMetaData:!1},SM=o(function(e){return Object.assign({},_W,e)},"buildOptions");l();u();c();l();u();c();var kp;typeof Symbol!="function"?kp="@@xmlMetadata":kp=Symbol("XML Node Metadata");var Hr=class{static{o(this,"XmlNode")}constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][kp]={startIndex:r})}static getMetaDataSymbol(){return kp}};l();u();c();function z0(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,i=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(s&&Qi(e,"!ENTITY",t)){t+=7;let d,p;[d,p,t]=SW(e,t+1),p.indexOf("&")===-1&&(r[d]={regx:RegExp(`&${d};`,"g"),val:p})}else if(s&&Qi(e,"!ELEMENT",t)){t+=8;let{index:d}=EW(e,t+1);t=d}else if(s&&Qi(e,"!ATTLIST",t))t+=8;else if(s&&Qi(e,"!NOTATION",t)){t+=9;let{index:d}=wW(e,t+1);t=d}else if(Qi(e,"!--",t))i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?s=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}o(z0,"readDocType");var ti=o((e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t},"skipWhitespace");function SW(e,t){t=ti(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if($0(r),t=ti(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=Rp(e,t,"entity"),t--,[r,n,t]}o(SW,"readEntityExp");function wW(e,t){t=ti(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;$0(r),t=ti(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=ti(e,t);let s=null,i=null;if(n==="PUBLIC")[t,s]=Rp(e,t,"publicIdentifier"),t=ti(e,t),(e[t]==='"'||e[t]==="'")&&([t,i]=Rp(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,i]=Rp(e,t,"systemIdentifier"),!i))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:s,systemIdentifier:i,index:--t}}o(wW,"readNotationExp");function Rp(e,t,r){let n="",s=e[t];if(s!=='"'&&s!=="'")throw new Error(`Expected quoted string, found "${s}"`);for(t++;t<e.length&&e[t]!==s;)n+=e[t],t++;if(e[t]!==s)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}o(Rp,"readIdentifierVal");function EW(e,t){t=ti(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!$0(r))throw new Error(`Invalid element name: "${r}"`);t=ti(e,t);let n="";if(e[t]==="E"&&Qi(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Qi(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}o(EW,"readElementExp");function Qi(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}o(Qi,"hasSeq");function $0(e){if(Cu(e))return e;throw new Error(`Invalid entity name ${e}`)}o($0,"validateEntityName");l();u();c();var CW=/^[-+]?0x[a-fA-F0-9]+$/,AW=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,TW={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function J0(e,t={}){if(t=Object.assign({},TW,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&CW.test(r))return MW(r,16);if(r.includes("e")||r.includes("E"))return kW(e,r,t);{let n=AW.exec(r);if(n){let s=n[1]||"",i=n[2],a=RW(n[3]),d=s?e[i.length+1]===".":e[i.length]===".";if(!t.leadingZeros&&(i.length>1||i.length===1&&!d))return e;{let p=Number(r),f=String(p);if(p===0)return p;if(f.search(/[eE]/)!==-1)return t.eNotation?p:e;if(r.indexOf(".")!==-1)return f==="0"||f===a||f===`${s}${a}`?p:e;let m=i?a:r;return i?m===f||s+m===f?p:e:m===f||m===s+f?p:e}}else return e}}o(J0,"toNumber");var OW=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function kW(e,t,r){if(!r.eNotation)return e;let n=t.match(OW);if(n){let s=n[1]||"",i=n[3].indexOf("e")===-1?"E":"e",a=n[2],d=s?e[a.length+1]===i:e[a.length]===i;return a.length>1&&d?e:a.length===1&&(n[3].startsWith(`.${i}`)||n[3][0]===i)?Number(t):r.leadingZeros&&!d?(t=(n[1]||"")+n[3],Number(t)):e}else return e}o(kW,"resolveEnotation");function RW(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}o(RW,"trimZeros");function MW(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}o(MW,"parse_int");l();u();c();function V0(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}o(V0,"getIgnoreAttributesFn");var Tu=class{static{o(this,"OrderedObjParser")}constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:o((r,n)=>String.fromCodePoint(Number.parseInt(n,10)),"val")},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:o((r,n)=>String.fromCodePoint(Number.parseInt(n,16)),"val")}},this.addExternalEntities=PW,this.parseXml=LW,this.parseTextData=IW,this.resolveNameSpace=BW,this.buildAttributesMap=NW,this.isItStopNode=qW,this.replaceEntitiesValue=jW,this.readStopNodeData=zW,this.saveTextToParentTag=UW,this.addChild=FW,this.ignoreAttributesFn=V0(this.options.ignoreAttributes)}};function PW(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}o(PW,"addExternalEntities");function IW(e,t,r,n,s,i,a){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));let d=this.options.tagValueProcessor(t,e,r,s,i);return d==null?e:typeof d!=typeof e||d!==e?d:this.options.trimValues?G0(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?G0(e,this.options.parseTagValue,this.options.numberParseOptions):e}}o(IW,"parseTextData");function BW(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}o(BW,"resolveNameSpace");var DW=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function NW(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=Op(e,DW),s=n.length,i={};for(let a=0;a<s;a++){let d=this.resolveNameSpace(n[a][1]);if(this.ignoreAttributesFn(d,t))continue;let p=n[a][4],f=this.options.attributeNamePrefix+d;if(d.length)if(this.options.transformAttributeName&&(f=this.options.transformAttributeName(f)),f==="__proto__"&&(f="#__proto__"),p!==void 0){this.options.trimValues&&(p=p.trim()),p=this.replaceEntitiesValue(p);let m=this.options.attributeValueProcessor(d,p,t);m==null?i[f]=p:typeof m!=typeof p||m!==p?i[f]=m:i[f]=G0(p,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[f]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let a={};return a[this.options.attributesGroupName]=i,a}return i}}o(NW,"buildAttributesMap");var LW=o(function(e){e=e.replace(/\r\n?/g,`
`);let t=new Hr("!xml"),r=t,n="",s="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let d=Xi(e,">",i,"Closing Tag is not closed."),p=e.substring(i+2,d).trim();if(this.options.removeNSPrefix){let h=p.indexOf(":");h!==-1&&(p=p.substr(h+1))}this.options.transformTagName&&(p=this.options.transformTagName(p)),r&&(n=this.saveTextToParentTag(n,r,s));let f=s.substring(s.lastIndexOf(".")+1);if(p&&this.options.unpairedTags.indexOf(p)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${p}>`);let m=0;f&&this.options.unpairedTags.indexOf(f)!==-1?(m=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):m=s.lastIndexOf("."),s=s.substring(0,m),r=this.tagsNodeStack.pop(),n="",i=d}else if(e[i+1]==="?"){let d=K0(e,i,!1,"?>");if(!d)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&d.tagName==="?xml"||this.options.ignorePiTags)){let p=new Hr(d.tagName);p.add(this.options.textNodeName,""),d.tagName!==d.tagExp&&d.attrExpPresent&&(p[":@"]=this.buildAttributesMap(d.tagExp,s,d.tagName)),this.addChild(r,p,s,i)}i=d.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let d=Xi(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let p=e.substring(i+4,d-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:p}])}i=d}else if(e.substr(i+1,2)==="!D"){let d=z0(e,i);this.docTypeEntities=d.entities,i=d.i}else if(e.substr(i+1,2)==="!["){let d=Xi(e,"]]>",i,"CDATA is not closed.")-2,p=e.substring(i+9,d);n=this.saveTextToParentTag(n,r,s);let f=this.parseTextData(p,r.tagname,s,!0,!1,!0,!0);f==null&&(f=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:p}]):r.add(this.options.textNodeName,f),i=d+2}else{let d=K0(e,i,this.options.removeNSPrefix),p=d.tagName,f=d.rawTagName,m=d.tagExp,h=d.attrExpPresent,g=d.closeIndex;this.options.transformTagName&&(p=this.options.transformTagName(p)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));let y=r;y&&this.options.unpairedTags.indexOf(y.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),p!==t.tagname&&(s+=s?"."+p:p);let x=i;if(this.isItStopNode(this.options.stopNodes,s,p)){let _="";if(m.length>0&&m.lastIndexOf("/")===m.length-1)p[p.length-1]==="/"?(p=p.substr(0,p.length-1),s=s.substr(0,s.length-1),m=p):m=m.substr(0,m.length-1),i=d.closeIndex;else if(this.options.unpairedTags.indexOf(p)!==-1)i=d.closeIndex;else{let T=this.readStopNodeData(e,f,g+1);if(!T)throw new Error(`Unexpected end of ${f}`);i=T.i,_=T.tagContent}let E=new Hr(p);p!==m&&h&&(E[":@"]=this.buildAttributesMap(m,s,p)),_&&(_=this.parseTextData(_,p,s,!0,h,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),E.add(this.options.textNodeName,_),this.addChild(r,E,s,x)}else{if(m.length>0&&m.lastIndexOf("/")===m.length-1){p[p.length-1]==="/"?(p=p.substr(0,p.length-1),s=s.substr(0,s.length-1),m=p):m=m.substr(0,m.length-1),this.options.transformTagName&&(p=this.options.transformTagName(p));let _=new Hr(p);p!==m&&h&&(_[":@"]=this.buildAttributesMap(m,s,p)),this.addChild(r,_,s,x),s=s.substr(0,s.lastIndexOf("."))}else{let _=new Hr(p);this.tagsNodeStack.push(r),p!==m&&h&&(_[":@"]=this.buildAttributesMap(m,s,p)),this.addChild(r,_,s,x),r=_}n="",i=g}}else n+=e[i];return t.child},"parseXml");function FW(e,t,r,n){this.options.captureMetaData||(n=void 0);let s=this.options.updateTag(t.tagname,r,t[":@"]);s===!1||(typeof s=="string"&&(t.tagname=s),e.addChild(t,n))}o(FW,"addChild");var jW=o(function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e},"replaceEntitiesValue");function UW(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}o(UW,"saveTextToParentTag");function qW(e,t,r){let n="*."+r;for(let s in e){let i=e[s];if(n===i||t===i)return!0}return!1}o(qW,"isItStopNode");function HW(e,t,r=">"){let n,s="";for(let i=t;i<e.length;i++){let a=e[i];if(n)a===n&&(n="");else if(a==='"'||a==="'")n=a;else if(a===r[0])if(r[1]){if(e[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else a==="	"&&(a=" ");s+=a}}o(HW,"tagExpWithClosingIndex");function Xi(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}o(Xi,"findClosingIndex");function K0(e,t,r,n=">"){let s=HW(e,t+1,n);if(!s)return;let i=s.data,a=s.index,d=i.search(/\s/),p=i,f=!0;d!==-1&&(p=i.substring(0,d),i=i.substring(d+1).trimStart());let m=p;if(r){let h=p.indexOf(":");h!==-1&&(p=p.substr(h+1),f=p!==s.data.substr(h+1))}return{tagName:p,tagExp:i,closeIndex:a,attrExpPresent:f,rawTagName:m}}o(K0,"readTagExp");function zW(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=Xi(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=Xi(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Xi(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Xi(e,"]]>",r,"StopNode is not closed.")-2;else{let i=K0(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}o(zW,"readStopNodeData");function G0(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:J0(e,r)}else return gM(e)?e:""}o(G0,"parseValue");l();u();c();var W0=Hr.getMetaDataSymbol();function Y0(e,t){return wM(e,t)}o(Y0,"prettify");function wM(e,t,r){let n,s={};for(let i=0;i<e.length;i++){let a=e[i],d=$W(a),p="";if(r===void 0?p=d:p=r+"."+d,d===t.textNodeName)n===void 0?n=a[d]:n+=""+a[d];else{if(d===void 0)continue;if(a[d]){let f=wM(a[d],t,p),m=VW(f,t);a[W0]!==void 0&&(f[W0]=a[W0]),a[":@"]?JW(f,a[":@"],p,t):Object.keys(f).length===1&&f[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?f=f[t.textNodeName]:Object.keys(f).length===0&&(t.alwaysCreateTextNode?f[t.textNodeName]="":f=""),s[d]!==void 0&&s.hasOwnProperty(d)?(Array.isArray(s[d])||(s[d]=[s[d]]),s[d].push(f)):t.isArray(d,p,m)?s[d]=[f]:s[d]=f}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}o(wM,"compress");function $W(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}o($W,"propName");function JW(e,t,r,n){if(t){let s=Object.keys(t),i=s.length;for(let a=0;a<i;a++){let d=s[a];n.isArray(d,r+"."+d,!0,!0)?e[d]=[t[d]]:e[d]=t[d]}}}o(JW,"assignAttributes");function VW(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}o(VW,"isLeafTag");var Da=class{static{o(this,"XMLParser")}constructor(t){this.externalEntities={},this.options=SM(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=_M(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new Tu(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:Y0(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return Hr.getMetaDataSymbol()}};l();u();c();var Mp=o((e,t)=>mM(e,t).then(r=>{if(r.length){let n=new Da({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:o((p,f)=>f.trim()===""&&f.includes(`
`)?"":void 0,"tagValueProcessor")});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(p){throw p&&typeof p=="object"&&Object.defineProperty(p,"$responseBodyText",{value:r}),p}let i="#text",a=Object.keys(s)[0],d=s[a];return d[i]&&(d[a]=d[i],delete d[i]),H0(d)}return{}}),"parseXmlBody"),EM=o(async(e,t)=>{let r=await Mp(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},"parseXmlErrorBody"),CM=o((e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},"loadRestXmlErrorCode");l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();var Ou=[Se.CRC32,Se.CRC32C,Se.CRC64NVME,Se.SHA1,Se.SHA256],AM=[Se.SHA256,Se.SHA1,Se.CRC32,Se.CRC32C,Se.CRC64NVME];var TM=o((e,{requestChecksumRequired:t,requestAlgorithmMember:r,requestChecksumCalculation:n})=>{if(!r)return n===zn.WHEN_SUPPORTED||t?pu:void 0;if(!e[r])return;let s=e[r];if(!Ou.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${Ou}.`);return s},"getChecksumAlgorithmForRequest");l();u();c();var Na=o(e=>e===Se.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,"getChecksumLocationName");l();u();c();var OM=o((e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},"hasHeader");l();u();c();var kM=o((e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(n.toLowerCase().startsWith(r))return!0;return!1},"hasHeaderWithPrefix");l();u();c();var Pp=o(e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!vp(e),"isStreaming");l();u();c();l();u();c();l();u();c();function v(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var d=e.length-1;d>=0;d--)(a=e[d])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}o(v,"__decorate");function La(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return o(s,"adopt"),new(r||(r=Promise))(function(i,a){function d(m){try{f(n.next(m))}catch(h){a(h)}}o(d,"fulfilled");function p(m){try{f(n.throw(m))}catch(h){a(h)}}o(p,"rejected");function f(m){m.done?i(m.value):s(m.value).then(d,p)}o(f,"step"),f((n=n.apply(e,t||[])).next())})}o(La,"__awaiter");function Fa(e,t){var r={label:0,sent:o(function(){if(i[0]&1)throw i[1];return i[1]},"sent"),trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=d(0),a.throw=d(1),a.return=d(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function d(f){return function(m){return p([f,m])}}function p(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){r.label=f[1];break}if(f[0]===6&&r.label<i[1]){r.label=i[1],i=f;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(f);break}i[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],s=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}o(Fa,"__generator");function Ip(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:o(function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}},"next")};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}o(Ip,"__values");l();u();c();l();u();c();l();u();c();l();u();c();var ku=o(e=>new TextEncoder().encode(e),"fromUtf8");l();u();c();l();u();c();var GW=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:ku;function ir(e){return e instanceof Uint8Array?e:typeof e=="string"?GW(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}o(ir,"convertToBuffer");l();u();c();function Vn(e){return typeof e=="string"?e.length===0:e.byteLength===0}o(Vn,"isEmptyData");l();u();c();function Ru(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}o(Ru,"numToUint8");l();u();c();function Mu(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}o(Mu,"uint32ArrayFrom");l();u();c();var X0=(function(){function e(){this.crc32c=new Q0}return o(e,"AwsCrc32c"),e.prototype.update=function(t){Vn(t)||this.crc32c.update(ir(t))},e.prototype.digest=function(){return La(this,void 0,void 0,function(){return Fa(this,function(t){return[2,Ru(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new Q0},e})();var Q0=(function(){function e(){this.checksum=4294967295}return o(e,"Crc32c"),e.prototype.update=function(t){var r,n;try{for(var s=Ip(t),i=s.next();!i.done;i=s.next()){var a=i.value;this.checksum=this.checksum>>>8^YW[(this.checksum^a)&255]}}catch(d){r={error:d}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();var WW=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],YW=Mu(WW);l();u();c();l();u();c();l();u();c();var Z0=(function(){function e(){this.crc32=new Zi}return o(e,"AwsCrc32"),e.prototype.update=function(t){Vn(t)||this.crc32.update(ir(t))},e.prototype.digest=function(){return La(this,void 0,void 0,function(){return Fa(this,function(t){return[2,Ru(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Zi},e})();var Zi=(function(){function e(){this.checksum=4294967295}return o(e,"Crc32"),e.prototype.update=function(t){var r,n;try{for(var s=Ip(t),i=s.next();!i.done;i=s.next()){var a=i.value;this.checksum=this.checksum>>>8^XW[(this.checksum^a)&255]}}catch(d){r={error:d}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();var QW=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],XW=Mu(QW);var RM=o(()=>Z0,"getCrc32ChecksumAlgorithmFunction");var Bp=o((e,t)=>{switch(e){case Se.MD5:return t.md5;case Se.CRC32:return RM();case Se.CRC32C:return X0;case Se.CRC64NVME:if(typeof a0.CrtCrc64Nvme!="function")throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return a0.CrtCrc64Nvme;case Se.SHA1:return t.sha1;case Se.SHA256:return t.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},"selectChecksumAlgorithmFunction");l();u();c();Ur();var Dp=o((e,t)=>{let r=new e;return r.update(On(t||"")),r.digest()},"stringHasher");var MM={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},PM=o((e,t)=>(r,n)=>async s=>{if(!he.isInstance(s.request)||kM("x-amz-checksum-",s.request.headers))return r(s);let{request:i,input:a}=s,{body:d,headers:p}=i,{base64Encoder:f,streamHasher:m}=e,{requestChecksumRequired:h,requestAlgorithmMember:g}=t,y=await e.requestChecksumCalculation(),x=g?.name,_=g?.httpHeader;x&&!a[x]&&(y===zn.WHEN_SUPPORTED||h)&&(a[x]=pu,_&&(p[_]=pu));let E=TM(a,{requestChecksumRequired:h,requestAlgorithmMember:g?.name,requestChecksumCalculation:y}),T=d,k=p;if(E){switch(E){case Se.CRC32:He(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case Se.CRC32C:He(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case Se.CRC64NVME:He(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case Se.SHA1:He(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case Se.SHA256:He(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let I=Na(E),N=Bp(E,e);if(Pp(d)){let{getAwsChunkedEncodingStream:G,bodyLengthChecker:ee}=e;T=G(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?aR(d,e.requestStreamBufferSize,n.logger):d,{base64Encoder:f,bodyLengthChecker:ee,checksumLocationName:I,checksumAlgorithmFn:N,streamHasher:m}),k={...p,"content-encoding":p["content-encoding"]?`${p["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":p["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":I},delete k["content-length"]}else if(!OM(I,p)){let G=await Dp(N,d);k={...p,[I]:f(G)}}}return await r({...s,request:{...i,headers:k,body:T}})},"flexibleChecksumsMiddleware");l();u();c();l();u();c();var IM={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},BM=o((e,t)=>(r,n)=>async s=>{let i=s.input,{requestValidationModeMember:a}=t,d=await e.requestChecksumCalculation(),p=await e.responseChecksumValidation();switch(d){case zn.WHEN_REQUIRED:He(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case zn.WHEN_SUPPORTED:He(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(p){case du.WHEN_REQUIRED:He(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case du.WHEN_SUPPORTED:He(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return a&&!i[a]&&p===du.WHEN_SUPPORTED&&(i[a]="ENABLED"),r(s)},"flexibleChecksumsInputMiddleware");l();u();c();l();u();c();var Np=o((e=[])=>{let t=[];for(let r of AM)!e.includes(r)||!Ou.includes(r)||t.push(r);return t},"getChecksumAlgorithmListForResponse");l();u();c();var DM=o(e=>{let t=e.lastIndexOf("-");if(t!==-1){let r=e.slice(t+1);if(!r.startsWith("0")){let n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},"isChecksumWithPartNumber");l();u();c();l();u();c();var NM=o(async(e,{checksumAlgorithmFn:t,base64Encoder:r})=>r(await Dp(t,e)),"getChecksum");var LM=o(async(e,{config:t,responseAlgorithms:r,logger:n})=>{let s=Np(r),{body:i,headers:a}=e;for(let d of s){let p=Na(d),f=a[p];if(f){let m;try{m=Bp(d,t)}catch(y){if(d===Se.CRC64NVME){n?.warn(`Skipping ${Se.CRC64NVME} checksum validation: ${y.message}`);continue}throw y}let{base64Encoder:h}=t;if(Pp(i)){e.body=oR({expectedChecksum:f,checksumSourceLocation:p,checksum:new m,source:i,base64Encoder:h});return}let g=await NM(i,{checksumAlgorithmFn:m,base64Encoder:h});if(g===f)break;throw new Error(`Checksum mismatch: expected "${g}" but received "${f}" in response header "${p}".`)}}},"validateChecksumFromResponse");var FM={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},jM=o((e,t)=>(r,n)=>async s=>{if(!he.isInstance(s.request))return r(s);let i=s.input,a=await r(s),d=a.response,{requestValidationModeMember:p,responseAlgorithms:f}=t;if(p&&i[p]==="ENABLED"){let{clientName:m,commandName:h}=n;if(m==="S3Client"&&h==="GetObjectCommand"&&Np(f).every(y=>{let x=Na(y),_=d.headers[x];return!_||DM(_)}))return a;await LM(d,{config:e,responseAlgorithms:f,logger:n.logger})}return a},"flexibleChecksumsResponseMiddleware");var Lp=o((e,t)=>({applyToStack:o(r=>{r.add(PM(e,t),MM),r.addRelativeTo(BM(e,t),IM),r.addRelativeTo(jM(e,t),FM)},"applyToStack")}),"getFlexibleChecksumsPlugin");l();u();c();var UM=o(e=>{let{requestChecksumCalculation:t,responseChecksumValidation:r,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:Bt(t??i0),responseChecksumValidation:Bt(r??o0),requestStreamBufferSize:Number(n??0)})},"resolveFlexibleChecksumsConfig");l();u();c();var ZW=o(e=>t=>async r=>{if(!he.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),eY={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},qM=o(e=>({applyToStack:o(t=>{t.add(ZW(e),eY)},"applyToStack")}),"getHostHeaderPlugin");l();u();c();l();u();c();var tY=o(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:a,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:f}=d,m=p??t.inputFilterSensitiveLog,h=f??t.outputFilterSensitiveLog,{$metadata:g,...y}=n.output;return a?.info?.({clientName:s,commandName:i,input:m(r.input),output:h(y),metadata:g}),n}catch(n){let{clientName:s,commandName:i,logger:a,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:p}=d,f=p??t.inputFilterSensitiveLog;throw a?.error?.({clientName:s,commandName:i,input:f(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),rY={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},HM=o(e=>({applyToStack:o(t=>{t.add(tY(),rY)},"applyToStack")}),"getLoggerPlugin");l();u();c();l();u();c();l();u();c();var zM={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};l();u();c();var $M=o(()=>e=>async t=>e(t),"recursionDetectionMiddleware");var JM=o(e=>({applyToStack:o(t=>{t.add($M(),zM)},"applyToStack")}),"getRecursionDetectionPlugin");l();u();c();l();u();c();var nY="content-length",sY="x-amz-decoded-content-length";function iY(){return(e,t)=>async r=>{let{request:n}=r;if(he.isInstance(n)&&!(nY in n.headers)&&!(sY in n.headers)){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof t?.logger?.warn=="function"&&!(t.logger instanceof ei)?t.logger.warn(s):console.warn(s)}return e({...r})}}o(iY,"checkContentLengthHeader");var oY={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},VM=o(e=>({applyToStack:o(t=>{t.add(iY(),oY)},"applyToStack")}),"getCheckContentLengthHeaderPlugin");l();u();c();var KM=o(e=>(t,r)=>async n=>{let s=await e.region(),i=e.region,a=o(()=>{},"unlock");r.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:o(async()=>r.__s3RegionRedirect,"value")}),a=o(()=>Object.defineProperty(e,"region",{writable:!0,value:i}),"unlock"));try{let d=await t(n);if(r.__s3RegionRedirect){a();let p=await e.region();if(s!==p)throw new Error("Region was not restored following S3 region redirect.")}return d}catch(d){throw a(),d}},"regionRedirectEndpointMiddleware"),GM={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};l();u();c();function aY(e){return(t,r)=>async n=>{try{return await t(n)}catch(s){if(e.followRegionRedirects){let i=s?.$metadata?.httpStatusCode,a=r.commandName==="HeadBucketCommand",d=s?.$response?.headers?.["x-amz-bucket-region"];if(d&&(i===301||i===400&&(s?.name==="IllegalLocationConstraintException"||a))){try{let p=d;r.logger?.debug(`Redirecting from ${await e.region()} to ${p}`),r.__s3RegionRedirect=p}catch(p){throw new Error("Region redirect failed: "+p)}return t(n)}}throw s}}}o(aY,"regionRedirectMiddleware");var cY={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},WM=o(e=>({applyToStack:o(t=>{t.add(aY(e),cY),t.addRelativeTo(KM(e),GM)},"applyToStack")}),"getRegionRedirectMiddlewarePlugin");l();u();c();var uY=o(e=>(t,r)=>async n=>{let s=await t(n),{response:i}=s;if(rr.isInstance(i)&&i.headers.expires){i.headers.expiresstring=i.headers.expires;try{wu(i.headers.expires)}catch(a){r.logger?.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${i.headers.expires}): ${a}`),delete i.headers.expires}}return s},"s3ExpiresMiddleware"),lY={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},YM=o(e=>({applyToStack:o(t=>{t.addRelativeTo(uY(e),lY)},"applyToStack")}),"getS3ExpiresMiddlewarePlugin");l();u();c();l();u();c();var Pu=class e{static{o(this,"S3ExpressIdentityCache")}data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(t={}){this.data=t}get(t){let r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){let t=Date.now();if(!(this.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(let r in this.data){let n=this.data[r];if(!n.isRefreshing){let s=await n.identity;s.expiration&&s.expiration.getTime()<t&&delete this.data[r]}}}};l();u();c();var eo=class{static{o(this,"S3ExpressIdentityCacheEntry")}_identity;isRefreshing;accessed;constructor(t,r=!1,n=Date.now()){this._identity=t,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}};l();u();c();var Iu=class e{static{o(this,"S3ExpressIdentityProviderImpl")}createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(t,r=new Pu){this.createSessionFn=t,this.cache=r}async getS3ExpressIdentity(t,r){let n=r.Bucket,{cache:s}=this,i=s.get(n);return i?i.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?s.set(n,new eo(this.getIdentity(n))).identity:((a.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!i.isRefreshing&&(i.isRefreshing=!0,this.getIdentity(n).then(f=>{s.set(n,new eo(Promise.resolve(f)))})),a)):s.set(n,new eo(this.getIdentity(n))).identity}async getIdentity(t){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let r=await this.createSessionFn(t);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}};l();u();c();l();u();c();var QM="Directory",XM="S3Express",ZM="sigv4-s3express",Fp="X-Amz-S3session-Token",Bu=Fp.toLowerCase();var Du=class extends Wi{static{o(this,"SignatureV4S3Express")}async signWithCredentials(t,r,n){let s=eP(r);t.headers[Bu]=r.sessionToken;let i=this;return tP(i,s),i.signRequest(t,n??{})}async presignWithCredentials(t,r,n){let s=eP(r);return delete t.headers[Bu],t.headers[Fp]=r.sessionToken,t.query=t.query??{},t.query[Fp]=r.sessionToken,tP(this,s),this.presign(t,n)}};function eP(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}o(eP,"getCredentialsWithoutSessionToken");function tP(e,t){let r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,s=o(()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t)),"overrideCredentialsProviderOnce");e.credentialProvider=s}o(tP,"setSingleOverride");l();u();c();var rP=o(e=>(t,r)=>async n=>{if(r.endpointV2){let s=r.endpointV2,i=s.properties?.authSchemes?.[0]?.name===ZM;if((s.properties?.backend===XM||s.properties?.bucketType===QM)&&(He(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),i){let d=n.input.Bucket;if(d){let p=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:d});r.s3ExpressIdentity=p,he.isInstance(n.request)&&p.sessionToken&&(n.request.headers[Bu]=p.sessionToken)}}}return t(n)},"s3ExpressMiddleware"),nP={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},eS=o(e=>({applyToStack:o(t=>{t.add(rP(e),nP)},"applyToStack")}),"getS3ExpressPlugin");l();u();c();l();u();c();var sP=o(async(e,t,r,n)=>{let s=await n.signWithCredentials(r,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},"signS3Express");var dY=o(e=>t=>{throw t},"defaultErrorHandler"),pY=o((e,t)=>{},"defaultSuccessHandler");var iP=o(e=>(t,r)=>async n=>{if(!he.isInstance(n.request))return t(n);let i=Tn(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:d,signer:p}=i,f;r.s3ExpressIdentity?f=await sP(r.s3ExpressIdentity,a,n.request,await e.signer()):f=await p.sign(n.request,d,a);let m=await t({...n,request:f}).catch((p.errorHandler||dY)(a));return(p.successHandler||pY)(m.response,a),m},"s3ExpressHttpSigningMiddleware"),tS=o(e=>({applyToStack:o(t=>{t.addRelativeTo(iP(e),p0)},"applyToStack")}),"getS3ExpressHttpSigningPlugin");l();u();c();var oP=o((e,{session:t})=>{let[r,n]=t,{forcePathStyle:s,useAccelerateEndpoint:i,disableMultiregionAccessPoints:a,followRegionRedirects:d,s3ExpressIdentityProvider:p,bucketEndpoint:f}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:i??!1,disableMultiregionAccessPoints:a??!1,followRegionRedirects:d??!1,s3ExpressIdentityProvider:p??new Iu(async m=>r().send(new n({Bucket:m}))),bucketEndpoint:f??!1})},"resolveS3Config");l();u();c();var fY={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},mY=3e3,hY=o(e=>(t,r)=>async n=>{let s=await t(n),{response:i}=s;if(!rr.isInstance(i))return s;let{statusCode:a,body:d}=i;if(a<200||a>=300||!(typeof d?.stream=="function"||typeof d?.pipe=="function"||typeof d?.tee=="function"))return s;let f=d,m=d;d&&typeof d=="object"&&!(d instanceof Uint8Array)&&([f,m]=await hR(d)),i.body=m;let h=await gY(f,{streamCollector:o(async y=>uR(y,mY),"streamCollector")});typeof f?.destroy=="function"&&f.destroy();let g=e.utf8Encoder(h.subarray(h.length-16));if(h.length===0&&fY[r.commandName]){let y=new Error("S3 aborted request");throw y.name="InternalError",y}return g&&g.endsWith("</Error>")&&(i.statusCode=400),s},"throw200ExceptionsMiddleware"),gY=o((e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),"collectBody"),yY={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},ri=o(e=>({applyToStack:o(t=>{t.addRelativeTo(hY(e),yY)},"applyToStack")}),"getThrow200ExceptionsPlugin");l();u();c();l();u();c();var aP=o(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate");l();u();c();function cP(e){return(t,r)=>async n=>{if(e.bucketEndpoint){let s=r.endpointV2;if(s){let i=n.input.Bucket;if(typeof i=="string")try{let a=new URL(i);r.endpointV2={...s,url:a}}catch(a){let d=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${i} could not be parsed as URL.`;throw r.logger?.constructor?.name==="NoOpLogger"?console.warn(d):r.logger?.warn?.(d),a}}}return t(n)}}o(cP,"bucketEndpointMiddleware");var uP={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function bY({bucketEndpoint:e}){return t=>async r=>{let{input:{Bucket:n}}=r;if(!e&&typeof n=="string"&&!aP(n)&&n.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return t({...r})}}o(bY,"validateBucketNameMiddleware");var xY={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},lP=o(e=>({applyToStack:o(t=>{t.add(bY(e),xY),t.addRelativeTo(cP(e),uP)},"applyToStack")}),"getValidateBucketNamePlugin");l();u();c();l();u();c();var vY=void 0;function _Y(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}o(_Y,"isValidUserAgentAppId");function dP(e){let t=xs(e.userAgentAppId??vY),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:o(async()=>{let n=await t();if(!_Y(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}o(dP,"resolveUserAgentConfig");l();u();c();l();u();c();l();u();c();l();u();c();var jp=class{static{o(this,"EndpointCache")}capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),i=0;for(;;){let{value:a,done:d}=s.next();if(this.data.delete(a),d||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let i=String(t[s]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}};l();u();c();var SY=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Nu=o(e=>SY.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress");l();u();c();var wY=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),to=o((e,t=!1)=>{if(!t)return wY.test(e);let r=e.split(".");for(let n of r)if(!to(n))return!1;return!0},"isValidHostLabel");l();u();c();var ro={};l();u();c();l();u();c();var _s="endpoints";l();u();c();function Qr(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Qr(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Qr).join(", ")})`:JSON.stringify(e,null,2)}o(Qr,"toDebugString");l();u();c();var Ue=class extends Error{static{o(this,"EndpointError")}constructor(t){super(t),this.name="EndpointError"}};l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();var pP=o((e,t)=>e===t,"booleanEquals");l();u();c();l();u();c();var fP=o(e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ue(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Ue(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},"getAttrPathList");var Up=o((e,t)=>fP(t).reduce((r,n)=>{if(typeof r!="object")throw new Ue(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr");l();u();c();var mP=o(e=>e!=null,"isSet");l();u();c();var hP=o(e=>!e,"not");l();u();c();var rS={[Ca.HTTP]:80,[Ca.HTTPS]:443},gP=o(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:y,protocol:x="",path:_="",query:E={}}=e,T=new URL(`${x}//${g}${y?`:${y}`:""}${_}`);return T.search=Object.entries(E).map(([k,D])=>`${k}=${D}`).join("&"),T}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:a,search:d}=t;if(d)return null;let p=a.slice(0,-1);if(!Object.values(Ca).includes(p))return null;let f=Nu(s),m=r.includes(`${n}:${rS[p]}`)||typeof e=="string"&&e.includes(`${n}:${rS[p]}`),h=`${n}${m?`:${rS[p]}`:""}`;return{scheme:p,authority:h,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:f}},"parseURL");l();u();c();var yP=o((e,t)=>e===t,"stringEquals");l();u();c();var bP=o((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring");l();u();c();var xP=o(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode");var vP={booleanEquals:pP,getAttr:Up,isSet:mP,isValidHostLabel:to,not:hP,parseURL:gP,stringEquals:yP,substring:bP,uriEncode:xP};l();u();c();var qp=o((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let a=e.indexOf("}",i);if(a===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[a+1]==="}"&&(r.push(e.slice(i+1,a)),s=a+2);let d=e.substring(i+1,a);if(d.includes("#")){let[p,f]=d.split("#");r.push(Up(n[p],f))}else r.push(n[d]);s=a+1}return r.join("")},"evaluateTemplate");l();u();c();var _P=o(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue");var no=o((e,t,r)=>{if(typeof e=="string")return qp(e,r);if(e.fn)return SP.callFunction(e,r);if(e.ref)return _P(e,r);throw new Ue(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),Hp=o(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:SP.evaluateExpression(i,"arg",r)),s=e.split(".");return s[0]in ro&&s[1]!=null?ro[s[0]][s[1]](...n):vP[e](...n)},"callFunction"),SP={evaluateExpression:no,callFunction:Hp};var wP=o(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Ue(`'${e}' is already defined in Reference Record.`);let n=Hp(t,r);return r.logger?.debug?.(`${_s} evaluateCondition: ${Qr(t)} = ${Qr(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition");var ja=o((e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:i}=wP(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${_s} assign: ${i.name} := ${Qr(i.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions");l();u();c();l();u();c();var EP=o((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let a=no(i,"Header value entry",t);if(typeof a!="string")throw new Ue(`Header '${n}' value '${a}' is not a string`);return a})}),{}),"getEndpointHeaders");l();u();c();var nS=o((e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:AP.getEndpointProperty(s,t)}),{}),"getEndpointProperties"),CP=o((e,t)=>{if(Array.isArray(e))return e.map(r=>CP(r,t));switch(typeof e){case"string":return qp(e,t);case"object":if(e===null)throw new Ue(`Unexpected endpoint property: ${e}`);return AP.getEndpointProperties(e,t);case"boolean":return e;default:throw new Ue(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),AP={getEndpointProperty:CP,getEndpointProperties:nS};l();u();c();var TP=o((e,t)=>{let r=no(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ue(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl");var OP=o((e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=ja(r,t);if(!s)return;let a={...t,referenceRecord:{...t.referenceRecord,...i}},{url:d,properties:p,headers:f}=n;return t.logger?.debug?.(`${_s} Resolving endpoint from template: ${Qr(n)}`),{...f!=null&&{headers:EP(f,a)},...p!=null&&{properties:nS(p,a)},url:TP(d,a)}},"evaluateEndpointRule");l();u();c();var kP=o((e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=ja(r,t);if(s)throw new Ue(no(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule");var sS=o((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=OP(r,t);if(n)return n}else if(r.type==="error")kP(r,t);else if(r.type==="tree"){let n=RP.evaluateTreeRule(r,t);if(n)return n}else throw new Ue(`Unknown endpoint rule: ${r}`);throw new Ue("Rules evaluation failed")},"evaluateRules"),EY=o((e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=ja(r,t);if(s)return RP.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),RP={evaluateRules:sS,evaluateTreeRule:EY};var MP=o((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${_s} Initial EndpointParams: ${Qr(r)}`);let a=Object.entries(s).filter(([,f])=>f.default!=null).map(([f,m])=>[f,m.default]);if(a.length>0)for(let[f,m]of a)r[f]=r[f]??m;let d=Object.entries(s).filter(([,f])=>f.required).map(([f])=>f);for(let f of d)if(r[f]==null)throw new Ue(`Missing required parameter: '${f}'`);let p=sS(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${_s} Resolved endpoint: ${Qr(p)}`),p},"resolveEndpoint");l();u();c();l();u();c();var iS=o((e,t=!1)=>{if(t){for(let r of e.split("."))if(!iS(r))return!1;return!0}return!(!to(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Nu(e))},"isVirtualHostableS3Bucket");l();u();c();var PP=o(e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,s,i,a,...d]=t;if(r!=="arn"||n===""||s===""||d.join(":")==="")return null;let p=d.map(f=>f.split("/")).flat();return{partition:n,service:s,region:i,accountId:a,resourceId:p}},"parseArn");l();u();c();var IP={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"};var AY=IP,TY="",BP=o(e=>{let{partitions:t}=AY;for(let n of t){let{regions:s,outputs:i}=n;for(let[a,d]of Object.entries(s))if(a===e)return{...i,...d}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition");var DP=o(()=>TY,"getUserAgentPrefix");var oS={isVirtualHostableS3Bucket:iS,parseArn:PP,partition:BP};ro.aws=oS;l();u();c();l();u();c();l();u();c();function NP(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}o(NP,"parseQueryString");var Ua=o(e=>{if(typeof e=="string")return Ua(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,a;return i&&(a=NP(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:a}},"parseUrl");l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();var OY=/\d{12}\.ddb/;async function LP(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&He(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?He(e,"RETRY_MODE_ADAPTIVE","F"):He(e,"RETRY_MODE_STANDARD","E"):He(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(OY)&&He(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":He(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":He(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":He(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&He(e,"RESOLVED_ACCOUNT_ID","T");for(let[a,d]of Object.entries(i.$source??{}))He(e,a,d)}}o(LP,"checkFeatures");l();u();c();var aS="user-agent",zp="x-amz-user-agent";var FP=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,jP=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;l();u();c();function UP(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=1024){t.length?t+=","+n:t+=n;continue}break}return t}o(UP,"encodeFeatures");var kY=o(e=>(t,r)=>async n=>{let{request:s}=n;if(!he.isInstance(s))return t(n);let{headers:i}=s,a=r?.userAgent?.map($p)||[],d=(await e.defaultUserAgentProvider()).map($p);await LP(r,e,n);let p=r;d.push(`m/${UP(Object.assign({},r.__smithy_context?.features,p.__aws_sdk_context?.features))}`);let f=e?.customUserAgent?.map($p)||[],m=await e.userAgentAppId();m&&d.push($p([`app/${m}`]));let h=DP(),g=(h?[h]:[]).concat([...d,...a,...f]).join(" "),y=[...d.filter(x=>x.startsWith("aws-sdk-")),...f].join(" ");return e.runtime!=="browser"?(y&&(i[zp]=i[zp]?`${i[aS]} ${y}`:y),i[aS]=g):i[zp]=g,t({...n,request:s})},"userAgentMiddleware"),$p=o(e=>{let t=e[0].split("/").map(a=>a.replace(FP,"-")).join("/"),r=e[1]?.replace(jP,"-"),n=t.indexOf("/"),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(a=>a&&a.length>0).reduce((a,d,p)=>{switch(p){case 0:return d;case 1:return`${a}/${d}`;default:return`${a}#${d}`}},"")},"escapeUserAgent"),RY={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},zP=o(e=>({applyToStack:o(t=>{t.add(kY(e),RY)},"applyToStack")}),"getUserAgentPlugin");l();u();c();var $P=!1;l();u();c();var JP=!1;l();u();c();l();u();c();var VP=new Set,KP=o((e,t=to)=>{if(!VP.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else VP.add(e)},"checkRegion");l();u();c();l();u();c();var Jp=o(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion");var GP=o(e=>Jp(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion");var WP=o(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:o(async()=>{let n=typeof t=="function"?await t():t,s=GP(n);return KP(s),s},"region"),useFipsEndpoint:o(async()=>{let n=typeof t=="string"?t:await t();return Jp(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig");l();u();c();var YP=o(e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig");l();u();c();var QP="content-length";function MY(e){return t=>async r=>{let n=r.request;if(he.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(a=>a.toLowerCase()).indexOf(QP)===-1)try{let a=e(s);n.headers={...n.headers,[QP]:String(a)}}catch{}}return t({...r,request:n})}}o(MY,"contentLengthMiddleware");var PY={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},XP=o(e=>({applyToStack:o(t=>{t.add(MY(e.bodyLengthChecker),PY)},"applyToStack")}),"getContentLengthPlugin");l();u();c();l();u();c();var ZP=o(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),LY(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!NY(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),IY=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,BY=/(\d+\.){3}\d+/,DY=/\.\./;var NY=o(e=>IY.test(e)&&!BY.test(e)&&!DY.test(e),"isDnsCompatibleBucketName"),LY=o(e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,a=!!(i&&r&&n&&s);if(i&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a},"isArnBucketName");l();u();c();var eI=o((e,t,r,n=!1)=>{let s=o(async()=>{let i;return n?i=r.clientContextParams?.[e]??r[e]??r[t]:i=r[e]??r[t],typeof i=="function"?i():i},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.credentialScope??i?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.accountId??i?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let i=await s();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:a,hostname:d,port:p,path:f}=i;return`${a}//${d}${p?":"+p:""}${f}`}}return i}:s},"createConfigValueProvider");l();u();c();var Vp=o(async e=>{},"getEndpointFromConfig");l();u();c();var Kp=o(e=>typeof e=="object"?"url"in e?Ua(e.url):e:Ua(e),"toEndpointV1");var Gp=o(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let a;r.serviceConfiguredEndpoint?a=await r.serviceConfiguredEndpoint():a=await Vp(r.serviceId),a&&(r.endpoint=()=>Promise.resolve(Kp(a)),r.isCustomEndpoint=!0)}let s=await uS(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},"getEndpointFromInstructions"),uS=o(async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await eI(a.name,i,r,a.type!=="builtInParams")();break;case"operationContextParams":n[i]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await ZP(n),n},"resolveParams");l();u();c();var tI=o(({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&TR(n,"ENDPOINT_OVERRIDE","N");let i=await Gp(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let a=n.authSchemes?.[0];if(a){n.signing_region=a.signingRegion,n.signing_service=a.signingName;let p=Tn(n)?.selectedHttpAuthScheme?.httpAuthOption;p&&(p.signingProperties=Object.assign(p.signingProperties||{},{signing_region:a.signingRegion,signingRegion:a.signingRegion,signing_service:a.signingName,signingName:a.signingName,signingRegionSet:a.signingRegionSet},a.properties))}return r({...s})},"endpointMiddleware");l();u();c();var FY={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:d0.name},Kn=o((e,t)=>({applyToStack:o(r=>{r.addRelativeTo(tI({config:e,instructions:t}),FY)},"applyToStack")}),"getEndpointPlugin");l();u();c();var rI=o(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>Kp(await Bt(r)()):void 0,d=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Bt(n??!1),useFipsEndpoint:Bt(s??!1)}),p;return d.serviceConfiguredEndpoint=async()=>(e.serviceId&&!p&&(p=Vp(e.serviceId)),p),d},"resolveEndpointConfig");l();u();c();l();u();c();var Ss;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ss||(Ss={}));var so=3,lS=Ss.STANDARD;l();u();c();l();u();c();l();u();c();var nI=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],sI=["TimeoutError","RequestTimeout","RequestTimeoutException"],iI=[500,502,503,504],oI=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],aI=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"];var jY=o(e=>e?.$retryable!==void 0,"isRetryableByTrait");var UY=o(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),qY=o(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),Wp=o(e=>e.$metadata?.httpStatusCode===429||nI.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),Yp=o((e,t=0)=>jY(e)||UY(e)||sI.includes(e.name)||oI.includes(e?.code||"")||aI.includes(e?.code||"")||iI.includes(e.$metadata?.httpStatusCode||0)||qY(e)||e.cause!==void 0&&t<=10&&Yp(e.cause,t+1),"isTransientError"),cI=o(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Yp(e)}return!1},"isServerError");var Qp=class e{static{o(this,"DefaultRateLimiter")}static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Wp(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};l();u();c();l();u();c();var uI="amz-sdk-invocation-id",lI="amz-sdk-request";l();u();c();var pI=o(()=>{let e=100;return{computeNextBackoffDelay:o(n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:o(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy");l();u();c();var dS=o(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:o(()=>t,"getRetryCount"),getRetryDelay:o(()=>Math.min(2e4,e),"getRetryDelay"),getRetryCost:o(()=>r,"getRetryCost")}),"createDefaultRetryToken");var qa=class{static{o(this,"StandardRetryStrategy")}maxAttempts;mode=Ss.STANDARD;capacity=500;retryBackoffStrategy=pI();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return dS({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?500:100);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),a=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,d=this.getCapacityCost(s);return this.capacity-=d,dS({retryDelay:a,retryCount:t.getRetryCount()+1,retryCost:d})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(500,this.capacity+(t.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${so}`),so}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?10:5}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};var Xp=class{static{o(this,"AdaptiveRetryStrategy")}maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ss.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Qp,this.standardRetryStrategy=new qa(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};l();u();c();var fI=o(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError");l();u();c();var mI=o(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=Bt(n??so);return Object.assign(e,{maxAttempts:s,retryStrategy:o(async()=>t||(await Bt(r)()===Ss.ADAPTIVE?new Xp(s):new qa(s)),"retryStrategy")})},"resolveRetryConfig");l();u();c();l();u();c();var hI=o(e=>e?.body instanceof ReadableStream,"isStreamingPayload");var $Y=o(e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(JY(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),d=new Error,p=0,f=0,{request:m}=n,h=he.isInstance(m);for(h&&(m.headers[uI]=ER());;)try{h&&(m.headers[lI]=`attempt=${p+1}; max=${i}`);let{response:g,output:y}=await t(n);return s.recordSuccess(a),y.$metadata.attempts=p+1,y.$metadata.totalRetryDelay=f,{response:g,output:y}}catch(g){let y=VY(g);if(d=fI(g),h&&hI(m))throw(r.logger instanceof ei?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),d;try{a=await s.refreshRetryTokenForRetry(a,y)}catch{throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=p+1,d.$metadata.totalRetryDelay=f,d}p=a.getRetryCount();let x=a.getRetryDelay();f+=x,await new Promise(_=>setTimeout(_,x))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),JY=o(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),VY=o(e=>{let t={error:e,errorType:KY(e)},r=WY(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),KY=o(e=>Wp(e)?"THROTTLING":Yp(e)?"TRANSIENT":cI(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),GY={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},gI=o(e=>({applyToStack:o(t=>{t.add($Y(e),GY)},"applyToStack")}),"getRetryPlugin"),WY=o(e=>{if(!rr.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint");l();u();c();l();u();c();l();u();c();l();u();c();var Lu={CrtSignerV4:null};var ni=class{static{o(this,"SignatureV4MultiRegion")}sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof Lu.CrtSignerV4=="function"?"crt":typeof j0.SignatureV4a=="function"?"js":"none"}constructor(t){this.sigv4Signer=new Du(t),this.signerOptions=t}async sign(t,r={}){return r.signingRegion==="*"?this.getSigv4aSigner().sign(t,r):this.sigv4Signer.sign(t,r)}async signWithCredentials(t,r,n={}){if(n.signingRegion==="*"){let s=this.getSigv4aSigner(),i=Lu.CrtSignerV4;if(i&&s instanceof i)return s.signWithCredentials(t,r,n);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(t,r,n)}async presign(t,r={}){if(r.signingRegion==="*"){let n=this.getSigv4aSigner(),s=Lu.CrtSignerV4;if(s&&n instanceof s)return n.presign(t,r);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(t,r)}async presignWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=Lu.CrtSignerV4,r=j0.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!t&&!r)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(t&&typeof t=="function")this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1});else if(r&&typeof r=="function")this.sigv4aSigner=new r({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!r||typeof r!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new r({...this.signerOptions})}}return this.sigv4aSigner}};l();u();c();l();u();c();var DS="required",S="type",M="rules",C="conditions";var O="argv";var ce="assign";var q="properties",oo="backend",Nt="authSchemes",wt="disableDoubleEncoding",Et="signingName",ar="signingRegion",H="headers",NS="signingRegionSet";var zr="isSet",et="booleanEquals",U="error",nf="aws.partition",ve="stringEquals",Je="getAttr",Ze="name",Ne="substring",yI="bucketSuffix",LS="parseURL",B="endpoint",P="tree",sf="aws.isVirtualHostableS3Bucket",of="{url#scheme}://{Bucket}.{url#authority}{url#path}";var bI="accessPointSuffix",rf="{url#scheme}://{url#authority}{url#path}",OB="hardwareType",kB="regionPrefix",xI="bucketAliasSuffix",IS="outpostId",ao="isValidHostLabel",FS="sigv4a",qu="s3-outposts";var RB="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",MB="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",vI="https://{Bucket}.s3.{partitionResult#dnsSuffix}",PB="aws.parseArn",IB="bucketArn",BB="arnType";var jS="s3-object-lambda",DB="accesspoint",US="accessPointName",_I="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",SI="mrapPartition",wI="outpostType",EI="arnPrefix",NB="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",CI="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",AI="https://s3.{partitionResult#dnsSuffix}",Ha={[DS]:!1,[S]:"String"},za={[DS]:!0,default:!1,[S]:"Boolean"},Fu={[DS]:!1,[S]:"Boolean"},Zr={fn:et,[O]:[{ref:"Accelerate"},!0]},Fe={fn:et,[O]:[{ref:"UseFIPS"},!0]},De={fn:et,[O]:[{ref:"UseDualStack"},!0]},Xe={fn:zr,[O]:[{ref:"Endpoint"}]},LB={fn:nf,[O]:[{ref:"Region"}],[ce]:"partitionResult"},TI={fn:ve,[O]:[{fn:Je,[O]:[{ref:"partitionResult"},Ze]},"aws-cn"]},Uu={fn:zr,[O]:[{ref:"Bucket"}]},xe={ref:"Bucket"},OI={[C]:[De],[U]:"S3Express does not support Dual-stack.",[S]:U},kI={[C]:[Zr],[U]:"S3Express does not support S3 Accelerate.",[S]:U},RI={[C]:[Xe,{fn:LS,[O]:[{ref:"Endpoint"}],[ce]:"url"}],[M]:[{[C]:[{fn:zr,[O]:[{ref:"DisableS3ExpressSessionAuth"}]},{fn:et,[O]:[{ref:"DisableS3ExpressSessionAuth"},!0]}],[M]:[{[C]:[{fn:et,[O]:[{fn:Je,[O]:[{ref:"url"},"isIp"]},!0]}],[M]:[{[C]:[{fn:"uriEncode",[O]:[xe],[ce]:"uri_encoded_bucket"}],[M]:[{[B]:{url:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[q]:{[oo]:"S3Express",[Nt]:[{[wt]:!0,[Ze]:"sigv4",[Et]:"s3express",[ar]:"{Region}"}]},[H]:{}},[S]:B}],[S]:P}],[S]:P},{[C]:[{fn:sf,[O]:[xe,!1]}],[M]:[{[B]:{url:of,[q]:{[oo]:"S3Express",[Nt]:[{[wt]:!0,[Ze]:"sigv4",[Et]:"s3express",[ar]:"{Region}"}]},[H]:{}},[S]:B}],[S]:P},{[U]:"S3Express bucket name is not a valid virtual hostable name.",[S]:U}],[S]:P},{[C]:[{fn:et,[O]:[{fn:Je,[O]:[{ref:"url"},"isIp"]},!0]}],[M]:[{[C]:[{fn:"uriEncode",[O]:[xe],[ce]:"uri_encoded_bucket"}],[M]:[{[B]:{url:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[q]:{[oo]:"S3Express",[Nt]:[{[wt]:!0,[Ze]:"sigv4-s3express",[Et]:"s3express",[ar]:"{Region}"}]},[H]:{}},[S]:B}],[S]:P}],[S]:P},{[C]:[{fn:sf,[O]:[xe,!1]}],[M]:[{[B]:{url:of,[q]:{[oo]:"S3Express",[Nt]:[{[wt]:!0,[Ze]:"sigv4-s3express",[Et]:"s3express",[ar]:"{Region}"}]},[H]:{}},[S]:B}],[S]:P},{[U]:"S3Express bucket name is not a valid virtual hostable name.",[S]:U}],[S]:P},or={fn:LS,[O]:[{ref:"Endpoint"}],[ce]:"url"},pS={fn:et,[O]:[{fn:Je,[O]:[{ref:"url"},"isIp"]},!0]},FB={ref:"url"},jB={fn:"uriEncode",[O]:[xe],[ce]:"uri_encoded_bucket"},io={[oo]:"S3Express",[Nt]:[{[wt]:!0,[Ze]:"sigv4",[Et]:"s3express",[ar]:"{Region}"}]},ne={},UB={fn:sf,[O]:[xe,!1]},MI={[U]:"S3Express bucket name is not a valid virtual hostable name.",[S]:U},PI={fn:zr,[O]:[{ref:"UseS3ExpressControlEndpoint"}]},II={fn:et,[O]:[{ref:"UseS3ExpressControlEndpoint"},!0]},se={fn:"not",[O]:[Xe]},Zp={[U]:"Unrecognized S3Express bucket name format.",[S]:U},BI={fn:"not",[O]:[Uu]},DI={ref:OB},NI={[C]:[se],[U]:"Expected a endpoint to be specified but no endpoint was found",[S]:U},ef={[Nt]:[{[wt]:!0,[Ze]:FS,[Et]:qu,[NS]:["*"]},{[wt]:!0,[Ze]:"sigv4",[Et]:qu,[ar]:"{Region}"}]},fS={fn:et,[O]:[{ref:"ForcePathStyle"},!1]},YY={ref:"ForcePathStyle"},rt={fn:et,[O]:[{ref:"Accelerate"},!1]},pt={fn:ve,[O]:[{ref:"Region"},"aws-global"]},vt={[Nt]:[{[wt]:!0,[Ze]:"sigv4",[Et]:"s3",[ar]:"us-east-1"}]},ge={fn:"not",[O]:[pt]},_t={fn:et,[O]:[{ref:"UseGlobalEndpoint"},!0]},LI={url:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[q]:{[Nt]:[{[wt]:!0,[Ze]:"sigv4",[Et]:"s3",[ar]:"{Region}"}]},[H]:{}},nt={[Nt]:[{[wt]:!0,[Ze]:"sigv4",[Et]:"s3",[ar]:"{Region}"}]},St={fn:et,[O]:[{ref:"UseGlobalEndpoint"},!1]},me={fn:et,[O]:[{ref:"UseDualStack"},!1]},FI={url:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[q]:nt,[H]:{}},de={fn:et,[O]:[{ref:"UseFIPS"},!1]},jI={url:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[q]:nt,[H]:{}},UI={url:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[q]:nt,[H]:{}},mS={fn:et,[O]:[{fn:Je,[O]:[FB,"isIp"]},!1]},hS={url:RB,[q]:nt,[H]:{}},BS={url:of,[q]:nt,[H]:{}},qI={[B]:BS,[S]:B},gS={url:MB,[q]:nt,[H]:{}},HI={url:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[q]:nt,[H]:{}},tf={[U]:"Invalid region: region was not a valid DNS name.",[S]:U},gr={ref:IB},qB={ref:BB},yS={fn:Je,[O]:[gr,"service"]},qS={ref:US},zI={[C]:[De],[U]:"S3 Object Lambda does not support Dual-stack",[S]:U},$I={[C]:[Zr],[U]:"S3 Object Lambda does not support S3 Accelerate",[S]:U},JI={[C]:[{fn:zr,[O]:[{ref:"DisableAccessPoints"}]},{fn:et,[O]:[{ref:"DisableAccessPoints"},!0]}],[U]:"Access points are not supported for this operation",[S]:U},bS={[C]:[{fn:zr,[O]:[{ref:"UseArnRegion"}]},{fn:et,[O]:[{ref:"UseArnRegion"},!1]},{fn:"not",[O]:[{fn:ve,[O]:[{fn:Je,[O]:[gr,"region"]},"{Region}"]}]}],[U]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[S]:U},HB={fn:Je,[O]:[{ref:"bucketPartition"},Ze]},zB={fn:Je,[O]:[gr,"accountId"]},xS={[Nt]:[{[wt]:!0,[Ze]:"sigv4",[Et]:jS,[ar]:"{bucketArn#region}"}]},VI={[U]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[S]:U},vS={[U]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[S]:U},_S={[U]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[S]:U},SS={[U]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[S]:U},KI={[U]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[S]:U},GI={[U]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[S]:U},ju={[Nt]:[{[wt]:!0,[Ze]:"sigv4",[Et]:"s3",[ar]:"{bucketArn#region}"}]},WI={[Nt]:[{[wt]:!0,[Ze]:FS,[Et]:qu,[NS]:["*"]},{[wt]:!0,[Ze]:"sigv4",[Et]:qu,[ar]:"{bucketArn#region}"}]},YI={fn:PB,[O]:[xe]},QI={url:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:nt,[H]:{}},XI={url:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:nt,[H]:{}},ZI={url:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:nt,[H]:{}},wS={url:NB,[q]:nt,[H]:{}},eB={url:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:nt,[H]:{}},tB={ref:"UseObjectLambdaEndpoint"},ES={[Nt]:[{[wt]:!0,[Ze]:"sigv4",[Et]:jS,[ar]:"{Region}"}]},rB={url:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[q]:nt,[H]:{}},nB={url:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[q]:nt,[H]:{}},sB={url:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[q]:nt,[H]:{}},CS={url:rf,[q]:nt,[H]:{}},iB={url:"https://s3.{Region}.{partitionResult#dnsSuffix}",[q]:nt,[H]:{}},AS=[{ref:"Region"}],QY=[{ref:"Endpoint"}],XY=[xe],oB=[De],TS=[Zr],$a=[Xe,or],aB=[{fn:zr,[O]:[{ref:"DisableS3ExpressSessionAuth"}]},{fn:et,[O]:[{ref:"DisableS3ExpressSessionAuth"},!0]}],ZY=[jB],cB=[UB],Xr=[LB],Ja=[Fe],uB=[{fn:Ne,[O]:[xe,6,14,!0],[ce]:"s3expressAvailabilityZoneId"},{fn:Ne,[O]:[xe,14,16,!0],[ce]:"s3expressAvailabilityZoneDelim"},{fn:ve,[O]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],Gn=[{[C]:[Fe],[B]:{url:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[q]:io,[H]:{}},[S]:B},{[B]:{url:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[q]:io,[H]:{}},[S]:B}],lB=[{fn:Ne,[O]:[xe,6,15,!0],[ce]:"s3expressAvailabilityZoneId"},{fn:Ne,[O]:[xe,15,17,!0],[ce]:"s3expressAvailabilityZoneDelim"},{fn:ve,[O]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],dB=[{fn:Ne,[O]:[xe,6,19,!0],[ce]:"s3expressAvailabilityZoneId"},{fn:Ne,[O]:[xe,19,21,!0],[ce]:"s3expressAvailabilityZoneDelim"},{fn:ve,[O]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],pB=[{fn:Ne,[O]:[xe,6,20,!0],[ce]:"s3expressAvailabilityZoneId"},{fn:Ne,[O]:[xe,20,22,!0],[ce]:"s3expressAvailabilityZoneDelim"},{fn:ve,[O]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],fB=[{fn:Ne,[O]:[xe,6,26,!0],[ce]:"s3expressAvailabilityZoneId"},{fn:Ne,[O]:[xe,26,28,!0],[ce]:"s3expressAvailabilityZoneDelim"},{fn:ve,[O]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],Wn=[{[C]:[Fe],[B]:{url:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[q]:{[oo]:"S3Express",[Nt]:[{[wt]:!0,[Ze]:"sigv4-s3express",[Et]:"s3express",[ar]:"{Region}"}]},[H]:{}},[S]:B},{[B]:{url:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[q]:{[oo]:"S3Express",[Nt]:[{[wt]:!0,[Ze]:"sigv4-s3express",[Et]:"s3express",[ar]:"{Region}"}]},[H]:{}},[S]:B}],mB=[xe,0,7,!0],hB=[{fn:Ne,[O]:[xe,7,15,!0],[ce]:"s3expressAvailabilityZoneId"},{fn:Ne,[O]:[xe,15,17,!0],[ce]:"s3expressAvailabilityZoneDelim"},{fn:ve,[O]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],gB=[{fn:Ne,[O]:[xe,7,16,!0],[ce]:"s3expressAvailabilityZoneId"},{fn:Ne,[O]:[xe,16,18,!0],[ce]:"s3expressAvailabilityZoneDelim"},{fn:ve,[O]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],yB=[{fn:Ne,[O]:[xe,7,20,!0],[ce]:"s3expressAvailabilityZoneId"},{fn:Ne,[O]:[xe,20,22,!0],[ce]:"s3expressAvailabilityZoneDelim"},{fn:ve,[O]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],bB=[{fn:Ne,[O]:[xe,7,21,!0],[ce]:"s3expressAvailabilityZoneId"},{fn:Ne,[O]:[xe,21,23,!0],[ce]:"s3expressAvailabilityZoneDelim"},{fn:ve,[O]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],xB=[{fn:Ne,[O]:[xe,7,27,!0],[ce]:"s3expressAvailabilityZoneId"},{fn:Ne,[O]:[xe,27,29,!0],[ce]:"s3expressAvailabilityZoneDelim"},{fn:ve,[O]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],eQ=[Uu],vB=[{fn:ao,[O]:[{ref:IS},!1]}],_B=[{fn:ve,[O]:[{ref:kB},"beta"]}],tQ=["*"],SB=[{fn:ao,[O]:[{ref:"Region"},!1]}],si=[{fn:ve,[O]:[{ref:"Region"},"us-east-1"]}],OS=[{fn:ve,[O]:[qB,DB]}],wB=[{fn:Je,[O]:[gr,"resourceId[1]"],[ce]:US},{fn:"not",[O]:[{fn:ve,[O]:[qS,""]}]}],rQ=[gr,"resourceId[1]"],kS=[{fn:"not",[O]:[{fn:ve,[O]:[{fn:Je,[O]:[gr,"region"]},""]}]}],EB=[{fn:"not",[O]:[{fn:zr,[O]:[{fn:Je,[O]:[gr,"resourceId[2]"]}]}]}],nQ=[gr,"resourceId[2]"],RS=[{fn:nf,[O]:[{fn:Je,[O]:[gr,"region"]}],[ce]:"bucketPartition"}],CB=[{fn:ve,[O]:[HB,{fn:Je,[O]:[{ref:"partitionResult"},Ze]}]}],MS=[{fn:ao,[O]:[{fn:Je,[O]:[gr,"region"]},!0]}],PS=[{fn:ao,[O]:[zB,!1]}],AB=[{fn:ao,[O]:[qS,!1]}],TB=[{fn:ao,[O]:[{ref:"Region"},!0]}],sQ={version:"1.0",parameters:{Bucket:Ha,Region:Ha,UseFIPS:za,UseDualStack:za,Endpoint:Ha,ForcePathStyle:za,Accelerate:za,UseGlobalEndpoint:za,UseObjectLambdaEndpoint:Fu,Key:Ha,Prefix:Ha,CopySource:Ha,DisableAccessPoints:Fu,DisableMultiRegionAccessPoints:za,UseArnRegion:Fu,UseS3ExpressControlEndpoint:Fu,DisableS3ExpressSessionAuth:Fu},[M]:[{[C]:[{fn:zr,[O]:AS}],[M]:[{[C]:[Zr,Fe],error:"Accelerate cannot be used with FIPS",[S]:U},{[C]:[De,Xe],error:"Cannot set dual-stack in combination with a custom endpoint.",[S]:U},{[C]:[Xe,Fe],error:"A custom endpoint cannot be combined with FIPS",[S]:U},{[C]:[Xe,Zr],error:"A custom endpoint cannot be combined with S3 Accelerate",[S]:U},{[C]:[Fe,LB,TI],error:"Partition does not support FIPS",[S]:U},{[C]:[Uu,{fn:Ne,[O]:[xe,0,6,!0],[ce]:yI},{fn:ve,[O]:[{ref:yI},"--x-s3"]}],[M]:[OI,kI,RI,{[C]:[PI,II],[M]:[{[C]:Xr,[M]:[{[C]:[jB,se],[M]:[{[C]:Ja,endpoint:{url:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:io,[H]:ne},[S]:B},{endpoint:{url:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:io,[H]:ne},[S]:B}],[S]:P}],[S]:P}],[S]:P},{[C]:cB,[M]:[{[C]:Xr,[M]:[{[C]:aB,[M]:[{[C]:uB,[M]:Gn,[S]:P},{[C]:lB,[M]:Gn,[S]:P},{[C]:dB,[M]:Gn,[S]:P},{[C]:pB,[M]:Gn,[S]:P},{[C]:fB,[M]:Gn,[S]:P},Zp],[S]:P},{[C]:uB,[M]:Wn,[S]:P},{[C]:lB,[M]:Wn,[S]:P},{[C]:dB,[M]:Wn,[S]:P},{[C]:pB,[M]:Wn,[S]:P},{[C]:fB,[M]:Wn,[S]:P},Zp],[S]:P}],[S]:P},MI],[S]:P},{[C]:[Uu,{fn:Ne,[O]:mB,[ce]:bI},{fn:ve,[O]:[{ref:bI},"--xa-s3"]}],[M]:[OI,kI,RI,{[C]:cB,[M]:[{[C]:Xr,[M]:[{[C]:aB,[M]:[{[C]:hB,[M]:Gn,[S]:P},{[C]:gB,[M]:Gn,[S]:P},{[C]:yB,[M]:Gn,[S]:P},{[C]:bB,[M]:Gn,[S]:P},{[C]:xB,[M]:Gn,[S]:P},Zp],[S]:P},{[C]:hB,[M]:Wn,[S]:P},{[C]:gB,[M]:Wn,[S]:P},{[C]:yB,[M]:Wn,[S]:P},{[C]:bB,[M]:Wn,[S]:P},{[C]:xB,[M]:Wn,[S]:P},Zp],[S]:P}],[S]:P},MI],[S]:P},{[C]:[BI,PI,II],[M]:[{[C]:Xr,[M]:[{[C]:$a,endpoint:{url:rf,[q]:io,[H]:ne},[S]:B},{[C]:Ja,endpoint:{url:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[q]:io,[H]:ne},[S]:B},{endpoint:{url:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[q]:io,[H]:ne},[S]:B}],[S]:P}],[S]:P},{[C]:[Uu,{fn:Ne,[O]:[xe,49,50,!0],[ce]:OB},{fn:Ne,[O]:[xe,8,12,!0],[ce]:kB},{fn:Ne,[O]:mB,[ce]:xI},{fn:Ne,[O]:[xe,32,49,!0],[ce]:IS},{fn:nf,[O]:AS,[ce]:"regionPartition"},{fn:ve,[O]:[{ref:xI},"--op-s3"]}],[M]:[{[C]:vB,[M]:[{[C]:[{fn:ve,[O]:[DI,"e"]}],[M]:[{[C]:_B,[M]:[NI,{[C]:$a,endpoint:{url:"https://{Bucket}.ec2.{url#authority}",[q]:ef,[H]:ne},[S]:B}],[S]:P},{endpoint:{url:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[q]:ef,[H]:ne},[S]:B}],[S]:P},{[C]:[{fn:ve,[O]:[DI,"o"]}],[M]:[{[C]:_B,[M]:[NI,{[C]:$a,endpoint:{url:"https://{Bucket}.op-{outpostId}.{url#authority}",[q]:ef,[H]:ne},[S]:B}],[S]:P},{endpoint:{url:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[q]:ef,[H]:ne},[S]:B}],[S]:P},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[S]:U}],[S]:P},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[S]:U}],[S]:P},{[C]:eQ,[M]:[{[C]:[Xe,{fn:"not",[O]:[{fn:zr,[O]:[{fn:LS,[O]:QY}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[S]:U},{[C]:[fS,UB],[M]:[{[C]:Xr,[M]:[{[C]:SB,[M]:[{[C]:[Zr,TI],error:"S3 Accelerate cannot be used in this region",[S]:U},{[C]:[De,Fe,rt,se,pt],endpoint:{url:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[q]:vt,[H]:ne},[S]:B},{[C]:[De,Fe,rt,se,ge,_t],[M]:[{endpoint:LI,[S]:B}],[S]:P},{[C]:[De,Fe,rt,se,ge,St],endpoint:LI,[S]:B},{[C]:[me,Fe,rt,se,pt],endpoint:{url:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[q]:vt,[H]:ne},[S]:B},{[C]:[me,Fe,rt,se,ge,_t],[M]:[{endpoint:FI,[S]:B}],[S]:P},{[C]:[me,Fe,rt,se,ge,St],endpoint:FI,[S]:B},{[C]:[De,de,Zr,se,pt],endpoint:{url:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[q]:vt,[H]:ne},[S]:B},{[C]:[De,de,Zr,se,ge,_t],[M]:[{endpoint:jI,[S]:B}],[S]:P},{[C]:[De,de,Zr,se,ge,St],endpoint:jI,[S]:B},{[C]:[De,de,rt,se,pt],endpoint:{url:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[q]:vt,[H]:ne},[S]:B},{[C]:[De,de,rt,se,ge,_t],[M]:[{endpoint:UI,[S]:B}],[S]:P},{[C]:[De,de,rt,se,ge,St],endpoint:UI,[S]:B},{[C]:[me,de,rt,Xe,or,pS,pt],endpoint:{url:RB,[q]:vt,[H]:ne},[S]:B},{[C]:[me,de,rt,Xe,or,mS,pt],endpoint:{url:of,[q]:vt,[H]:ne},[S]:B},{[C]:[me,de,rt,Xe,or,pS,ge,_t],[M]:[{[C]:si,endpoint:hS,[S]:B},{endpoint:hS,[S]:B}],[S]:P},{[C]:[me,de,rt,Xe,or,mS,ge,_t],[M]:[{[C]:si,endpoint:BS,[S]:B},qI],[S]:P},{[C]:[me,de,rt,Xe,or,pS,ge,St],endpoint:hS,[S]:B},{[C]:[me,de,rt,Xe,or,mS,ge,St],endpoint:BS,[S]:B},{[C]:[me,de,Zr,se,pt],endpoint:{url:MB,[q]:vt,[H]:ne},[S]:B},{[C]:[me,de,Zr,se,ge,_t],[M]:[{[C]:si,endpoint:gS,[S]:B},{endpoint:gS,[S]:B}],[S]:P},{[C]:[me,de,Zr,se,ge,St],endpoint:gS,[S]:B},{[C]:[me,de,rt,se,pt],endpoint:{url:vI,[q]:vt,[H]:ne},[S]:B},{[C]:[me,de,rt,se,ge,_t],[M]:[{[C]:si,endpoint:{url:vI,[q]:nt,[H]:ne},[S]:B},{endpoint:HI,[S]:B}],[S]:P},{[C]:[me,de,rt,se,ge,St],endpoint:HI,[S]:B}],[S]:P},tf],[S]:P}],[S]:P},{[C]:[Xe,or,{fn:ve,[O]:[{fn:Je,[O]:[FB,"scheme"]},"http"]},{fn:sf,[O]:[xe,!0]},fS,de,me,rt],[M]:[{[C]:Xr,[M]:[{[C]:SB,[M]:[qI],[S]:P},tf],[S]:P}],[S]:P},{[C]:[fS,{fn:PB,[O]:XY,[ce]:IB}],[M]:[{[C]:[{fn:Je,[O]:[gr,"resourceId[0]"],[ce]:BB},{fn:"not",[O]:[{fn:ve,[O]:[qB,""]}]}],[M]:[{[C]:[{fn:ve,[O]:[yS,jS]}],[M]:[{[C]:OS,[M]:[{[C]:wB,[M]:[zI,$I,{[C]:kS,[M]:[JI,{[C]:EB,[M]:[bS,{[C]:RS,[M]:[{[C]:Xr,[M]:[{[C]:CB,[M]:[{[C]:MS,[M]:[{[C]:[{fn:ve,[O]:[zB,""]}],error:"Invalid ARN: Missing account id",[S]:U},{[C]:PS,[M]:[{[C]:AB,[M]:[{[C]:$a,endpoint:{url:_I,[q]:xS,[H]:ne},[S]:B},{[C]:Ja,endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:xS,[H]:ne},[S]:B},{endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:xS,[H]:ne},[S]:B}],[S]:P},VI],[S]:P},vS],[S]:P},_S],[S]:P},SS],[S]:P}],[S]:P}],[S]:P},KI],[S]:P},{error:"Invalid ARN: bucket ARN is missing a region",[S]:U}],[S]:P},GI],[S]:P},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[S]:U}],[S]:P},{[C]:OS,[M]:[{[C]:wB,[M]:[{[C]:kS,[M]:[{[C]:OS,[M]:[{[C]:kS,[M]:[JI,{[C]:EB,[M]:[bS,{[C]:RS,[M]:[{[C]:Xr,[M]:[{[C]:[{fn:ve,[O]:[HB,"{partitionResult#name}"]}],[M]:[{[C]:MS,[M]:[{[C]:[{fn:ve,[O]:[yS,"s3"]}],[M]:[{[C]:PS,[M]:[{[C]:AB,[M]:[{[C]:TS,error:"Access Points do not support S3 Accelerate",[S]:U},{[C]:[Fe,De],endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:ju,[H]:ne},[S]:B},{[C]:[Fe,me],endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:ju,[H]:ne},[S]:B},{[C]:[de,De],endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:ju,[H]:ne},[S]:B},{[C]:[de,me,Xe,or],endpoint:{url:_I,[q]:ju,[H]:ne},[S]:B},{[C]:[de,me],endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:ju,[H]:ne},[S]:B}],[S]:P},VI],[S]:P},vS],[S]:P},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[S]:U}],[S]:P},_S],[S]:P},SS],[S]:P}],[S]:P}],[S]:P},KI],[S]:P}],[S]:P}],[S]:P},{[C]:[{fn:ao,[O]:[qS,!0]}],[M]:[{[C]:oB,error:"S3 MRAP does not support dual-stack",[S]:U},{[C]:Ja,error:"S3 MRAP does not support FIPS",[S]:U},{[C]:TS,error:"S3 MRAP does not support S3 Accelerate",[S]:U},{[C]:[{fn:et,[O]:[{ref:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[S]:U},{[C]:[{fn:nf,[O]:AS,[ce]:SI}],[M]:[{[C]:[{fn:ve,[O]:[{fn:Je,[O]:[{ref:SI},Ze]},{fn:Je,[O]:[gr,"partition"]}]}],[M]:[{endpoint:{url:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[q]:{[Nt]:[{[wt]:!0,name:FS,[Et]:"s3",[NS]:tQ}]},[H]:ne},[S]:B}],[S]:P},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[S]:U}],[S]:P}],[S]:P},{error:"Invalid Access Point Name",[S]:U}],[S]:P},GI],[S]:P},{[C]:[{fn:ve,[O]:[yS,qu]}],[M]:[{[C]:oB,error:"S3 Outposts does not support Dual-stack",[S]:U},{[C]:Ja,error:"S3 Outposts does not support FIPS",[S]:U},{[C]:TS,error:"S3 Outposts does not support S3 Accelerate",[S]:U},{[C]:[{fn:zr,[O]:[{fn:Je,[O]:[gr,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[S]:U},{[C]:[{fn:Je,[O]:rQ,[ce]:IS}],[M]:[{[C]:vB,[M]:[bS,{[C]:RS,[M]:[{[C]:Xr,[M]:[{[C]:CB,[M]:[{[C]:MS,[M]:[{[C]:PS,[M]:[{[C]:[{fn:Je,[O]:nQ,[ce]:wI}],[M]:[{[C]:[{fn:Je,[O]:[gr,"resourceId[3]"],[ce]:US}],[M]:[{[C]:[{fn:ve,[O]:[{ref:wI},DB]}],[M]:[{[C]:$a,endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[q]:WI,[H]:ne},[S]:B},{endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:WI,[H]:ne},[S]:B}],[S]:P},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[S]:U}],[S]:P},{error:"Invalid ARN: expected an access point name",[S]:U}],[S]:P},{error:"Invalid ARN: Expected a 4-component resource",[S]:U}],[S]:P},vS],[S]:P},_S],[S]:P},SS],[S]:P}],[S]:P}],[S]:P},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[S]:U}],[S]:P},{error:"Invalid ARN: The Outpost Id was not set",[S]:U}],[S]:P},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[S]:U}],[S]:P},{error:"Invalid ARN: No ARN type specified",[S]:U}],[S]:P},{[C]:[{fn:Ne,[O]:[xe,0,4,!1],[ce]:EI},{fn:ve,[O]:[{ref:EI},"arn:"]},{fn:"not",[O]:[{fn:zr,[O]:[YI]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[S]:U},{[C]:[{fn:et,[O]:[YY,!0]},YI],error:"Path-style addressing cannot be used with ARN buckets",[S]:U},{[C]:ZY,[M]:[{[C]:Xr,[M]:[{[C]:[rt],[M]:[{[C]:[De,se,Fe,pt],endpoint:{url:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:vt,[H]:ne},[S]:B},{[C]:[De,se,Fe,ge,_t],[M]:[{endpoint:QI,[S]:B}],[S]:P},{[C]:[De,se,Fe,ge,St],endpoint:QI,[S]:B},{[C]:[me,se,Fe,pt],endpoint:{url:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:vt,[H]:ne},[S]:B},{[C]:[me,se,Fe,ge,_t],[M]:[{endpoint:XI,[S]:B}],[S]:P},{[C]:[me,se,Fe,ge,St],endpoint:XI,[S]:B},{[C]:[De,se,de,pt],endpoint:{url:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:vt,[H]:ne},[S]:B},{[C]:[De,se,de,ge,_t],[M]:[{endpoint:ZI,[S]:B}],[S]:P},{[C]:[De,se,de,ge,St],endpoint:ZI,[S]:B},{[C]:[me,Xe,or,de,pt],endpoint:{url:NB,[q]:vt,[H]:ne},[S]:B},{[C]:[me,Xe,or,de,ge,_t],[M]:[{[C]:si,endpoint:wS,[S]:B},{endpoint:wS,[S]:B}],[S]:P},{[C]:[me,Xe,or,de,ge,St],endpoint:wS,[S]:B},{[C]:[me,se,de,pt],endpoint:{url:CI,[q]:vt,[H]:ne},[S]:B},{[C]:[me,se,de,ge,_t],[M]:[{[C]:si,endpoint:{url:CI,[q]:nt,[H]:ne},[S]:B},{endpoint:eB,[S]:B}],[S]:P},{[C]:[me,se,de,ge,St],endpoint:eB,[S]:B}],[S]:P},{error:"Path-style addressing cannot be used with S3 Accelerate",[S]:U}],[S]:P}],[S]:P}],[S]:P},{[C]:[{fn:zr,[O]:[tB]},{fn:et,[O]:[tB,!0]}],[M]:[{[C]:Xr,[M]:[{[C]:TB,[M]:[zI,$I,{[C]:$a,endpoint:{url:rf,[q]:ES,[H]:ne},[S]:B},{[C]:Ja,endpoint:{url:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[q]:ES,[H]:ne},[S]:B},{endpoint:{url:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[q]:ES,[H]:ne},[S]:B}],[S]:P},tf],[S]:P}],[S]:P},{[C]:[BI],[M]:[{[C]:Xr,[M]:[{[C]:TB,[M]:[{[C]:[Fe,De,se,pt],endpoint:{url:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[q]:vt,[H]:ne},[S]:B},{[C]:[Fe,De,se,ge,_t],[M]:[{endpoint:rB,[S]:B}],[S]:P},{[C]:[Fe,De,se,ge,St],endpoint:rB,[S]:B},{[C]:[Fe,me,se,pt],endpoint:{url:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[q]:vt,[H]:ne},[S]:B},{[C]:[Fe,me,se,ge,_t],[M]:[{endpoint:nB,[S]:B}],[S]:P},{[C]:[Fe,me,se,ge,St],endpoint:nB,[S]:B},{[C]:[de,De,se,pt],endpoint:{url:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[q]:vt,[H]:ne},[S]:B},{[C]:[de,De,se,ge,_t],[M]:[{endpoint:sB,[S]:B}],[S]:P},{[C]:[de,De,se,ge,St],endpoint:sB,[S]:B},{[C]:[de,me,Xe,or,pt],endpoint:{url:rf,[q]:vt,[H]:ne},[S]:B},{[C]:[de,me,Xe,or,ge,_t],[M]:[{[C]:si,endpoint:CS,[S]:B},{endpoint:CS,[S]:B}],[S]:P},{[C]:[de,me,Xe,or,ge,St],endpoint:CS,[S]:B},{[C]:[de,me,se,pt],endpoint:{url:AI,[q]:vt,[H]:ne},[S]:B},{[C]:[de,me,se,ge,_t],[M]:[{[C]:si,endpoint:{url:AI,[q]:nt,[H]:ne},[S]:B},{endpoint:iB,[S]:B}],[S]:P},{[C]:[de,me,se,ge,St],endpoint:iB,[S]:B}],[S]:P},tf],[S]:P}],[S]:P}],[S]:P},{error:"A region must be set when sending requests to S3.",[S]:U}]},$B=sQ;var iQ=new jp({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),af=o((e,t={})=>iQ.get(e,()=>MP($B,{endpointParams:e,logger:t.logger})),"defaultEndpointResolver");ro.aws=oS;var oQ=o(e=>async(t,r,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(t,r,n),i=Tn(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);let a=await uS(n,{getEndpointParameterInstructions:i},t);return Object.assign(s,a)},"createEndpointRuleSetHttpAuthSchemeParametersProvider"),aQ=o(async(e,t,r)=>({operation:Tn(t).operation,region:await Bt(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),"_defaultS3HttpAuthSchemeParametersProvider"),JB=oQ(aQ);function VB(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:o((t,r)=>({signingProperties:{config:t,context:r}}),"propertiesExtractor")}}o(VB,"createAwsAuthSigv4HttpAuthOption");function KB(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:o((t,r)=>({signingProperties:{config:t,context:r}}),"propertiesExtractor")}}o(KB,"createAwsAuthSigv4aHttpAuthOption");var cQ=o((e,t,r)=>o(s=>{let a=e(s).properties?.authSchemes;if(!a)return t(s);let d=[];for(let p of a){let{name:f,properties:m={},...h}=p,g=f.toLowerCase();f!==g&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${f}\` to \`${g}\``);let y;if(g==="sigv4a"){y="aws.auth#sigv4a";let E=a.find(T=>{let k=T.name.toLowerCase();return k!=="sigv4a"&&k.startsWith("sigv4")});if(ni.sigv4aDependency()==="none"&&E)continue}else if(g.startsWith("sigv4"))y="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${g}\``);let x=r[y];if(!x)throw new Error(`Could not find HttpAuthOption create function for \`${y}\``);let _=x(s);_.schemeId=y,_.signingProperties={..._.signingProperties||{},...h,...m},d.push(_)}return d},"endpointRuleSetHttpAuthSchemeProvider"),"createEndpointRuleSetHttpAuthSchemeProvider"),uQ=o(e=>{let t=[];switch(e.operation){default:t.push(VB(e)),t.push(KB(e))}return t},"_defaultS3HttpAuthSchemeProvider"),GB=cQ(af,uQ,{"aws.auth#sigv4":VB,"aws.auth#sigv4a":KB}),WB=o(e=>{let t=eM(e),r=MR(t);return Object.assign(r,{authSchemePreference:Bt(e.authSchemePreference??[])})},"resolveHttpAuthSchemeConfig");l();u();c();l();u();c();var YB=o(e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),"resolveClientEndpointParameters"),Yn={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};l();u();c();l();u();c();var st=class e extends Ap{static{o(this,"S3ServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};var cf=class e extends st{static{o(this,"NoSuchUpload")}name="NoSuchUpload";$fault="client";constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};var uf=class e extends st{static{o(this,"ObjectNotInActiveTierError")}name="ObjectNotInActiveTierError";$fault="client";constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},lf=class e extends st{static{o(this,"BucketAlreadyExists")}name="BucketAlreadyExists";$fault="client";constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},df=class e extends st{static{o(this,"BucketAlreadyOwnedByYou")}name="BucketAlreadyOwnedByYou";$fault="client";constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};var pf=class e extends st{static{o(this,"NoSuchBucket")}name="NoSuchBucket";$fault="client";constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},HS;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(HS||(HS={}));var zS;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(zS||(zS={}));var ff=class e extends st{static{o(this,"InvalidObjectState")}name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}},mf=class e extends st{static{o(this,"NoSuchKey")}name="NoSuchKey";$fault="client";constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};var hf=class e extends st{static{o(this,"NotFound")}name="NotFound";$fault="client";constructor(t){super({name:"NotFound",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};var lQ=o(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:nr},...e.SessionToken&&{SessionToken:nr}}),"SessionCredentialsFilterSensitiveLog"),QB=o(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:nr},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:nr},...e.Credentials&&{Credentials:lQ(e.Credentials)}}),"CreateSessionOutputFilterSensitiveLog"),XB=o(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:nr},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:nr}}),"CreateSessionRequestFilterSensitiveLog");var ZB=o(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:nr}}),"GetObjectOutputFilterSensitiveLog"),eD=o(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:nr}}),"GetObjectRequestFilterSensitiveLog");l();u();c();l();u();c();var gf=class e extends st{static{o(this,"EncryptionTypeMismatch")}name="EncryptionTypeMismatch";$fault="client";constructor(t){super({name:"EncryptionTypeMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yf=class e extends st{static{o(this,"InvalidRequest")}name="InvalidRequest";$fault="client";constructor(t){super({name:"InvalidRequest",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bf=class e extends st{static{o(this,"InvalidWriteOffset")}name="InvalidWriteOffset";$fault="client";constructor(t){super({name:"InvalidWriteOffset",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xf=class e extends st{static{o(this,"TooManyParts")}name="TooManyParts";$fault="client";constructor(t){super({name:"TooManyParts",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},vf=class e extends st{static{o(this,"IdempotencyParameterMismatch")}name="IdempotencyParameterMismatch";$fault="client";constructor(t){super({name:"IdempotencyParameterMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_f=class e extends st{static{o(this,"ObjectAlreadyInActiveTierError")}name="ObjectAlreadyInActiveTierError";$fault="client";constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};var tD;(function(e){e.visit=(t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])})(tD||(tD={}));var rD=o(e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:nr},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:nr}}),"PutObjectOutputFilterSensitiveLog"),nD=o(e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:nr},...e.SSEKMSKeyId&&{SSEKMSKeyId:nr},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:nr}}),"PutObjectRequestFilterSensitiveLog");var gD=o(async(e,t)=>{let r=Gi(e,t),n=Oe({},xt,{[IX]:e[sX],[Yu]:e[Ku],[Qu]:e[Gu],[qf]:e[Lf],[oi]:[()=>xt(e[uo]),()=>e[uo].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=Oe({[OX]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_CreateSessionCommand");var yD=o(async(e,t)=>{let r=Gi(e,t),n=Oe({},xt,{[UX]:e[JQ],[Uf]:e[Bf],[MX]:[()=>xt(e[sD]),()=>e[sD].toString()],[Ff]:e[Pf],[bw]:e[yw],[FX]:[()=>xt(e[iD]),()=>Ia(e[iD]).toString()],[jX]:[()=>xt(e[oD]),()=>e[oD].toString()]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=Oe({[Cw]:[,"DeleteObject"],[$D]:[,e[Wu]]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},"se_DeleteObjectCommand");var bD=o(async(e,t)=>{let r=Gi(e,t),n=Oe({},xt,{[bw]:e[yw],[hX]:[()=>xt(e[aD]),()=>Ia(e[aD]).toString()],[zD]:e[PD],[gX]:[()=>xt(e[cD]),()=>Ia(e[cD]).toString()],[_X]:e[WQ],[Hf]:e[Df],[YD]:e[DD],[zf]:e[Nf],[Uf]:e[Bf],[Ff]:e[Pf],[PX]:e[NQ]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=Oe({[Cw]:[,"GetObject"],[SX]:[,e[YQ]],[wX]:[,e[QQ]],[EX]:[,e[XQ]],[CX]:[,e[ZQ]],[AX]:[,e[eX]],[TX]:[()=>e.ResponseExpires!==void 0,()=>Ia(e[tX]).toString()],[$D]:[,e[Wu]],[xX]:[()=>e.PartNumber!==void 0,()=>e[GQ].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_GetObjectCommand");var xD=o(async(e,t)=>{let r=Gi(e,t),n=Oe({},xt,{[Uf]:e[Bf],[Ff]:e[Pf],[qX]:[()=>xt(e[uD]),()=>(e[uD]||[]).map(CR).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=Oe({[yX]:[,"2"],[dX]:[,e[Cf]],[pX]:[,e[Af]],[bX]:[()=>e.MaxKeys!==void 0,()=>e[Of].toString()],[vX]:[,e[co]],[lX]:[,e[Ef]],[mX]:[()=>e.FetchOwner!==void 0,()=>e[UQ].toString()],[kX]:[,e[kf]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},"se_ListObjectsV2Command");var vD=o(async(e,t)=>{let r=Gi(e,t),n=Oe({},xt,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((d,p)=>(d[`x-amz-meta-${p.toLowerCase()}`]=e.Metadata[p],d),{}),[qD]:e[RD]||"application/octet-stream",[RX]:e[BQ],[LD]:e[AD],[FD]:e[TD],[jD]:e[OD],[UD]:e[kD],[uw]:[()=>xt(e[ow]),()=>e[ow].toString()],[cX]:e[LQ],[$X]:e[Hu],[xw]:e[pw],[vw]:e[fw],[_w]:e[mw],[Sw]:e[hw],[ww]:e[gw],[lw]:[()=>xt(e[aw]),()=>Ia(e[aw]).toString()],[bw]:e[yw],[zD]:e[PD],[BX]:e[qQ],[DX]:e[HQ],[NX]:e[zQ],[LX]:e[$Q],[VX]:[()=>xt(e[lD]),()=>e[lD].toString()],[Yu]:e[Ku],[WD]:e[ii],[QD]:e[ND],[Hf]:e[Df],[YD]:e[DD],[zf]:e[Nf],[Qu]:e[Gu],[qf]:e[Lf],[oi]:[()=>xt(e[uo]),()=>e[uo].toString()],[Uf]:e[Bf],[JX]:e[iX],[GD]:e[BD],[dw]:[()=>xt(e[cw]),()=>fM(e[cw]).toString()],[KD]:e[ID],[Ff]:e[Pf]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=Oe({[Cw]:[,"PutObject"]}),i,a;return e.Body!==void 0&&(a=e.Body,i=a),r.m("PUT").h(n).q(s).b(i),r.build()},"se_PutObjectCommand");var _D=o(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Vu(e,t);let r=Oe({$metadata:ft(e),[Ku]:[,e.headers[Yu]],[Gu]:[,e.headers[Qu]],[Lf]:[,e.headers[qf]],[uo]:[()=>e.headers[oi]!==void 0,()=>Qs(e.headers[oi])]}),n=vs(w0(await Mp(e.body,t)),"body");return n[VS]!=null&&(r[VS]=IQ(n[VS],t)),r},"de_CreateSessionCommand");var SD=o(async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Vu(e,t);let r=Oe({$metadata:ft(e),[MD]:[()=>e.headers[Mf]!==void 0,()=>Qs(e.headers[Mf])],[Wu]:[,e.headers[Ew]],[If]:[,e.headers[jf]]});return await Ra(e.body,t),r},"de_DeleteObjectCommand");var wD=o(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Vu(e,t);let r=Oe({$metadata:ft(e),[MD]:[()=>e.headers[Mf]!==void 0,()=>Qs(e.headers[Mf])],[DQ]:[,e.headers[aX]],[Ju]:[,e.headers[VD]],[nX]:[,e.headers[HX]],[Tf]:[()=>e.headers[dD]!==void 0,()=>vs(wu(e.headers[dD]))],[ow]:[()=>e.headers[uw]!==void 0,()=>mp(e.headers[uw])],[$u]:[,e.headers[HD]],[pw]:[,e.headers[xw]],[fw]:[,e.headers[vw]],[mw]:[,e.headers[_w]],[hw]:[,e.headers[Sw]],[gw]:[,e.headers[ww]],[zu]:[,e.headers[JD]],[VQ]:[()=>e.headers[pD]!==void 0,()=>Pa(e.headers[pD])],[Wu]:[,e.headers[Ew]],[AD]:[,e.headers[LD]],[TD]:[,e.headers[FD]],[OD]:[,e.headers[jD]],[kD]:[,e.headers[UD]],[FQ]:[,e.headers[uX]],[RD]:[,e.headers[qD]],[aw]:[()=>e.headers[lw]!==void 0,()=>vs(wu(e.headers[lw]))],[jQ]:[,e.headers[fX]],[ND]:[,e.headers[QD]],[Ku]:[,e.headers[Yu]],[Df]:[,e.headers[Hf]],[Nf]:[,e.headers[zf]],[Gu]:[,e.headers[Qu]],[uo]:[()=>e.headers[oi]!==void 0,()=>Qs(e.headers[oi])],[ii]:[,e.headers[WD]],[If]:[,e.headers[jf]],[rX]:[,e.headers[zX]],[KQ]:[()=>e.headers[fD]!==void 0,()=>Pa(e.headers[fD])],[oX]:[()=>e.headers[hD]!==void 0,()=>Pa(e.headers[hD])],[BD]:[,e.headers[GD]],[cw]:[()=>e.headers[dw]!==void 0,()=>vs(Su(e.headers[dw]))],[ID]:[,e.headers[KD]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,i)=>(s[i.substring(11)]=e.headers[i],s),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},"de_GetObjectCommand");var ED=o(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Vu(e,t);let r=Oe({$metadata:ft(e),[If]:[,e.headers[jf]]}),n=vs(w0(await Mp(e.body,t)),"body");return n.CommonPrefixes===""?r[Sf]=[]:n[Sf]!=null&&(r[Sf]=OQ(Tp(n[Sf]),t)),n.Contents===""?r[wf]=[]:n[wf]!=null&&(r[wf]=RQ(Tp(n[wf]),t)),n[Ef]!=null&&(r[Ef]=Ye(n[Ef])),n[Cf]!=null&&(r[Cf]=Ye(n[Cf])),n[Af]!=null&&(r[Af]=Ye(n[Af])),n[YS]!=null&&(r[YS]=Qs(n[YS])),n[XS]!=null&&(r[XS]=Pa(n[XS])),n[Of]!=null&&(r[Of]=Pa(n[Of])),n[ZS]!=null&&(r[ZS]=Ye(n[ZS])),n[ew]!=null&&(r[ew]=Ye(n[ew])),n[co]!=null&&(r[co]=Ye(n[co])),n[kf]!=null&&(r[kf]=Ye(n[kf])),r},"de_ListObjectsV2Command");var CD=o(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Vu(e,t);let r=Oe({$metadata:ft(e),[Ju]:[,e.headers[VD]],[$u]:[,e.headers[HD]],[pw]:[,e.headers[xw]],[fw]:[,e.headers[vw]],[mw]:[,e.headers[_w]],[hw]:[,e.headers[Sw]],[gw]:[,e.headers[ww]],[zu]:[,e.headers[JD]],[Ku]:[,e.headers[Yu]],[Wu]:[,e.headers[Ew]],[Df]:[,e.headers[Hf]],[Nf]:[,e.headers[zf]],[Gu]:[,e.headers[Qu]],[Lf]:[,e.headers[qf]],[uo]:[()=>e.headers[oi]!==void 0,()=>Qs(e.headers[oi])],[Rf]:[()=>e.headers[mD]!==void 0,()=>mp(e.headers[mD])],[If]:[,e.headers[jf]]});return await Ra(e.body,t),r},"de_PutObjectCommand");var Vu=o(async(e,t)=>{let r={...e,body:await EM(e.body,t)},n=CM(e,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await _Q(r,t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await EQ(r,t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await pQ(r,t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await fQ(r,t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await xQ(r,t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await gQ(r,t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await vQ(r,t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await SQ(r,t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await mQ(r,t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await yQ(r,t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await bQ(r,t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await CQ(r,t);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await hQ(r,t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await wQ(r,t);default:let s=r.body;return dQ({output:e,parsedBody:s,errorCode:n})}},"de_CommandError"),dQ=iM(st),pQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new lf({$metadata:ft(e),...r});return kt(s,e.body)},"de_BucketAlreadyExistsRes"),fQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new df({$metadata:ft(e),...r});return kt(s,e.body)},"de_BucketAlreadyOwnedByYouRes"),mQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new gf({$metadata:ft(e),...r});return kt(s,e.body)},"de_EncryptionTypeMismatchRes"),hQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new vf({$metadata:ft(e),...r});return kt(s,e.body)},"de_IdempotencyParameterMismatchRes"),gQ=o(async(e,t)=>{let r=Oe({}),n=e.body;n[JS]!=null&&(r[JS]=Ye(n[JS])),n[ii]!=null&&(r[ii]=Ye(n[ii]));let s=new ff({$metadata:ft(e),...r});return kt(s,e.body)},"de_InvalidObjectStateRes"),yQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new yf({$metadata:ft(e),...r});return kt(s,e.body)},"de_InvalidRequestRes"),bQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new bf({$metadata:ft(e),...r});return kt(s,e.body)},"de_InvalidWriteOffsetRes"),xQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new pf({$metadata:ft(e),...r});return kt(s,e.body)},"de_NoSuchBucketRes"),vQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new mf({$metadata:ft(e),...r});return kt(s,e.body)},"de_NoSuchKeyRes"),_Q=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new cf({$metadata:ft(e),...r});return kt(s,e.body)},"de_NoSuchUploadRes"),SQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new hf({$metadata:ft(e),...r});return kt(s,e.body)},"de_NotFoundRes"),wQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new _f({$metadata:ft(e),...r});return kt(s,e.body)},"de_ObjectAlreadyInActiveTierErrorRes"),EQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new uf({$metadata:ft(e),...r});return kt(s,e.body)},"de_ObjectNotInActiveTierErrorRes"),CQ=o(async(e,t)=>{let r=Oe({}),n=e.body,s=new xf({$metadata:ft(e),...r});return kt(s,e.body)},"de_TooManyPartsRes");var AQ=o((e,t)=>(e||[]).filter(r=>r!=null).map(r=>Ye(r)),"de_ChecksumAlgorithmList"),TQ=o((e,t)=>{let r={};return e[co]!=null&&(r[co]=Ye(e[co])),r},"de_CommonPrefix"),OQ=o((e,t)=>(e||[]).filter(r=>r!=null).map(r=>TQ(r,t)),"de_CommonPrefixList");var kQ=o((e,t)=>{let r={};return e[QS]!=null&&(r[QS]=Ye(e[QS])),e[Tf]!=null&&(r[Tf]=vs(Su(e[Tf]))),e[$u]!=null&&(r[$u]=Ye(e[$u])),e.ChecksumAlgorithm===""?r[Hu]=[]:e[Hu]!=null&&(r[Hu]=AQ(Tp(e[Hu]),t)),e[zu]!=null&&(r[zu]=Ye(e[zu])),e[Rf]!=null&&(r[Rf]=mp(e[Rf])),e[ii]!=null&&(r[ii]=Ye(e[ii])),e[tw]!=null&&(r[tw]=MQ(e[tw],t)),e[nw]!=null&&(r[nw]=PQ(e[nw],t)),r},"de__Object"),RQ=o((e,t)=>(e||[]).filter(r=>r!=null).map(r=>kQ(r,t)),"de_ObjectList");var MQ=o((e,t)=>{let r={};return e[KS]!=null&&(r[KS]=Ye(e[KS])),e[GS]!=null&&(r[GS]=Ye(e[GS])),r},"de_Owner");var PQ=o((e,t)=>{let r={};return e[WS]!=null&&(r[WS]=Qs(e[WS])),e[rw]!=null&&(r[rw]=vs(Su(e[rw]))),r},"de_RestoreStatus");var IQ=o((e,t)=>{let r={};return e[$S]!=null&&(r[$S]=Ye(e[$S])),e[sw]!=null&&(r[sw]=Ye(e[sw])),e[iw]!=null&&(r[iw]=Ye(e[iw])),e[Ju]!=null&&(r[Ju]=vs(Su(e[Ju]))),r},"de_SessionCredentials");var ft=o(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata");var BQ="ACL";var $S="AccessKeyId";var DQ="AcceptRanges";var JS="AccessTier";var sD="BypassGovernanceRetention";var uo="BucketKeyEnabled";var VS="Credentials",Hu="ChecksumAlgorithm";var AD="CacheControl",pw="ChecksumCRC32",fw="ChecksumCRC32C",mw="ChecksumCRC64NVME",TD="ContentDisposition";var OD="ContentEncoding";var kD="ContentLanguage",ow="ContentLength",NQ="ChecksumMode",LQ="ContentMD5";var Sf="CommonPrefixes";var FQ="ContentRange";var hw="ChecksumSHA1",gw="ChecksumSHA256";var zu="ChecksumType";var RD="ContentType";var Ef="ContinuationToken";var wf="Contents";var Cf="Delimiter";var MD="DeleteMarker";var KS="DisplayName";var aw="Expires";var Pf="ExpectedBucketOwner";var jQ="ExpiresString";var Af="EncodingType",$u="ETag";var Ju="Expiration";var UQ="FetchOwner";var qQ="GrantFullControl";var HQ="GrantRead",zQ="GrantReadACP";var $Q="GrantWriteACP";var GS="ID";var yw="IfMatch";var iD="IfMatchLastModifiedTime",oD="IfMatchSize",aD="IfModifiedSince",PD="IfNoneMatch";var WS="IsRestoreInProgress";var YS="IsTruncated";var cD="IfUnmodifiedSince";var QS="Key",XS="KeyCount";var Tf="LastModified";var JQ="MFA";var Of="MaxKeys";var VQ="MissingMeta";var ZS="Name";var ew="NextContinuationToken";var tw="Owner";var ID="ObjectLockLegalHoldStatus",BD="ObjectLockMode";var cw="ObjectLockRetainUntilDate";var uD="OptionalObjectAttributes";var co="Prefix";var KQ="PartsCount";var GQ="PartNumber";var WQ="Range";var If="RequestCharged",YQ="ResponseCacheControl",QQ="ResponseContentDisposition",XQ="ResponseContentEncoding",ZQ="ResponseContentLanguage",eX="ResponseContentType";var tX="ResponseExpires";var rw="RestoreExpiryDate";var Bf="RequestPayer";var rX="ReplicationStatus",nw="RestoreStatus";var nX="Restore";var kf="StartAfter",sw="SecretAccessKey";var ii="StorageClass";var sX="SessionMode";var Ku="ServerSideEncryption";var Df="SSECustomerAlgorithm",DD="SSECustomerKey",Nf="SSECustomerKeyMD5";var Lf="SSEKMSEncryptionContext",Gu="SSEKMSKeyId";var iw="SessionToken";var Rf="Size";var iX="Tagging";var oX="TagCount";var Wu="VersionId";var lD="WriteOffsetBytes",ND="WebsiteRedirectLocation";var aX="accept-ranges";var LD="cache-control",FD="content-disposition",jD="content-encoding",UD="content-language",uw="content-length",cX="content-md5",uX="content-range",qD="content-type",lX="continuation-token";var dX="delimiter",lw="expires";var pX="encoding-type",HD="etag",fX="expiresstring",mX="fetch-owner";var bw="if-match",hX="if-modified-since";var zD="if-none-match";var gX="if-unmodified-since";var dD="last-modified";var yX="list-type";var bX="max-keys";var xX="partNumber";var vX="prefix";var _X="range",SX="response-cache-control",wX="response-content-disposition",EX="response-content-encoding",CX="response-content-language",AX="response-content-type",TX="response-expires";var OX="session",kX="start-after";var $D="versionId";var RX="x-amz-acl";var MX="x-amz-bypass-governance-retention";var xw="x-amz-checksum-crc32",vw="x-amz-checksum-crc32c",_w="x-amz-checksum-crc64nvme",PX="x-amz-checksum-mode";var Sw="x-amz-checksum-sha1",ww="x-amz-checksum-sha256";var IX="x-amz-create-session-mode";var JD="x-amz-checksum-type";var Mf="x-amz-delete-marker",VD="x-amz-expiration",Ff="x-amz-expected-bucket-owner";var BX="x-amz-grant-full-control",DX="x-amz-grant-read",NX="x-amz-grant-read-acp";var LX="x-amz-grant-write-acp";var FX="x-amz-if-match-last-modified-time",jX="x-amz-if-match-size",UX="x-amz-mfa";var pD="x-amz-missing-meta";var fD="x-amz-mp-parts-count";var KD="x-amz-object-lock-legal-hold",GD="x-amz-object-lock-mode",dw="x-amz-object-lock-retain-until-date";var qX="x-amz-optional-object-attributes",mD="x-amz-object-size";var HX="x-amz-restore",jf="x-amz-request-charged";var Uf="x-amz-request-payer";var zX="x-amz-replication-status";var WD="x-amz-storage-class",$X="x-amz-sdk-checksum-algorithm";var Yu="x-amz-server-side-encryption",Qu="x-amz-server-side-encryption-aws-kms-key-id",oi="x-amz-server-side-encryption-bucket-key-enabled",qf="x-amz-server-side-encryption-context",Hf="x-amz-server-side-encryption-customer-algorithm",YD="x-amz-server-side-encryption-customer-key",zf="x-amz-server-side-encryption-customer-key-md5",JX="x-amz-tagging",hD="x-amz-tagging-count";var Ew="x-amz-version-id",VX="x-amz-write-offset-bytes",QD="x-amz-website-redirect-location",Cw="x-id";var $f=class extends qr.classBuilder().ep({...Yn,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[$n(n,this.serialize,this.deserialize),Kn(n,t.getEndpointParameterInstructions()),ri(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(XB,QB).ser(gD).de(_D).build(){static{o(this,"CreateSessionCommand")}};l();u();c();var XD={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.888.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.888.0","@aws-sdk/credential-provider-node":"3.888.0","@aws-sdk/middleware-bucket-endpoint":"3.887.0","@aws-sdk/middleware-expect-continue":"3.887.0","@aws-sdk/middleware-flexible-checksums":"3.888.0","@aws-sdk/middleware-host-header":"3.887.0","@aws-sdk/middleware-location-constraint":"3.887.0","@aws-sdk/middleware-logger":"3.887.0","@aws-sdk/middleware-recursion-detection":"3.887.0","@aws-sdk/middleware-sdk-s3":"3.888.0","@aws-sdk/middleware-ssec":"3.887.0","@aws-sdk/middleware-user-agent":"3.888.0","@aws-sdk/region-config-resolver":"3.887.0","@aws-sdk/signature-v4-multi-region":"3.888.0","@aws-sdk/types":"3.887.0","@aws-sdk/util-endpoints":"3.887.0","@aws-sdk/util-user-agent-browser":"3.887.0","@aws-sdk/util-user-agent-node":"3.888.0","@aws-sdk/xml-builder":"3.887.0","@smithy/config-resolver":"^4.2.1","@smithy/core":"^3.11.0","@smithy/eventstream-serde-browser":"^4.1.1","@smithy/eventstream-serde-config-resolver":"^4.2.1","@smithy/eventstream-serde-node":"^4.1.1","@smithy/fetch-http-handler":"^5.2.1","@smithy/hash-blob-browser":"^4.1.1","@smithy/hash-node":"^4.1.1","@smithy/hash-stream-node":"^4.1.1","@smithy/invalid-dependency":"^4.1.1","@smithy/md5-js":"^4.1.1","@smithy/middleware-content-length":"^4.1.1","@smithy/middleware-endpoint":"^4.2.1","@smithy/middleware-retry":"^4.2.1","@smithy/middleware-serde":"^4.1.1","@smithy/middleware-stack":"^4.1.1","@smithy/node-config-provider":"^4.2.1","@smithy/node-http-handler":"^4.2.1","@smithy/protocol-http":"^5.2.1","@smithy/smithy-client":"^4.6.1","@smithy/types":"^4.5.0","@smithy/url-parser":"^4.1.1","@smithy/util-base64":"^4.1.0","@smithy/util-body-length-browser":"^4.1.0","@smithy/util-body-length-node":"^4.1.0","@smithy/util-defaults-mode-browser":"^4.1.1","@smithy/util-defaults-mode-node":"^4.1.1","@smithy/util-endpoints":"^3.1.1","@smithy/util-middleware":"^4.1.1","@smithy/util-retry":"^4.1.1","@smithy/util-stream":"^4.3.1","@smithy/util-utf8":"^4.1.0","@smithy/util-waiter":"^4.1.1","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.888.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};l();u();c();l();u();c();l();u();c();l();u();c();function Aw(e){return typeof e=="string"?e.length===0:e.byteLength===0}o(Aw,"isEmptyData");l();u();c();var Tw={name:"SHA-1"},Ow={name:"HMAC",hash:Tw},ZD=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);l();u();c();var GX={};function en(){return typeof window<"u"?window:typeof self<"u"?self:GX}o(en,"locateWindow");var kw=(function(){function e(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(r,n){en().crypto.subtle.importKey("raw",eN(t),Ow,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return o(e,"Sha1"),e.prototype.update=function(t){if(!Aw(t)){var r=eN(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return en().crypto.subtle.sign(Ow,r,t.toHash).then(function(n){return new Uint8Array(n)})}):Aw(this.toHash)?Promise.resolve(ZD):Promise.resolve().then(function(){return en().crypto.subtle.digest(Tw,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e})();function eN(e){return typeof e=="string"?ku(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}o(eN,"convertToBuffer");l();u();c();l();u();c();var WX=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Jf(e){if(YX(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return QX(t)}return!1}o(Jf,"supportsWebCrypto");function YX(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}o(YX,"supportsSecureRandom");function QX(e){return e&&WX.every(function(t){return typeof e[t]=="function"})}o(QX,"supportsSubtleCrypto");var tN=(function(){function e(t){if(Jf(en()))this.hash=new kw(t);else throw new Error("SHA1 not supported")}return o(e,"Sha1"),e.prototype.update=function(t,r){this.hash.update(ir(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e})();l();u();c();l();u();c();l();u();c();l();u();c();var Rw={name:"SHA-256"},Mw={name:"HMAC",hash:Rw},rN=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);var Pw=(function(){function e(t){this.toHash=new Uint8Array(0),this.secret=t,this.reset()}return o(e,"Sha256"),e.prototype.update=function(t){if(!Vn(t)){var r=ir(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return en().crypto.subtle.sign(Mw,r,t.toHash).then(function(n){return new Uint8Array(n)})}):Vn(this.toHash)?Promise.resolve(rN):Promise.resolve().then(function(){return en().crypto.subtle.digest(Rw,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e.prototype.reset=function(){var t=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){en().crypto.subtle.importKey("raw",ir(t.secret),Mw,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},e})();l();u();c();l();u();c();l();u();c();var yr=64,nN=32,sN=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),iN=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],oN=Math.pow(2,53)-1;l();u();c();var Xu=(function(){function e(){this.state=Int32Array.from(iN),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return o(e,"RawSha256"),e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>oN)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===yr&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%yr>=yr-8){for(var s=this.bufferLength;s<yr;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<yr-8;s++)r.setUint8(s,0);r.setUint32(yr-8,Math.floor(t/4294967296),!0),r.setUint32(yr-4,t),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(nN),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,s=n[0],i=n[1],a=n[2],d=n[3],p=n[4],f=n[5],m=n[6],h=n[7],g=0;g<yr;g++){if(g<16)this.temp[g]=(r[g*4]&255)<<24|(r[g*4+1]&255)<<16|(r[g*4+2]&255)<<8|r[g*4+3]&255;else{var y=this.temp[g-2],x=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;y=this.temp[g-15];var _=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[g]=(x+this.temp[g-7]|0)+(_+this.temp[g-16]|0)}var E=(((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&f^~p&m)|0)+(h+(sN[g]+this.temp[g]|0)|0)|0,T=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&a^i&a)|0;h=m,m=f,f=p,p=d+E|0,d=a,a=i,i=s,s=E+T|0}n[0]+=s,n[1]+=i,n[2]+=a,n[3]+=d,n[4]+=p,n[5]+=f,n[6]+=m,n[7]+=h},e})();var aN=(function(){function e(t){this.secret=t,this.hash=new Xu,this.reset()}return o(e,"Sha256"),e.prototype.update=function(t){if(!(Vn(t)||this.error))try{this.hash.update(ir(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return La(this,void 0,void 0,function(){return Fa(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Xu,this.secret){this.outer=new Xu;var t=XX(this.secret),r=new Uint8Array(yr);r.set(t);for(var n=0;n<yr;n++)t[n]^=54,r[n]^=92;this.hash.update(t),this.outer.update(r);for(var n=0;n<t.byteLength;n++)t[n]=0}},e})();function XX(e){var t=ir(e);if(t.byteLength>yr){var r=new Xu;r.update(t),t=r.digest()}var n=new Uint8Array(yr);return n.set(t),n}o(XX,"bufferFromSecret");var cN=(function(){function e(t){Jf(en())?this.hash=new Pw(t):this.hash=new aN(t)}return o(e,"Sha256"),e.prototype.update=function(t,r){this.hash.update(ir(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e})();l();u();c();var lN=Fr(uN());var dN=o(({serviceId:e,clientVersion:t})=>async r=>{let n=typeof window<"u"&&window?.navigator?.userAgent?lN.default.parse(window.navigator.userAgent):void 0,s=[["aws-sdk-js",t],["ua","2.1"],[`os/${n?.os?.name||"other"}`,n?.os?.version],["lang/js"],["md/browser",`${n?.browser?.name??"unknown"}_${n?.browser?.version??"unknown"}`]];e&&s.push([`api/${e}`,t]);let i=await r?.userAgentAppId?.();return i&&s.push([`app/${i}`]),s},"createDefaultUserAgentProvider");l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();var Va=class e{static{o(this,"Int64")}bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&pN(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&pN(t),parseInt(Ge(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function pN(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}o(pN,"negate");var Vf=class{static{o(this,"HeaderMarshaller")}toUtf8;fromUtf8;constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let i of Object.keys(t)){let a=this.fromUtf8(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0)),s=0;for(let i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(t.value,3),a;case"string":let d=this.fromUtf8(t.value),p=new DataView(new ArrayBuffer(3+d.byteLength));p.setUint8(0,7),p.setUint16(1,d.byteLength,!1);let f=new Uint8Array(p.buffer);return f.set(d,3),f;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(Va.fromNumber(t.value.valueOf()).bytes,1),m;case"uuid":if(!aZ.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(pp(t.value.replace(/\-/g,"")),1),h}}parse(t){let r={},n=0;for(;n<t.byteLength;){let s=t.getUint8(n++),i=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s));switch(n+=s,t.getUint8(n++)){case 0:r[i]={type:mN,value:!0};break;case 1:r[i]={type:mN,value:!1};break;case 2:r[i]={type:ZX,value:t.getInt8(n++)};break;case 3:r[i]={type:eZ,value:t.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:tZ,value:t.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:rZ,value:new Va(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let a=t.getUint16(n,!1);n+=2,r[i]={type:nZ,value:new Uint8Array(t.buffer,t.byteOffset+n,a)},n+=a;break;case 7:let d=t.getUint16(n,!1);n+=2,r[i]={type:sZ,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,d))},n+=d;break;case 8:r[i]={type:iZ,value:new Date(new Va(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let p=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[i]={type:oZ,value:`${Ge(p.subarray(0,4))}-${Ge(p.subarray(4,6))}-${Ge(p.subarray(6,8))}-${Ge(p.subarray(8,10))}-${Ge(p.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},fN;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(fN||(fN={}));var mN="boolean",ZX="byte",eZ="short",tZ="integer",rZ="long",nZ="binary",sZ="string",iZ="timestamp",oZ="uuid",aZ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;l();u();c();var hN=4,ai=hN*2,lo=4,cZ=ai+lo*2;function gN({byteLength:e,byteOffset:t,buffer:r}){if(e<cZ)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let i=n.getUint32(hN,!1),a=n.getUint32(ai,!1),d=n.getUint32(e-lo,!1),p=new Zi().update(new Uint8Array(r,t,ai));if(a!==p.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${p.digest()})`);if(p.update(new Uint8Array(r,t+ai,e-(ai+lo))),d!==p.digest())throw new Error(`The message checksum (${p.digest()}) did not match the expected value of ${d}`);return{headers:new DataView(r,t+ai+lo,i),body:new Uint8Array(r,t+ai+lo+i,s-i-(ai+lo+lo))}}o(gN,"splitMessage");var Kf=class{static{o(this,"EventStreamCodec")}headerMarshaller;messageBuffer;isEndOfStream;constructor(t,r){this.headerMarshaller=new Vf(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){let t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){let t=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),s=n.byteLength+r.byteLength+16,i=new Uint8Array(s),a=new DataView(i.buffer,i.byteOffset,i.byteLength),d=new Zi;return a.setUint32(0,s,!1),a.setUint32(4,n.byteLength,!1),a.setUint32(8,d.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),a.setUint32(s-4,d.update(i.subarray(8,s-4)).digest(),!1),i}decode(t){let{headers:r,body:n}=gN(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};l();u();c();var Gf=class{static{o(this,"MessageDecoderStream")}options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.decoder.decode(t)}};l();u();c();var Wf=class{static{o(this,"MessageEncoderStream")}options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}};l();u();c();var Yf=class{static{o(this,"SmithyMessageDecoderStream")}options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream){let r=await this.options.deserializer(t);r!==void 0&&(yield r)}}};l();u();c();var Qf=class{static{o(this,"SmithyMessageEncoderStream")}options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.serializer(t)}};l();u();c();function yN(e){let t=0,r=0,n=null,s=null,i=o(d=>{if(typeof d!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+d);t=d,r=4,n=new Uint8Array(d),new DataView(n.buffer).setUint32(0,d,!1)},"allocateMessage"),a=o(async function*(){let d=e[Symbol.asyncIterator]();for(;;){let{value:p,done:f}=await d.next();if(f){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let m=p.length,h=0;for(;h<m;){if(!n){let y=m-h;s||(s=new Uint8Array(4));let x=Math.min(4-r,y);if(s.set(p.slice(h,h+x),r),r+=x,h+=x,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}let g=Math.min(t-r,m-h);n.set(p.slice(h,h+g),r),r+=g,h+=g,t&&t===r&&(yield n,n=null,t=0,r=0)}}},"iterator");return{[Symbol.asyncIterator]:a}}o(yN,"getChunkedStream");l();u();c();function bN(e,t){return async function(r){let{value:n}=r.headers[":message-type"];if(n==="error"){let s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){let s=r.headers[":exception-type"].value,i={[s]:r},a=await e(i);if(a.$unknown){let d=new Error(t(r.body));throw d.name=s,d}throw a[s]}else if(n==="event"){let s={[r.headers[":event-type"].value]:r},i=await e(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}o(bN,"getMessageUnmarshaller");var Xf=class{static{o(this,"EventStreamMarshaller")}eventStreamCodec;utfEncoder;constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new Kf(t,r),this.utfEncoder=t}deserialize(t,r){let n=yN(t);return new Yf({messageStream:new Gf({inputStream:n,decoder:this.eventStreamCodec}),deserializer:bN(r,this.utfEncoder)})}serialize(t,r){return new Wf({messageStream:new Qf({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};l();u();c();var xN=o(e=>({[Symbol.asyncIterator]:async function*(){let t=e.getReader();try{for(;;){let{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}}),"readableStreamtoIterable"),vN=o(e=>{let t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(r){let{done:n,value:s}=await t.next();if(n)return r.close();r.enqueue(s)}})},"iterableToReadableStream");var Zf=class{static{o(this,"EventStreamMarshaller")}universalMarshaller;constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Xf({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=uZ(t)?xN(t):t;return this.universalMarshaller.deserialize(n,r)}serialize(t,r){let n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?vN(n):n}},uZ=o(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStream");l();u();c();var _N=o(e=>new Zf(e),"eventStreamSerdeProvider");l();u();c();l();u();c();async function SN(e,t,r=1024*1024){let n=e.size,s=0;for(;s<n;){let i=e.slice(s,Math.min(n,s+r));t(new Uint8Array(await i.arrayBuffer())),s+=i.size}}o(SN,"blobReader");var wN=o(async function(t,r){let n=new t;return await SN(r,s=>{n.update(s)}),n.digest()},"blobHasher");l();u();c();var EN=o(e=>()=>Promise.reject(e),"invalidProvider");l();u();c();Ur();l();u();c();var CN=[1732584193,4023233417,2562383102,271733878];var em=class{static{o(this,"Md5")}state;buffer;bufferLength;bytesHashed;finished;constructor(){this.reset()}update(t){if(dZ(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");let r=pZ(t),n=0,{byteLength:s}=r;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),s--,this.bufferLength===64&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){let{buffer:r,bufferLength:n,bytesHashed:s}=this,i=s*8;if(r.setUint8(this.bufferLength++,128),n%64>=56){for(let a=this.bufferLength;a<64;a++)r.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(let a=this.bufferLength;a<56;a++)r.setUint8(a,0);r.setUint32(56,i>>>0,!0),r.setUint32(60,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}let t=new DataView(new ArrayBuffer(16));for(let r=0;r<4;r++)t.setUint32(r*4,this.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){let{buffer:t,state:r}=this,n=r[0],s=r[1],i=r[2],a=r[3];n=Lt(n,s,i,a,t.getUint32(0,!0),7,3614090360),a=Lt(a,n,s,i,t.getUint32(4,!0),12,3905402710),i=Lt(i,a,n,s,t.getUint32(8,!0),17,606105819),s=Lt(s,i,a,n,t.getUint32(12,!0),22,3250441966),n=Lt(n,s,i,a,t.getUint32(16,!0),7,4118548399),a=Lt(a,n,s,i,t.getUint32(20,!0),12,1200080426),i=Lt(i,a,n,s,t.getUint32(24,!0),17,2821735955),s=Lt(s,i,a,n,t.getUint32(28,!0),22,4249261313),n=Lt(n,s,i,a,t.getUint32(32,!0),7,1770035416),a=Lt(a,n,s,i,t.getUint32(36,!0),12,2336552879),i=Lt(i,a,n,s,t.getUint32(40,!0),17,4294925233),s=Lt(s,i,a,n,t.getUint32(44,!0),22,2304563134),n=Lt(n,s,i,a,t.getUint32(48,!0),7,1804603682),a=Lt(a,n,s,i,t.getUint32(52,!0),12,4254626195),i=Lt(i,a,n,s,t.getUint32(56,!0),17,2792965006),s=Lt(s,i,a,n,t.getUint32(60,!0),22,1236535329),n=Ft(n,s,i,a,t.getUint32(4,!0),5,4129170786),a=Ft(a,n,s,i,t.getUint32(24,!0),9,3225465664),i=Ft(i,a,n,s,t.getUint32(44,!0),14,643717713),s=Ft(s,i,a,n,t.getUint32(0,!0),20,3921069994),n=Ft(n,s,i,a,t.getUint32(20,!0),5,3593408605),a=Ft(a,n,s,i,t.getUint32(40,!0),9,38016083),i=Ft(i,a,n,s,t.getUint32(60,!0),14,3634488961),s=Ft(s,i,a,n,t.getUint32(16,!0),20,3889429448),n=Ft(n,s,i,a,t.getUint32(36,!0),5,568446438),a=Ft(a,n,s,i,t.getUint32(56,!0),9,3275163606),i=Ft(i,a,n,s,t.getUint32(12,!0),14,4107603335),s=Ft(s,i,a,n,t.getUint32(32,!0),20,1163531501),n=Ft(n,s,i,a,t.getUint32(52,!0),5,2850285829),a=Ft(a,n,s,i,t.getUint32(8,!0),9,4243563512),i=Ft(i,a,n,s,t.getUint32(28,!0),14,1735328473),s=Ft(s,i,a,n,t.getUint32(48,!0),20,2368359562),n=jt(n,s,i,a,t.getUint32(20,!0),4,4294588738),a=jt(a,n,s,i,t.getUint32(32,!0),11,2272392833),i=jt(i,a,n,s,t.getUint32(44,!0),16,1839030562),s=jt(s,i,a,n,t.getUint32(56,!0),23,4259657740),n=jt(n,s,i,a,t.getUint32(4,!0),4,2763975236),a=jt(a,n,s,i,t.getUint32(16,!0),11,1272893353),i=jt(i,a,n,s,t.getUint32(28,!0),16,4139469664),s=jt(s,i,a,n,t.getUint32(40,!0),23,3200236656),n=jt(n,s,i,a,t.getUint32(52,!0),4,681279174),a=jt(a,n,s,i,t.getUint32(0,!0),11,3936430074),i=jt(i,a,n,s,t.getUint32(12,!0),16,3572445317),s=jt(s,i,a,n,t.getUint32(24,!0),23,76029189),n=jt(n,s,i,a,t.getUint32(36,!0),4,3654602809),a=jt(a,n,s,i,t.getUint32(48,!0),11,3873151461),i=jt(i,a,n,s,t.getUint32(60,!0),16,530742520),s=jt(s,i,a,n,t.getUint32(8,!0),23,3299628645),n=Ut(n,s,i,a,t.getUint32(0,!0),6,4096336452),a=Ut(a,n,s,i,t.getUint32(28,!0),10,1126891415),i=Ut(i,a,n,s,t.getUint32(56,!0),15,2878612391),s=Ut(s,i,a,n,t.getUint32(20,!0),21,4237533241),n=Ut(n,s,i,a,t.getUint32(48,!0),6,1700485571),a=Ut(a,n,s,i,t.getUint32(12,!0),10,2399980690),i=Ut(i,a,n,s,t.getUint32(40,!0),15,4293915773),s=Ut(s,i,a,n,t.getUint32(4,!0),21,2240044497),n=Ut(n,s,i,a,t.getUint32(32,!0),6,1873313359),a=Ut(a,n,s,i,t.getUint32(60,!0),10,4264355552),i=Ut(i,a,n,s,t.getUint32(24,!0),15,2734768916),s=Ut(s,i,a,n,t.getUint32(52,!0),21,1309151649),n=Ut(n,s,i,a,t.getUint32(16,!0),6,4149444226),a=Ut(a,n,s,i,t.getUint32(44,!0),10,3174756917),i=Ut(i,a,n,s,t.getUint32(8,!0),15,718787259),s=Ut(s,i,a,n,t.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=s+r[1]&4294967295,r[2]=i+r[2]&4294967295,r[3]=a+r[3]&4294967295}reset(){this.state=Uint32Array.from(CN),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}};function tm(e,t,r,n,s,i){return t=(t+e&4294967295)+(n+i&4294967295)&4294967295,(t<<s|t>>>32-s)+r&4294967295}o(tm,"cmn");function Lt(e,t,r,n,s,i,a){return tm(t&r|~t&n,e,t,s,i,a)}o(Lt,"ff");function Ft(e,t,r,n,s,i,a){return tm(t&n|r&~n,e,t,s,i,a)}o(Ft,"gg");function jt(e,t,r,n,s,i,a){return tm(t^r^n,e,t,s,i,a)}o(jt,"hh");function Ut(e,t,r,n,s,i,a){return tm(r^(t|~n),e,t,s,i,a)}o(Ut,"ii");function dZ(e){return typeof e=="string"?e.length===0:e.byteLength===0}o(dZ,"isEmptyData");function pZ(e){return typeof e=="string"?jr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}o(pZ,"convertToBuffer");l();u();c();Ur();var AN=o(e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??Oa,base64Encoder:e?.base64Encoder??Ys,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??af,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??cR,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??GB,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o(t=>t.getIdentityProvider("aws.auth#sigv4"),"identityProvider"),signer:new Vi},{schemeId:"aws.auth#sigv4a",identityProvider:o(t=>t.getIdentityProvider("aws.auth#sigv4a"),"identityProvider"),signer:new mu}],logger:e?.logger??new ei,sdkStreamMixin:e?.sdkStreamMixin??mR,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??ni,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??Ua,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??jr,utf8Encoder:e?.utf8Encoder??Ws}),"getRuntimeConfig");l();u();c();l();u();c();var TN=["in-region","cross-region","mobile","standard","legacy"];var ON=o(({defaultsMode:e}={})=>RR(async()=>{let t=typeof e=="function"?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve(fZ()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${TN.join(", ")}, got ${t}`)}}),"resolveDefaultsModeConfig"),fZ=o(()=>{let e=window?.navigator;if(e?.connection){let{effectiveType:t,rtt:r,downlink:n}=e?.connection;if(typeof t=="string"&&t!=="4g"||Number(r)>100||Number(n)<10)return!0}return e?.userAgentData?.mobile||typeof e?.maxTouchPoints=="number"&&e?.maxTouchPoints>1},"useMobileConfiguration");var kN=o(e=>{let t=ON(e),r=o(()=>t().then(oM),"defaultConfigProvider"),n=AN(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??rM,credentialDefaultProvider:e?.credentialDefaultProvider??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??dN({serviceId:n.serviceId,clientVersion:XD.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??_N,maxAttempts:e?.maxAttempts??so,md5:e?.md5??em,region:e?.region??EN("Region is missing"),requestHandler:lp.create(e?.requestHandler??r),retryMode:e?.retryMode??(async()=>(await r()).retryMode||lS),sha1:e?.sha1??tN,sha256:e?.sha256??cN,streamCollector:e?.streamCollector??dp,streamHasher:e?.streamHasher??wN,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve($P)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(JP))}},"getRuntimeConfig");l();u();c();l();u();c();l();u();c();var RN=o(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),MN=o(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration");l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();var PN=o(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(a=>a.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),IN=o(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig");var BN=o((e,t)=>{let r=Object.assign(RN(e),dM(e),H1(e),PN(e));return t.forEach(n=>n.configure(r)),Object.assign(e,MN(r),pM(r),z1(r),IN(r))},"resolveRuntimeExtensions");var rm=class extends Ep{static{o(this,"S3Client")}config;constructor(...[t]){let r=kN(t||{});super(r),this.initConfig=r;let n=YB(r),s=dP(n),i=UM(s),a=mI(i),d=WP(a),p=d,f=rI(p),m=YP(f),h=WB(m),g=oP(h,{session:[()=>this,$f]}),y=BN(g,t?.extensions||[]);this.config=y,this.middlewareStack.use(zP(this.config)),this.middlewareStack.use(gI(this.config)),this.middlewareStack.use(XP(this.config)),this.middlewareStack.use(qM(this.config)),this.middlewareStack.use(HM(this.config)),this.middlewareStack.use(JM(this.config)),this.middlewareStack.use(Y1(this.config,{httpAuthSchemeParametersProvider:JB,identityProviderConfigProvider:o(async x=>new gp({"aws.auth#sigv4":x.credentials,"aws.auth#sigv4a":x.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use(eR(this.config)),this.middlewareStack.use(lP(this.config)),this.middlewareStack.use($1(this.config)),this.middlewareStack.use(WM(this.config)),this.middlewareStack.use(eS(this.config)),this.middlewareStack.use(tS(this.config))}destroy(){super.destroy()}};l();u();c();function hZ(e){return t=>async r=>{let n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let i of s){let a=n[i.target];if(a){let d;typeof a=="string"?yZ(a,e)?d=e.base64Decoder(a):(d=e.utf8Decoder(a),n[i.target]=e.base64Encoder(d)):(d=ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a),n[i.target]=e.base64Encoder(d));let p=new e.md5;p.update(d),n[i.hash]=e.base64Encoder(await p.digest())}}return t({...r,input:n})}}o(hZ,"ssecMiddleware");var gZ={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},nm=o(e=>({applyToStack:o(t=>{t.add(hZ(e),gZ)},"applyToStack")}),"getSsecPlugin");function yZ(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}o(yZ,"isValidBase64EncodedSSECustomerKey");l();u();c();var sm=class extends qr.classBuilder().ep({...Yn,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[$n(n,this.serialize,this.deserialize),Kn(n,t.getEndpointParameterInstructions()),ri(n)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(yD).de(SD).build(){static{o(this,"DeleteObjectCommand")}};l();u();c();var im=class extends qr.classBuilder().ep({...Yn,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[$n(n,this.serialize,this.deserialize),Kn(n,t.getEndpointParameterInstructions()),Lp(n,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),nm(n),YM(n)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(eD,ZB).ser(bD).de(wD).build(){static{o(this,"GetObjectCommand")}};l();u();c();var om=class extends qr.classBuilder().ep({...Yn,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,s){return[$n(n,this.serialize,this.deserialize),Kn(n,t.getEndpointParameterInstructions()),ri(n)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(xD).de(ED).build(){static{o(this,"ListObjectsV2Command")}};l();u();c();var am=class extends qr.classBuilder().ep({...Yn,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[$n(n,this.serialize,this.deserialize),Kn(n,t.getEndpointParameterInstructions()),Lp(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),VM(n),ri(n),nm(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(nD,rD).ser(vD).de(CD).build(){static{o(this,"PutObjectCommand")}};l();u();c();l();u();c();l();u();c();function DN(e){let{port:t,query:r}=e,{protocol:n,path:s,hostname:i}=e;n&&n.slice(-1)!==":"&&(n+=":"),t&&(i+=`:${t}`),s&&s.charAt(0)!=="/"&&(s=`/${s}`);let a=r?up(r):"";a&&a[0]!=="?"&&(a=`?${a}`);let d="";if(e.username!=null||e.password!=null){let f=e.username??"",m=e.password??"";d=`${f}:${m}@`}let p="";return e.fragment&&(p=`#${e.fragment}`),`${n}//${d}${i}${s}${a}${p}`}o(DN,"formatUrl");l();u();c();l();u();c();var NN="UNSIGNED-PAYLOAD",LN="X-Amz-Content-Sha256";var el=class{static{o(this,"S3RequestPresigner")}signer;constructor(t){let r={service:t.signingName||t.service||"s3",uriEscapePath:t.uriEscapePath||!1,applyChecksum:t.applyChecksum||!1,...t};this.signer=new ni(r)}presign(t,{unsignableHeaders:r=new Set,hoistableHeaders:n=new Set,unhoistableHeaders:s=new Set,...i}={}){return this.prepareRequest(t,{unsignableHeaders:r,unhoistableHeaders:s,hoistableHeaders:n}),this.signer.presign(t,{expiresIn:900,unsignableHeaders:r,unhoistableHeaders:s,...i})}presignWithCredentials(t,r,{unsignableHeaders:n=new Set,hoistableHeaders:s=new Set,unhoistableHeaders:i=new Set,...a}={}){return this.prepareRequest(t,{unsignableHeaders:n,unhoistableHeaders:i,hoistableHeaders:s}),this.signer.presignWithCredentials(t,r,{expiresIn:900,unsignableHeaders:n,unhoistableHeaders:i,...a})}prepareRequest(t,{unsignableHeaders:r=new Set,unhoistableHeaders:n=new Set,hoistableHeaders:s=new Set}={}){r.add("content-type"),Object.keys(t.headers).map(p=>p.toLowerCase()).filter(p=>p.startsWith("x-amz-server-side-encryption")).forEach(p=>{s.has(p)||n.add(p)}),t.headers[LN]=NN;let i=t.headers.host,a=t.port,d=`${t.hostname}${t.port!=null?":"+a:""}`;(!i||i===t.hostname&&t.port!=null)&&(t.headers.host=d)}};var Bw=o(async(e,t,r={})=>{let n,s;if(typeof e.config.endpointProvider=="function"){let g=(await Gp(t.input,t.constructor,e.config)).properties?.authSchemes?.[0];g?.name==="sigv4a"?s=g?.signingRegionSet?.join(","):s=g?.signingRegion,n=new el({...e.config,signingName:g?.signingName,region:o(async()=>s,"region")})}else n=new el(e.config);let i=o((h,g)=>async y=>{let{request:x}=y;if(!he.isInstance(x))throw new Error("Request to be presigned is not an valid HTTP request.");delete x.headers["amz-sdk-invocation-id"],delete x.headers["amz-sdk-request"],delete x.headers["x-amz-user-agent"];let _,E={...r,signingRegion:r.signingRegion??g.signing_region??s,signingService:r.signingService??g.signing_service};return g.s3ExpressIdentity?_=await n.presignWithCredentials(x,g.s3ExpressIdentity,E):_=await n.presign(x,E),{response:{},output:{$metadata:{httpStatusCode:200},presigned:_}}},"presignInterceptMiddleware"),a="presignInterceptMiddleware",d=e.middlewareStack.clone();d.addRelativeTo(i,{name:a,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let p=t.resolveMiddleware(d,e.config,{}),{output:f}=await p({input:t.input}),{presigned:m}=f;return DN(m)},"getSignedUrl");var um=o(e=>!(!e.env.S3_ENDPOINT||!e.env.S3_ACCESS_KEY_ID||!e.env.S3_SECRET_ACCESS_KEY||!e.env.S3_BUCKET),"isS3Enabled"),cm=o(e=>{if(!e.env.S3_ENDPOINT||!e.env.S3_ACCESS_KEY_ID||!e.env.S3_SECRET_ACCESS_KEY||!e.env.S3_BUCKET)throw new Error("S3 config is not set");return new rm({region:"auto",endpoint:e.env.S3_ENDPOINT,credentials:{accessKeyId:e.env.S3_ACCESS_KEY_ID,secretAccessKey:e.env.S3_SECRET_ACCESS_KEY}})},"getS3Client"),tl={getSignedGetUrl:o(async e=>{let{address:t}=e.get("jwtPayload"),{key:r}=await e.req.json(),n=cm(e),s=await Bw(n,new im({Bucket:e.env.S3_BUCKET,Key:`${t}/${r}`}),{expiresIn:e.env.S3_URL_EXPIRES||360});return e.json({url:s})},"getSignedGetUrl"),getSignedPutUrl:o(async e=>{let{address:t}=e.get("jwtPayload"),{key:r}=await e.req.json(),n=cm(e),s=await Bw(n,new am({Bucket:e.env.S3_BUCKET,Key:`${t}/${r}`}),{expiresIn:e.env.S3_URL_EXPIRES||360});return e.json({url:s})},"getSignedPutUrl"),list:o(async e=>{let{address:t}=e.get("jwtPayload"),n=await cm(e).send(new om({Bucket:e.env.S3_BUCKET,Prefix:`${t}/`}));return e.json({results:n?.Contents?.map(s=>s.Key?.replace(`${t}/`,""))?.filter(s=>s)?.map(s=>({key:s}))})},"list"),deleteKey:o(async e=>{let{address:t}=e.get("jwtPayload"),{key:r}=await e.req.json();return await cm(e).send(new sm({Bucket:e.env.S3_BUCKET,Key:`${t}/${r}`})),e.json({success:!0})},"deleteKey")};var Dw=new tr;Dw.get("/open_api/settings",async e=>{let t=!1,r=V.getPasswords(e);if(r&&r.length>0){let n=e.req.raw.headers.get("x-custom-auth");t=!n||!r.includes(n)}return e.json({title:e.env.TITLE,announcement:V.getStringValue(e.env.ANNOUNCEMENT),alwaysShowAnnouncement:V.getBooleanValue(e.env.ALWAYS_SHOW_ANNOUNCEMENT),prefix:V.getStringValue(e.env.PREFIX),addressRegex:V.getStringValue(e.env.ADDRESS_REGEX),minAddressLen:V.getIntValue(e.env.MIN_ADDRESS_LEN,1),maxAddressLen:V.getIntValue(e.env.MAX_ADDRESS_LEN,30),defaultDomains:V.getDefaultDomains(e),domains:V.getDomains(e),domainLabels:V.getStringArray(e.env.DOMAIN_LABELS),needAuth:t,adminContact:e.env.ADMIN_CONTACT,enableUserCreateEmail:V.getBooleanValue(e.env.ENABLE_USER_CREATE_EMAIL),disableAnonymousUserCreateEmail:V.getBooleanValue(e.env.DISABLE_ANONYMOUS_USER_CREATE_EMAIL),disableCustomAddressName:V.getBooleanValue(e.env.DISABLE_CUSTOM_ADDRESS_NAME),enableUserDeleteEmail:V.getBooleanValue(e.env.ENABLE_USER_DELETE_EMAIL),enableAutoReply:V.getBooleanValue(e.env.ENABLE_AUTO_REPLY),enableIndexAbout:V.getBooleanValue(e.env.ENABLE_INDEX_ABOUT),copyright:e.env.COPYRIGHT,cfTurnstileSiteKey:e.env.CF_TURNSTILE_SITE_KEY,enableWebhook:V.getBooleanValue(e.env.ENABLE_WEBHOOK),isS3Enabled:um(e),version:R.VERSION,showGithub:!V.getBooleanValue(e.env.DISABLE_SHOW_GITHUB),disableAdminPasswordCheck:V.getBooleanValue(e.env.DISABLE_ADMIN_PASSWORD_CHECK),enableAddressPassword:V.getBooleanValue(e.env.ENABLE_ADDRESS_PASSWORD)})});l();u();c();l();u();c();l();u();c();var bZ={CustomAuthPasswordMsg:"\u4F60\u5DF2\u542F\u7528\u79C1\u6709\u7AD9\u70B9\u5BC6\u7801,\u8BF7\u63D0\u4F9B\u5BC6\u7801",UserTokenExpiredMsg:"\u60A8\u7684\u4EE4\u724C\u5DF2\u8FC7\u671F, \u8BF7\u91CD\u65B0\u767B\u5F55",UserAcceesTokenExpiredMsg:"\u60A8\u7684\u8BBF\u95EE\u4EE4\u724C\u5DF2\u8FC7\u671F, \u8BF7\u5237\u65B0\u9875\u9762",UserRoleIsNotAdminMsg:"\u60A8\u7684\u7528\u6237\u89D2\u8272\u4E0D\u662F\u7BA1\u7406\u5458, \u65E0\u6743\u8BBF\u95EE",NeedAdminPasswordMsg:"\u60A8\u9700\u8981\u63D0\u4F9B\u7BA1\u7406\u5458\u5BC6\u7801\u624D\u80FD\u8BBF\u95EE\u6B64\u9875\u9762",KVNotAvailableMsg:"KV \u4E0D\u53EF\u7528, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",DBNotAvailableMsg:"DB \u4E0D\u53EF\u7528, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",JWTSecretNotSetMsg:"JWT_SECRET \u672A\u8BBE\u7F6E, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",WebhookNotEnabledMsg:"Webhook \u672A\u542F\u7528, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",DomainsNotSetMsg:"\u57DF\u540D\u5217\u8868\u672A\u8BBE\u7F6E, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",TurnstileCheckFailedMsg:"\u4EBA\u673A\u9A8C\u8BC1\u68C0\u67E5\u5931\u8D25",NewAddressDisabledMsg:"\u65B0\u5EFA\u90AE\u7BB1\u5730\u5740\u5DF2\u7981\u7528, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",NewAddressAnonymousDisabledMsg:"\u533F\u540D\u7528\u6237\u65B0\u5EFA\u90AE\u7BB1\u5730\u5740\u5DF2\u7981\u7528, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",FailedCreateAddressMsg:"\u521B\u5EFA\u90AE\u7BB1\u5730\u5740\u5931\u8D25",InvalidAddressMsg:"\u65E0\u6548\u7684\u90AE\u7BB1\u5730\u5740",InvalidAddressCredentialMsg:"\u65E0\u6548\u7684\u90AE\u7BB1\u5730\u5740\u51ED\u636E",UserDeleteEmailDisabledMsg:"\u7528\u6237\u5220\u9664\u90AE\u7BB1/\u90AE\u4EF6\u5DF2\u7981\u7528, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",UserNotFoundMsg:"\u7528\u6237\u4E0D\u5B58\u5728",UserAlreadyExistsMsg:"\u7528\u6237\u5DF2\u5B58\u5728, \u8BF7\u767B\u5F55",FailedToRegisterMsg:"\u6CE8\u518C\u5931\u8D25",UserRegistrationDisabledMsg:"\u7528\u6237\u6CE8\u518C\u5DF2\u7981\u7528, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",UserMailDomainMustInMsg:"\u7528\u6237\u90AE\u7BB1\u57DF\u5FC5\u987B\u5728\u6B64\u5217\u8868\u4E2D",InvalidVerifyCodeMsg:"\u65E0\u6548\u7684\u9A8C\u8BC1\u7801",InvalidEmailOrPasswordMsg:"\u65E0\u6548\u7684\u90AE\u7BB1\u6216\u5BC6\u7801",VerifyMailSenderNotSetMsg:"\u9A8C\u8BC1\u90AE\u4EF6\u53D1\u9001\u90AE\u7BB1\u672A\u8BBE\u7F6E, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",CodeAlreadySentMsg:"\u9A8C\u8BC1\u7801\u5DF2\u53D1\u9001, \u8BF7\u7A0D\u7B49",InvalidUserDefaultRoleMsg:"\u65E0\u6548\u7684\u7528\u6237\u9ED8\u8BA4\u89D2\u8272, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",FailedUpdateUserDefaultRoleMsg:"\u66F4\u65B0\u7528\u6237\u9ED8\u8BA4\u89D2\u8272\u5931\u8D25, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",Oauth2ClientIDNotFoundMsg:"Oauth2 \u5BA2\u6237\u7AEF ID \u672A\u8BBE\u7F6E, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",Oauth2CliendIDOrCodeMissingMsg:"Oauth2 \u5BA2\u6237\u7AEF ID \u6216 code \u7F3A\u5931",Oauth2FailedGetUserInfoMsg:"\u4ECE Oauth2 \u63D0\u4F9B\u5546\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u5931\u8D25",Oauth2FailedGetAccessTokenMsg:"\u4ECE Oauth2 \u63D0\u4F9B\u5546\u83B7\u53D6\u8BBF\u95EE\u4EE4\u724C\u5931\u8D25",Oauth2FailedGetUserEmailMsg:"\u4ECE Oauth2 \u63D0\u4F9B\u5546\u83B7\u53D6\u7528\u6237\u90AE\u7BB1\u5931\u8D25",PasswordChangeDisabledMsg:"\u5BC6\u7801\u4FEE\u6539\u5DF2\u7981\u7528",NewPasswordRequiredMsg:"\u65B0\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",InvalidAddressTokenMsg:"\u65E0\u6548\u7684\u5730\u5740\u4EE4\u724C",FailedUpdatePasswordMsg:"\u66F4\u65B0\u5BC6\u7801\u5931\u8D25",PasswordLoginDisabledMsg:"\u5BC6\u7801\u767B\u5F55\u5DF2\u7981\u7528",EmailPasswordRequiredMsg:"\u90AE\u7BB1\u548C\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",AddressNotFoundMsg:"\u90AE\u7BB1\u5730\u5740\u4E0D\u5B58\u5728",OperationFailedMsg:"\u64CD\u4F5C\u5931\u8D25",RequiredFieldMsg:"\u7F3A\u5C11\u5FC5\u586B\u5B57\u6BB5",InvalidInputMsg:"\u8F93\u5165\u65E0\u6548",NameTooShortMsg:"\u540D\u79F0\u592A\u77ED",NameTooLongMsg:"\u540D\u79F0\u592A\u957F",InvalidDomainMsg:"\u65E0\u6548\u7684\u57DF\u540D",AddressAlreadyExistsMsg:"\u90AE\u7BB1\u5730\u5740\u5DF2\u5B58\u5728",MaxAddressCountReachedMsg:"\u5DF2\u8FBE\u5230\u6700\u5927\u5730\u5740\u6570\u91CF\u9650\u5236",AddressNotBindedMsg:"\u90AE\u7BB1\u5730\u5740\u672A\u7ED1\u5B9A",AddressAlreadyBindedMsg:"\u90AE\u7BB1\u5730\u5740\u5DF2\u7ED1\u5B9A, \u8BF7\u5148\u89E3\u7ED1",TargetUserNotFoundMsg:"\u76EE\u6807\u7528\u6237\u4E0D\u5B58\u5728",NoBalanceMsg:"\u4F59\u989D\u4E0D\u8DB3",AddressBlockedMsg:"\u5730\u5740\u5DF2\u88AB\u5C4F\u853D",SubjectEmptyMsg:"\u4E3B\u9898\u4E0D\u80FD\u4E3A\u7A7A",ContentEmptyMsg:"\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",AlreadyRequestedMsg:"\u5DF2\u7ECF\u7533\u8BF7\u8FC7\u4E86",EnableResendOrSmtpMsg:"\u8BF7\u5148\u4E3A\u6B64\u57DF\u540D\u542F\u7528 resend \u6216 smtp",EnableResendOrSmtpWithVerifiedMsg:"\u8BF7\u5148\u4E3A\u6B64\u57DF\u540D\u542F\u7528 resend \u6216 smtp\uFF0C\u6216\u5C06\u6536\u4EF6\u4EBA\u6DFB\u52A0\u5230\u5DF2\u9A8C\u8BC1\u5730\u5740\u5217\u8868",InvalidToMailMsg:"\u6536\u4EF6\u4EBA\u5730\u5740\u65E0\u6548",InvalidAddressIdMsg:"\u65E0\u6548\u7684 address_id",EnableKVMsg:"\u8BF7\u5148\u542F\u7528 KV",EnableSendMailMsg:"\u8BF7\u5148\u542F\u7528 SEND_MAIL",InvalidCleanupConfigMsg:"\u65E0\u6548\u7684 cleanType \u6216 cleanDays",InvalidCleanTypeMsg:"\u65E0\u6548\u7684 cleanType",EnableKVForMailVerifyMsg:"\u5982\u679C\u8981\u542F\u7528\u90AE\u4EF6\u9A8C\u8BC1\uFF0C\u8BF7\u5148\u542F\u7528 KV",VerifyMailDomainInvalidMsg:"\u9A8C\u8BC1\u90AE\u4EF6\u53D1\u9001\u8005\u57DF\u540D\u5FC5\u987B\u5728",InvalidMaxAddressCountMsg:"\u65E0\u6548\u7684 maxAddressCount",FailedDeleteUserMsg:"\u5220\u9664\u7528\u6237\u5931\u8D25",InvalidUserIdMsg:"\u65E0\u6548\u7684 user_id",InvalidRoleTextMsg:"\u65E0\u6548\u7684 role_text",SqlEmptyMsg:"SQL \u8BED\u53E5\u4E3A\u7A7A",SqlTooLongMsg:"SQL \u8BED\u53E5\u8FC7\u957F (\u6700\u5927 1000 \u5B57\u7B26)",SqlOnlyDeleteMsg:"\u53EA\u5141\u8BB8 DELETE \u8BED\u53E5",SqlSingleStatementMsg:"\u53EA\u5141\u8BB8\u5355\u6761 SQL \u8BED\u53E5",SqlNoCommentsMsg:"\u4E0D\u5141\u8BB8 SQL \u6CE8\u91CA",InvalidPasskeyNameMsg:"\u65E0\u6548\u7684 passkey \u540D\u79F0",PasskeyNotFoundMsg:"Passkey \u4E0D\u5B58\u5728",AuthenticationFailedMsg:"\u8BA4\u8BC1\u5931\u8D25",RegistrationFailedMsg:"\u6CE8\u518C\u5931\u8D25",AutoReplyDisabledMsg:"\u81EA\u52A8\u56DE\u590D\u5DF2\u7981\u7528",InvalidAutoReplyMsg:"\u65E0\u6548\u7684\u4E3B\u9898\u6216\u6D88\u606F",SubjectOrMessageTooLongMsg:"\u4E3B\u9898\u6216\u6D88\u606F\u592A\u957F",NoAddressOrUserTokenMsg:"\u7F3A\u5C11\u5730\u5740\u6216\u7528\u6237\u4EE4\u724C",InvalidAddressOrUserTokenMsg:"\u65E0\u6548\u7684\u5730\u5740\u6216\u7528\u6237\u4EE4\u724C",InvalidLimitMsg:"\u65E0\u6548\u7684 limit \u53C2\u6570",InvalidOffsetMsg:"\u65E0\u6548\u7684 offset \u53C2\u6570",FailedClearInboxMsg:"\u6E05\u7A7A\u6536\u4EF6\u7BB1\u5931\u8D25",FailedClearSentItemsMsg:"\u6E05\u7A7A\u5DF2\u53D1\u9001\u90AE\u4EF6\u5931\u8D25",WebhookNotAllowedForUserMsg:"\u6B64\u7528\u6237\u4E0D\u5141\u8BB8\u4F7F\u7528 Webhook \u8BBE\u7F6E",InvalidIpBlacklistSettingMsg:"\u65E0\u6548\u7684 IP \u9ED1\u540D\u5355\u8BBE\u7F6E",BlacklistExceedsMaxSizeMsg:"\u9ED1\u540D\u5355\u8D85\u51FA\u6700\u5927\u6761\u76EE\u9650\u5236",TgUnableGetUserInfoMsg:"\u65E0\u6CD5\u83B7\u53D6\u7528\u6237\u4FE1\u606F",TgNoPermissionMsg:"\u60A8\u6CA1\u6709\u6743\u9650\u4F7F\u7528\u6B64\u673A\u5668\u4EBA",TgWelcomeMsg:"\u6B22\u8FCE\u4F7F\u7528\u672C\u673A\u5668\u4EBA, \u60A8\u53EF\u4EE5\u6253\u5F00 mini app",TgCurrentPrefixMsg:"\u5F53\u524D\u5DF2\u542F\u7528\u524D\u7F00:",TgCurrentDomainsMsg:"\u5F53\u524D\u53EF\u7528\u57DF\u540D:",TgAvailableCommandsMsg:"\u8BF7\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4:",TgCreateSuccessMsg:"\u521B\u5EFA\u5730\u5740\u6210\u529F:",TgCreateFailedMsg:"\u521B\u5EFA\u5730\u5740\u5931\u8D25:",TgBindSuccessMsg:"\u7ED1\u5B9A\u6210\u529F:",TgBindFailedMsg:"\u7ED1\u5B9A\u5931\u8D25:",TgUnbindSuccessMsg:"\u89E3\u7ED1\u6210\u529F:",TgUnbindFailedMsg:"\u89E3\u7ED1\u5931\u8D25:",TgDeleteSuccessMsg:"\u5220\u9664\u6210\u529F:",TgDeleteFailedMsg:"\u5220\u9664\u5931\u8D25:",TgAddressListMsg:"\u5730\u5740\u5217\u8868:",TgGetAddressFailedMsg:"\u83B7\u53D6\u5730\u5740\u5217\u8868\u5931\u8D25:",TgCleanSuccessMsg:"\u6E05\u7406\u65E0\u6548\u5730\u5740\u6210\u529F:",TgCurrentAddressListMsg:"\u5F53\u524D\u5730\u5740\u5217\u8868:",TgCleanFailedMsg:"\u6E05\u7406\u65E0\u6548\u5730\u5740\u5931\u8D25:",TgNotBoundAddressMsg:"\u672A\u7ED1\u5B9A\u6B64\u5730\u5740:",TgInvalidAddressMsg:"\u65E0\u6548\u5730\u5740",TgNoMoreMailsMsg:"\u5DF2\u7ECF\u6CA1\u6709\u90AE\u4EF6\u4E86",TgNoMailMsg:"\u65E0\u90AE\u4EF6",TgGetMailFailedMsg:"\u83B7\u53D6\u90AE\u4EF6\u5931\u8D25:",TgParseMailFailedMsg:"\u89E3\u6790\u90AE\u4EF6\u5931\u8D25:",TgViewMailBtnMsg:"\u67E5\u770B\u90AE\u4EF6",TgPrevBtnMsg:"\u4E0A\u4E00\u6761",TgNextBtnMsg:"\u4E0B\u4E00\u6761",TgPleaseInputCredentialMsg:"\u8BF7\u8F93\u5165\u51ED\u8BC1",TgPleaseInputAddressMsg:"\u8BF7\u8F93\u5165\u5730\u5740",TgAddressMsg:"\u5730\u5740:",TgPasswordMsg:"\u5BC6\u7801:",TgCredentialMsg:"\u51ED\u8BC1:",TgNoSenderMsg:"\u65E0\u53D1\u4EF6\u4EBA",TgMsgTooLongMsg:"\u6D88\u606F\u8FC7\u957F\u8BF7\u5230 mini app \u67E5\u770B",TgParseFailedViewInAppMsg:"\u89E3\u6790\u5931\u8D25\uFF0C\u8BF7\u6253\u5F00 mini app \u67E5\u770B",TgMaxAddressReachedMsg:"\u7ED1\u5B9A\u5730\u5740\u6570\u91CF\u5DF2\u8FBE\u4E0A\u9650",TgMaxAddressReachedCleanMsg:"\u7ED1\u5B9A\u5730\u5740\u6570\u91CF\u5DF2\u8FBE\u4E0A\u9650, \u8BF7\u5148 /cleaninvalidaddress",TgInvalidCredentialMsg:"\u65E0\u6548\u51ED\u8BC1",TgAddressNotYoursMsg:"\u6B64\u5730\u5740\u4E0D\u5C5E\u4E8E\u60A8",TgLangSetSuccessMsg:"\u8BED\u8A00\u8BBE\u7F6E\u6210\u529F:",TgCurrentLangMsg:"\u5F53\u524D\u8BED\u8A00:",TgSelectLangMsg:"\u8BF7\u9009\u62E9\u8BED\u8A00:",TgNoPermissionViewMailMsg:"\u65E0\u6743\u67E5\u770B\u6B64\u90AE\u4EF6",TgBotTokenRequiredMsg:"\u9700\u8981\u8BBE\u7F6E TELEGRAM_BOT_TOKEN",TgLangFeatureDisabledMsg:"\u8BED\u8A00\u8BBE\u7F6E\u529F\u80FD\u5DF2\u7981\u7528\uFF0C\u4F7F\u7528\u7CFB\u7EDF\u9ED8\u8BA4\u8BED\u8A00"},Nw=bZ;l();u();c();var xZ={CustomAuthPasswordMsg:"You have enabled the private site password, please provide the password",UserTokenExpiredMsg:"Your token has expired, please login again",UserAcceesTokenExpiredMsg:"Your access token has expired, please refresh the page",UserRoleIsNotAdminMsg:"Your user role is not admin, no access to visit this page",NeedAdminPasswordMsg:"You need to provide the admin password to access this page",KVNotAvailableMsg:"KV is not available, please contact the administrator",DBNotAvailableMsg:"DB is not available, please contact the administrator",JWTSecretNotSetMsg:"JWT_SECRET is not set, please contact the administrator",WebhookNotEnabledMsg:"Webhook is not enabled, please contact the administrator",DomainsNotSetMsg:"Domains are not set, please contact the administrator",TurnstileCheckFailedMsg:"Human verification check failed",NewAddressDisabledMsg:"New address is disabled, please contact the administrator",NewAddressAnonymousDisabledMsg:"New address for anonymous user is disabled, please contact the administrator",FailedCreateAddressMsg:"Failed to create address",InvalidAddressMsg:"Invalid address",InvalidAddressCredentialMsg:"Invalid address credential",UserDeleteEmailDisabledMsg:"User delete address/email is disabled, please contact the administrator",UserNotFoundMsg:"User not found",UserAlreadyExistsMsg:"User already exists, please login",FailedToRegisterMsg:"Failed to register",UserRegistrationDisabledMsg:"User registration is disabled, please contact the administrator",UserMailDomainMustInMsg:"User mail domain must be in this list",InvalidVerifyCodeMsg:"Invalid verify code",InvalidEmailOrPasswordMsg:"Invalid email or password",VerifyMailSenderNotSetMsg:"Verify mail sender address is not set, please contact the administrator",CodeAlreadySentMsg:"Code already sent, please wait",InvalidUserDefaultRoleMsg:"Invalid user default role, please contact the administrator",FailedUpdateUserDefaultRoleMsg:"Failed to update user default role, please contact the administrator",Oauth2ClientIDNotFoundMsg:"Oauth2 client ID is not set, please contact the administrator",Oauth2CliendIDOrCodeMissingMsg:"Oauth2 client ID or code is missing",Oauth2FailedGetUserInfoMsg:"Failed to get user info from Oauth2 provider",Oauth2FailedGetAccessTokenMsg:"Failed to get access token from Oauth2 provider",Oauth2FailedGetUserEmailMsg:"Failed to get user email from Oauth2 provider",PasswordChangeDisabledMsg:"Password change is disabled",NewPasswordRequiredMsg:"New password is required",InvalidAddressTokenMsg:"Invalid address token",FailedUpdatePasswordMsg:"Failed to update password",PasswordLoginDisabledMsg:"Password login is disabled",EmailPasswordRequiredMsg:"Email and password are required",AddressNotFoundMsg:"Address not found",OperationFailedMsg:"Operation failed",RequiredFieldMsg:"Required field is missing",InvalidInputMsg:"Invalid input",NameTooShortMsg:"Name is too short",NameTooLongMsg:"Name is too long",InvalidDomainMsg:"Invalid domain",AddressAlreadyExistsMsg:"Address already exists",MaxAddressCountReachedMsg:"Max address count reached",AddressNotBindedMsg:"Address is not binded",AddressAlreadyBindedMsg:"Address is already binded, please unbind first",TargetUserNotFoundMsg:"Target user not found",NoBalanceMsg:"No balance",AddressBlockedMsg:"Address is blocked",SubjectEmptyMsg:"Subject is empty",ContentEmptyMsg:"Content is empty",AlreadyRequestedMsg:"Already requested",EnableResendOrSmtpMsg:"Please enable resend or smtp for this domain",EnableResendOrSmtpWithVerifiedMsg:"Please enable resend or smtp for this domain, or add recipient to verified address list",InvalidToMailMsg:"Invalid recipient address",InvalidAddressIdMsg:"Invalid address_id",EnableKVMsg:"Please enable KV first",EnableSendMailMsg:"Please enable SEND_MAIL first",InvalidCleanupConfigMsg:"Invalid cleanType or cleanDays",InvalidCleanTypeMsg:"Invalid cleanType",EnableKVForMailVerifyMsg:"Please enable KV first if you want to enable mail verify",VerifyMailDomainInvalidMsg:"VerifyMailSender domain must be in",InvalidMaxAddressCountMsg:"Invalid maxAddressCount",FailedDeleteUserMsg:"Failed to delete user",InvalidUserIdMsg:"Invalid user_id",InvalidRoleTextMsg:"Invalid role_text",SqlEmptyMsg:"SQL statement is empty",SqlTooLongMsg:"SQL statement is too long (max 1000 characters)",SqlOnlyDeleteMsg:"Only DELETE statements are allowed",SqlSingleStatementMsg:"Only single SQL statement is allowed",SqlNoCommentsMsg:"SQL comments are not allowed",InvalidPasskeyNameMsg:"Invalid passkey name",PasskeyNotFoundMsg:"Passkey not found",AuthenticationFailedMsg:"Authentication failed",RegistrationFailedMsg:"Registration failed",AutoReplyDisabledMsg:"Auto reply is disabled",InvalidAutoReplyMsg:"Invalid subject or message",SubjectOrMessageTooLongMsg:"Subject or message is too long",NoAddressOrUserTokenMsg:"No address or user token",InvalidAddressOrUserTokenMsg:"Invalid address or user token",InvalidLimitMsg:"Invalid limit",InvalidOffsetMsg:"Invalid offset",FailedClearInboxMsg:"Failed to clear inbox",FailedClearSentItemsMsg:"Failed to clear sent items",WebhookNotAllowedForUserMsg:"Webhook settings is not allowed for this user",InvalidIpBlacklistSettingMsg:"Invalid IP blacklist setting",BlacklistExceedsMaxSizeMsg:"Blacklist exceeds maximum size",TgUnableGetUserInfoMsg:"Unable to get user info",TgNoPermissionMsg:"You don't have permission to use this bot",TgWelcomeMsg:"Welcome! You can open the mini app",TgCurrentPrefixMsg:"Current prefix enabled:",TgCurrentDomainsMsg:"Available domains:",TgAvailableCommandsMsg:"Available commands:",TgCreateSuccessMsg:"Address created successfully:",TgCreateFailedMsg:"Failed to create address:",TgBindSuccessMsg:"Binding successful:",TgBindFailedMsg:"Binding failed:",TgUnbindSuccessMsg:"Unbinding successful:",TgUnbindFailedMsg:"Unbinding failed:",TgDeleteSuccessMsg:"Deleted successfully:",TgDeleteFailedMsg:"Delete failed:",TgAddressListMsg:"Address list:",TgGetAddressFailedMsg:"Failed to get address list:",TgCleanSuccessMsg:"Invalid addresses cleaned:",TgCurrentAddressListMsg:"Current address list:",TgCleanFailedMsg:"Failed to clean invalid addresses:",TgNotBoundAddressMsg:"This address is not bound:",TgInvalidAddressMsg:"Invalid address",TgNoMoreMailsMsg:"No more mails",TgNoMailMsg:"No mail",TgGetMailFailedMsg:"Failed to get mail:",TgParseMailFailedMsg:"Failed to parse mail:",TgViewMailBtnMsg:"View Mail",TgPrevBtnMsg:"Prev",TgNextBtnMsg:"Next",TgPleaseInputCredentialMsg:"Please enter credential",TgPleaseInputAddressMsg:"Please enter address",TgAddressMsg:"Address:",TgPasswordMsg:"Password:",TgCredentialMsg:"Credential:",TgNoSenderMsg:"No sender",TgMsgTooLongMsg:"Message too long, please view in mini app",TgParseFailedViewInAppMsg:"Parse failed, please view in mini app",TgMaxAddressReachedMsg:"Maximum address limit reached",TgMaxAddressReachedCleanMsg:"Maximum address limit reached, please /cleaninvalidaddress first",TgInvalidCredentialMsg:"Invalid credential",TgAddressNotYoursMsg:"This address does not belong to you",TgLangSetSuccessMsg:"Language set successfully:",TgCurrentLangMsg:"Current language:",TgSelectLangMsg:"Please select language:",TgNoPermissionViewMailMsg:"No permission to view this mail",TgBotTokenRequiredMsg:"TELEGRAM_BOT_TOKEN is required",TgLangFeatureDisabledMsg:"Language setting feature is disabled. System default language is used."},rl=xZ;var j={getMessages:o(e=>e==="en"?rl:e==="zh"?Nw:rl,"getMessages"),getMessagesbyContext:o(e=>{let t=e?.get?.("lang")||e.env?.DEFAULT_LANG;return t==="en"?rl:t==="zh"?Nw:rl},"getMessagesbyContext")};l();u();c();l();u();c();var lm=o(async(e,t,r,n)=>{if(e.env.RATE_LIMITER){let{success:y}=await e.env.RATE_LIMITER.limit({key:`${R.TG_KV_PREFIX}:${t}`});if(!y)throw Error("Rate limit exceeded")}let s=ae(e.env.DISABLE_CUSTOM_ADDRESS_NAME),i=r?r.trim():"",[a,d]=i.includes("@")?i.split("@"):[i,null],p=await e.env.KV.get(`${R.TG_KV_PREFIX}:${t}`,"json")||[];if(p.length>=Cn(e.env.TG_MAX_ADDRESS,5))throw Error(n.TgMaxAddressReachedMsg);let f=!a||s?fm(e):a;if((await Q(e,R.ADDRESS_BLOCK_LIST_KEY)||[]).some(y=>f.includes(y)))throw Error(`Name[${f}]is blocked`);let g=await Ka(e,{name:f,domain:d,enablePrefix:!0,sourceMeta:`tg:${t}`});return await e.env.KV.put(`${R.TG_KV_PREFIX}:${t}`,JSON.stringify([...p,g.jwt])),await e.env.KV.put(`${R.TG_KV_PREFIX}:${g.address}`,t.toString()),g},"tgUserNewAddress"),ws=o(async(e,t,r)=>{let n=[],s={},i=[];for(let a of t)try{let{address:d,address_id:p}=await le.verify(a,e.env.JWT_SECRET,"HS256");if(!await e.env.DB.prepare("SELECT name FROM address WHERE id = ? ").bind(p).first("name")){n.push(r.TgInvalidAddressMsg),i.push(a);continue}n.push(d),s[d]=p}catch(d){n.push(r.TgInvalidCredentialMsg),i.push(a),console.log(`Failed to get address list: ${d.message}`)}return{addressList:n,addressIdMap:s,invalidJwtList:i}},"jwtListToAddressData"),dm=o(async(e,t,r,n)=>{let{address:s}=await le.verify(r,e.env.JWT_SECRET,"HS256");if(!s)throw Error(n.TgInvalidCredentialMsg);let i=await e.env.KV.get(`${R.TG_KV_PREFIX}:${t}`,"json")||[],{addressIdMap:a}=await ws(e,i,n);if(s in a)return s;if(i.length>=Cn(e.env.TG_MAX_ADDRESS,5))throw Error(n.TgMaxAddressReachedCleanMsg);return await e.env.KV.put(`${R.TG_KV_PREFIX}:${t}`,JSON.stringify([...i,r])),await e.env.KV.put(`${R.TG_KV_PREFIX}:${s}`,t.toString()),s},"bindTelegramAddress"),nl=o(async(e,t,r)=>{let n=await e.env.KV.get(`${R.TG_KV_PREFIX}:${t}`,"json")||[],s=[];for(let i of n){try{let{address:a}=await le.verify(i,e.env.JWT_SECRET,"HS256");if(a==r)continue}catch(a){console.log(`\u89E3\u7ED1\u5931\u8D25: ${a.message}`)}s.push(i)}return await e.env.KV.put(`${R.TG_KV_PREFIX}:${t}`,JSON.stringify(s)),await e.env.KV.delete(`${R.TG_KV_PREFIX}:${r}`),!0},"unbindTelegramAddress"),pm=o(async(e,t)=>{if(!e.env.KV)return!0;let r=await e.env.KV.get(`${R.TG_KV_PREFIX}:${t}`);return r?await nl(e,r,t):!0},"unbindTelegramByAddress"),FN=o(async(e,t,r,n)=>{let s=await e.env.KV.get(`${R.TG_KV_PREFIX}:${t}`,"json")||[],{addressIdMap:i}=await ws(e,s,n);if(!(r in i))throw Error(n.TgAddressNotYoursMsg);return await mm(e,null,i[r]),!0},"deleteTelegramAddress");var s3=/[^a-z0-9]/g,fm=o(e=>{let t=Math.max(Cn(e.env.MIN_ADDRESS_LEN,1),1),r=Math.max(Cn(e.env.MAX_ADDRESS_LEN,30),1),n=o((i="")=>i.length>=t?i:n(i+Math.random().toString(36).substring(2,15)),"buildName"),s=n();return s.substring(0,Math.min(s.length,r))},"generateRandomName"),PZ=o((e,t)=>{let r=null;try{let n=hr(e.env.ADDRESS_CHECK_REGEX);if(!n)return;new RegExp(n).test(t)||(r=new Error(`Name not match regex: /${n}/`))}catch(n){console.error("Failed to check address regex",n)}if(r)throw r},"checkNameRegex"),IZ=o(e=>{try{let t=hr(e.env.ADDRESS_REGEX);return t?new RegExp(t,"g"):s3}catch(t){console.error("Failed to get address regex",t)}return s3},"getNameRegex");async function mo(e,t){if(t)try{await e.env.DB.prepare("UPDATE address SET updated_at = datetime('now') where name = ?").bind(t).run()}catch(r){console.warn("Failed to update address updated_at",r)}}o(mo,"updateAddressUpdatedAt");var BZ=o(()=>{let e="abcdefghijklmnopqrstuvwxyz0123456789",t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},"generateRandomPassword"),DZ=o(async(e,t)=>{if(!ae(e.env.ENABLE_ADDRESS_PASSWORD))return null;let r=BZ(),n=await sp(r),{success:s}=await e.env.DB.prepare("UPDATE address SET password = ?, updated_at = datetime('now') WHERE name = ?").bind(n,t).run();return s?r:(console.warn("Failed to set generated password for address:",t),null)},"generatePasswordForAddress"),Ka=o(async(e,{name:t,domain:r,enablePrefix:n,checkLengthByConfig:s=!0,addressPrefix:i=null,checkAllowDomains:a=!0,enableCheckNameRegex:d=!0,sourceMeta:p=null})=>{let f=j.getMessagesbyContext(e);t=t.trim().replace(IZ(e),""),d&&(await NZ(e,t),PZ(e,t));let m=Math.max(s?Cn(e.env.MIN_ADDRESS_LEN,1):1,1),h=Math.max(s?Cn(e.env.MAX_ADDRESS_LEN,30):30,1);if(t.length<m)throw new Error(`${f.NameTooShortMsg} (min ${m})`);if(t.length>h)throw new Error(`${f.NameTooLongMsg} (max ${h})`);typeof i=="string"?t=i.trim()+t:n&&(t=hr(e.env.PREFIX).trim()+t);let g=a?await LZ(e):En(e);if(!r&&g.length>0&&(ae(e.env.CREATE_ADDRESS_DEFAULT_DOMAIN_FIRST)?r=g[0]:r=g[Math.floor(Math.random()*g.length)]),!r||!g.includes(r))throw new Error(f.InvalidDomainMsg);t=t+"@"+r;try{if(!(await e.env.DB.prepare("INSERT INTO address(name, source_meta) VALUES(?, ?)").bind(t,p).run()).success)throw new Error(f.FailedCreateAddressMsg);await mo(e,t)}catch(E){let T=E.message;if(T&&T.includes("source_meta")){if(!(await e.env.DB.prepare("INSERT INTO address(name) VALUES(?)").bind(t).run()).success)throw new Error(f.FailedCreateAddressMsg);await mo(e,t)}else throw T&&T.includes("UNIQUE")?new Error(f.AddressAlreadyExistsMsg):new Error(f.FailedCreateAddressMsg)}let y=await e.env.DB.prepare("SELECT id FROM address where name = ?").bind(t).first("id"),x=await DZ(e,t);return{jwt:await le.sign({address:t,address_id:y},e.env.JWT_SECRET,"HS256"),address:t,password:x}},"newAddress"),NZ=o(async(e,t)=>{let r=[];try{let n=await Q(e,R.ADDRESS_BLOCK_LIST_KEY);r.push(...n||[])}catch(n){console.error(n)}if(r.some(n=>t.includes(n)))throw new Error(`Name[${t}]is blocked`)},"checkNameBlockList"),Qn=o(async(e,t,r)=>{let n=j.getMessagesbyContext(e);if(!t||typeof r!="number"||r<0||r>1e3)throw new Error(n.InvalidCleanupConfigMsg);switch(console.log(`Cleanup ${t} before ${r} days`),t){case"inactiveAddress":await ym(e,`updated_at < datetime('now', '-${r} day')`);break;case"addressCreated":await ym(e,`created_at < datetime('now', '-${r} day')`);break;case"unboundAddress":await ym(e,`id NOT IN (SELECT address_id FROM users_address) AND created_at < datetime('now', '-${r} day')`);break;case"mails":await e.env.DB.prepare(`
                DELETE FROM raw_mails WHERE created_at < datetime('now', '-${r} day')`).run();break;case"mails_unknow":await e.env.DB.prepare(`
                DELETE FROM raw_mails WHERE address NOT IN
                (select name from address) AND created_at < datetime('now', '-${r} day')`).run();break;case"sendbox":await e.env.DB.prepare(`
                DELETE FROM sendbox WHERE created_at < datetime('now', '-${r} day')`).run();break;case"emptyAddress":await ym(e,`name NOT IN (SELECT DISTINCT address FROM raw_mails WHERE address IS NOT NULL) AND created_at < datetime('now', '-${r} day')`);break;default:throw new Error(n.InvalidCleanTypeMsg)}return!0},"cleanup"),ym=o(async(e,t)=>(await e.env.DB.prepare(`DELETE FROM raw_mails WHERE address IN ( SELECT name FROM address WHERE ${t})`).run(),await e.env.DB.prepare(`DELETE FROM sendbox WHERE address IN ( SELECT name FROM address WHERE ${t})`).run(),await e.env.DB.prepare(`DELETE FROM auto_reply_mails WHERE address IN ( SELECT name FROM address WHERE ${t})`).run(),await e.env.DB.prepare(`DELETE FROM address_sender WHERE address IN ( SELECT name FROM address WHERE ${t})`).run(),await e.env.DB.prepare(`DELETE FROM users_address WHERE address_id IN ( SELECT id FROM address WHERE ${t})`).run(),await e.env.DB.prepare(`
        DELETE FROM address WHERE ${t}`).run(),!0),"batchDeleteAddressWithData"),mm=o(async(e,t,r)=>{let n=j.getMessagesbyContext(e);if(!ae(e.env.ENABLE_USER_DELETE_EMAIL))throw new Error(n.UserDeleteEmailDisabledMsg);if(!t&&!r)throw new Error(n.RequiredFieldMsg);if(r?t||(t=await e.env.DB.prepare("SELECT name FROM address where id = ?").bind(r).first("name")):r=await e.env.DB.prepare("SELECT id FROM address where name = ?").bind(t).first("id"),!t||!r)throw new Error(n.AddressNotFoundMsg);await pm(e,t);let{success:s}=await e.env.DB.prepare("DELETE FROM raw_mails WHERE address = ? ").bind(t).run(),{success:i}=await e.env.DB.prepare("DELETE FROM address_sender WHERE address = ? ").bind(t).run(),{success:a}=await e.env.DB.prepare("DELETE FROM sendbox WHERE address = ? ").bind(t).run(),{success:d}=await e.env.DB.prepare("DELETE FROM users_address WHERE address_id = ? ").bind(r).run(),{success:p}=await e.env.DB.prepare("DELETE FROM auto_reply_mails WHERE address = ? ").bind(t).run(),{success:f}=await e.env.DB.prepare("DELETE FROM address WHERE name = ? ").bind(t).run();if(!f||!s||!a||!d||!i||!p)throw new Error(n.OperationFailedMsg);return!0},"deleteAddressWithData"),mt=o(async(e,t,r,n,s,i)=>{let a=j.getMessagesbyContext(e);if(typeof s=="string"&&(s=parseInt(s)),typeof i=="string"&&(i=parseInt(i)),!s||s<0||s>100)return e.text(a.InvalidLimitMsg,400);if(i==null||i==null||i<0)return e.text(a.InvalidOffsetMsg,400);let d=`${t} order by id desc limit ? offset ?`,{results:p}=await e.env.DB.prepare(d).bind(...n,s,i).all(),f=i==0?await e.env.DB.prepare(r).bind(...n).first("count"):0;return e.json({results:p,count:f})},"handleListQuery"),cr=o(async e=>{if(!e||!e.rawEmail)return;if(e.parsedEmail)return e.parsedEmail;let t=e.rawEmail;try{let{default:r}=await Promise.resolve().then(()=>(n3(),r3)),n=await r.parse(t);return e.parsedEmail={sender:n.from?`${n.from.name} <${n.from.address}>`:"",subject:n.subject||"",text:n.text||"",html:n.html||"",headers:n.headers||[]},e.parsedEmail}catch(r){console.error("Failed use PostalMime to parse email",r)}},"commonParseMail"),Ya=o(async(e,t)=>{let r=An(e),n=await e.env.DB.prepare("SELECT role_text FROM user_roles where user_id = ?").bind(t).first("role_text");return n?r.find(s=>s.role===n):null},"commonGetUserRole"),i3=o(async e=>{let t=e.get("userPayload");if(!t)return hr(e.env.PREFIX);let r=await Ya(e,t.user_id);return typeof r?.prefix=="string"?r.prefix:hr(e.env.PREFIX)},"getAddressPrefix"),LZ=o(async e=>{let t=e.get("userPayload");return t?(await Ya(e,t.user_id))?.domains||np(e):np(e)},"getAllowDomains");async function ll(e,t){let r=e.body;for(let s of Object.keys(t))r=r.replace(new RegExp(`\\$\\{${s}\\}`,"g"),JSON.stringify(t[s]).replace(/^"(.*)"$/,"$1"));let n=await fetch(e.url,{method:e.method,headers:JSON.parse(e.headers),body:r});return n.ok?{success:!0}:(console.log("send webhook error",e.url,e.method,e.headers,r),console.log("send webhook error",n.status,n.statusText),{success:!1,message:`send webhook error: ${n.status} ${n.statusText}`})}o(ll,"sendWebhook");async function o3(e,t,r,n){if(!e.env.KV||!ae(e.env.ENABLE_WEBHOOK))return;let s=[],i=await e.env.KV.get(R.WEBHOOK_KV_ADMIN_MAIL_SETTINGS_KEY,"json");i?.enabled&&s.push(i);let a=await e.env.KV.get(R.WEBHOOK_KV_SETTINGS_KEY,"json");if(!a?.enableAllowList||a?.allowList.includes(t)){let m=await e.env.KV.get(`${R.WEBHOOK_KV_USER_SETTINGS_KEY}:${t}`,"json");m?.enabled&&s.push(m)}if(s.length===0)return;let d=await e.env.DB.prepare("SELECT id FROM raw_mails where address = ? and message_id = ?").bind(t,n).first("id"),p=await cr(r),f={id:d||"",url:e.env.FRONTEND_URL?`${e.env.FRONTEND_URL}?mail_id=${d}`:"",from:p?.sender||"",to:t,subject:p?.subject||"",raw:r.rawEmail||"",parsedText:p?.text||"",parsedHtml:p?.html||""};for(let m of s){let h=await ll(m,f);h.success||console.error(h.message)}}o(o3,"triggerWebhook");async function a3(e,t,r){if(!r)return;let n=e0(e);if(!ae(e.env.ENABLE_ANOTHER_WORKER)||n.length===0)return;let s=r.toLowerCase();for(let i of n){let a=i?.keywords??[],d=i?.binding??"",p=i.method??"rpcEmail",m=(e.env[d]??{})[p];if(!m||typeof m!="function"){console.log(`method = ${p} not found or not function`);continue}if(!a.some(h=>h&&s.includes(h.toLowerCase()))){console.log(`worker.binding = ${d} not match keywords, parsedText = ${r}`);continue}try{let h={...t};if(h.headers&&typeof h.headers.forEach=="function"){let y={};h.headers.forEach((x,_)=>{y[_]=x}),h.headers=y}let g=JSON.stringify(h);console.log(`exec worker , binding = ${d} , requestBody = ${g}`),await m(g)}catch(h){console.error(`execute method = ${p} error`,h)}}}o(a3,"triggerAnotherWorker");l();u();c();var $w={getAutoReply:o(async e=>{let t=j.getMessagesbyContext(e);if(!ae(e.env.ENABLE_AUTO_REPLY))return e.text(t.AutoReplyDisabledMsg,403);let{address:r}=e.get("jwtPayload"),n=await e.env.DB.prepare("SELECT * FROM auto_reply_mails where address = ? ").bind(r).first();return n?e.json({subject:n.subject,message:n.message,enabled:n.enabled==1,source_prefix:n.source_prefix,name:n.name}):e.json({})},"getAutoReply"),saveAutoReply:o(async e=>{let t=j.getMessagesbyContext(e);if(!ae(e.env.ENABLE_AUTO_REPLY))return e.text(t.AutoReplyDisabledMsg,403);let{address:r}=e.get("jwtPayload"),{auto_reply:n}=await e.req.json(),{name:s,subject:i,source_prefix:a,message:d,enabled:p}=n;if((!i||!d)&&p)return e.text(t.InvalidAutoReplyMsg,400);if(i.length>255||d.length>255)return e.text(t.SubjectOrMessageTooLongMsg,400);let{success:f}=await e.env.DB.prepare("INSERT OR REPLACE INTO auto_reply_mails (name, address, source_prefix, subject, message, enabled) VALUES (?, ?, ?, ?, ?, ?)").bind(s||"",r,a||"",i||"",d||"",p?1:0).run();return f?e.json({success:f}):e.text(t.OperationFailedMsg,500)},"saveAutoReply")};l();u();c();l();u();c();var bm=class{static{o(this,"AdminWebhookSettings")}enableAllowList;allowList;constructor(t,r){this.enableAllowList=t,this.allowList=r}},pi=class{static{o(this,"GeoData")}ip;country;city;timezone;postalCode;region;latitude;longitude;regionCode;asOrganization;constructor(t,r){let{country:n,city:s,timezone:i,postalCode:a,region:d,latitude:p,longitude:f,regionCode:m,asOrganization:h}=r||{};this.ip=t||"unknown",this.country=n,this.city=s,this.timezone=i,this.postalCode=a,this.region=d,this.latitude=p,this.longitude=f,this.regionCode=m,this.asOrganization=h}},$r=class{static{o(this,"UserSettings")}enable;enableMailVerify;verifyMailSender;enableMailAllowList;mailAllowList;maxAddressCount;constructor(t){let{enable:r,enableMailVerify:n,verifyMailSender:s,enableMailAllowList:i,mailAllowList:a,maxAddressCount:d}=t||{};this.enable=r,this.enableMailVerify=n,this.verifyMailSender=s,this.enableMailAllowList=i,this.mailAllowList=a,this.maxAddressCount=d||5}},Qa=class{static{o(this,"UserInfo")}geoData;userEmail;constructor(t,r){this.geoData=t,this.userEmail=r}},Xa=class{static{o(this,"WebhookSettings")}enabled=!1;url="";method="POST";headers=JSON.stringify({"Content-Type":"application/json"},null,2);body=JSON.stringify({id:"${id}",url:"${url}",from:"${from}",to:"${to}",subject:"${subject}",raw:"${raw}",parsedText:"${parsedText}",parsedHtml:"${parsedHtml}"},null,2)};async function FZ(e){let t=j.getMessagesbyContext(e),{address:r}=e.get("jwtPayload"),n=await e.env.KV.get(R.WEBHOOK_KV_SETTINGS_KEY,"json");if(n?.enableAllowList&&!n?.allowList.includes(r))return e.text(t.WebhookNotAllowedForUserMsg,403);let s=await e.env.KV.get(`${R.WEBHOOK_KV_USER_SETTINGS_KEY}:${r}`,"json")||new Xa;return e.json(s)}o(FZ,"getWebhookSettings");async function jZ(e){let t=j.getMessagesbyContext(e),{address:r}=e.get("jwtPayload"),n=await e.env.KV.get(R.WEBHOOK_KV_SETTINGS_KEY,"json");if(n?.enableAllowList&&!n?.allowList.includes(r))return e.text(t.WebhookNotAllowedForUserMsg,403);let s=await e.req.json();return await e.env.KV.put(`${R.WEBHOOK_KV_USER_SETTINGS_KEY}:${r}`,JSON.stringify(s)),e.json({success:!0})}o(jZ,"saveWebhookSettings");async function UZ(e){let t=await e.req.json(),{address:r}=e.get("jwtPayload"),{id:n,raw:s}=await e.env.DB.prepare("SELECT id, raw FROM raw_mails WHERE address = ? ORDER BY RANDOM() LIMIT 1").bind(r).first()||{},a=await cr({rawEmail:s||""}),d=await ll(t,{id:n||"0",url:e.env.FRONTEND_URL?`${e.env.FRONTEND_URL}?mail_id=${n}`:"",from:a?.sender||"test@test.com",to:r,subject:a?.subject||"test subject",raw:s||"test raw email",parsedText:a?.text||"test parsed text",parsedHtml:a?.html||"test parsed html"});return d.success?e.json({success:!0}):e.text(d.message||"send webhook error",400)}o(UZ,"testWebhookSettings");var xm={getWebhookSettings:FZ,saveWebhookSettings:jZ,testWebhookSettings:UZ};l();u();c();var Jw={changePassword:o(async e=>{let{new_password:t}=await e.req.json(),r=j.getMessagesbyContext(e),{address:n,address_id:s}=e.get("jwtPayload");if(!ae(e.env.ENABLE_ADDRESS_PASSWORD))return e.text(r.PasswordChangeDisabledMsg,403);if(!t)return e.text(r.NewPasswordRequiredMsg,400);if(!n||!s)return e.text(r.InvalidAddressTokenMsg,400);let{success:i}=await e.env.DB.prepare("UPDATE address SET password = ?, updated_at = datetime('now') WHERE id = ?").bind(t,s).run();return i?e.json({success:!0}):e.text(r.FailedUpdatePasswordMsg,500)},"changePassword"),login:o(async e=>{let{email:t,password:r,cf_token:n}=await e.req.json(),s=j.getMessagesbyContext(e);if(!ae(e.env.ENABLE_ADDRESS_PASSWORD))return e.text(s.PasswordLoginDisabledMsg,403);if(!t||!r)return e.text(s.EmailPasswordRequiredMsg,400);let i=await e.env.DB.prepare("SELECT * FROM address WHERE name = ?").bind(t).first();if(!i)return e.text(s.AddressNotFoundMsg,404);if(i.password!==r)return e.text(s.InvalidEmailOrPasswordMsg,401);let a=await le.sign({address:i.name,address_id:i.id},e.env.JWT_SECRET,"HS256");return e.json({jwt:a,address:i.name})},"login")};var tt=new tr;tt.get("/api/auto_reply",$w.getAutoReply);tt.post("/api/auto_reply",$w.saveAutoReply);tt.get("/api/webhook/settings",xm.getWebhookSettings);tt.post("/api/webhook/settings",xm.saveWebhookSettings);tt.post("/api/webhook/test",xm.testWebhookSettings);tt.get("/api/attachment/list",tl.list);tt.post("/api/attachment/delete",tl.deleteKey);tt.post("/api/attachment/put_url",tl.getSignedPutUrl);tt.post("/api/attachment/get_url",tl.getSignedGetUrl);tt.get("/api/mails",async e=>{let{address:t}=e.get("jwtPayload");if(!t)return e.json({error:"No address"},400);let{limit:r,offset:n}=e.req.query();return Number.parseInt(n)<=0&&await mo(e,t),await mt(e,"SELECT * FROM raw_mails where address = ?","SELECT count(*) as count FROM raw_mails where address = ?",[t],r,n)});tt.get("/api/mail/:mail_id",async e=>{let{address:t}=e.get("jwtPayload"),{mail_id:r}=e.req.param(),n=await e.env.DB.prepare("SELECT * FROM raw_mails where id = ? and address = ?").bind(r,t).first();return e.json(n)});tt.delete("/api/mails/:id",async e=>{let t=j.getMessagesbyContext(e);if(!ae(e.env.ENABLE_USER_DELETE_EMAIL))return e.text(t.UserDeleteEmailDisabledMsg,403);let{address:r}=e.get("jwtPayload"),{id:n}=e.req.param(),{success:s}=await e.env.DB.prepare("DELETE FROM raw_mails WHERE address = ? and id = ? ").bind(r.toLowerCase(),n).run();return e.json({success:s})});tt.get("/api/settings",async e=>{let{address:t,address_id:r}=e.get("jwtPayload"),n=e.get("userRolePayload"),s=j.getMessagesbyContext(e);if(r&&r>0)try{if(!await e.env.DB.prepare("SELECT id FROM address where id = ? ").bind(r).first("id"))return e.text(s.InvalidAddressMsg,400)}catch{return e.text(s.InvalidAddressMsg,400)}try{if(!r&&!await e.env.DB.prepare("SELECT id FROM address where name = ? ").bind(t).first("id"))return e.text(s.InvalidAddressMsg,400)}catch{return e.text(s.InvalidAddressMsg,400)}await mo(e,t);let i=uu(e.env.NO_LIMIT_SEND_ROLE),d=n&&i.includes(n)?99999:await e.env.DB.prepare("SELECT balance FROM address_sender where address = ? and enabled = 1").bind(t).first("balance");return e.json({address:t,send_balance:d||0})});tt.post("/api/new_address",async e=>{let t=j.getMessagesbyContext(e);if(ae(e.env.DISABLE_ANONYMOUS_USER_CREATE_EMAIL)&&!e.get("userPayload"))return e.text(t.NewAddressAnonymousDisabledMsg,403);if(!ae(e.env.ENABLE_USER_CREATE_EMAIL))return e.text(t.NewAddressDisabledMsg,403);let{name:r,domain:n,cf_token:s}=await e.req.json();try{await Ji(e,s)}catch{return e.text(t.TurnstileCheckFailedMsg,500)}let i=ae(e.env.DISABLE_CUSTOM_ADDRESS_NAME);(!r||i)&&(r=fm(e));try{if((await Q(e,R.ADDRESS_BLOCK_LIST_KEY)||[]).some(p=>r.includes(p)))return e.text(`Name[${r}]is blocked`,400)}catch(a){console.error(a)}try{let a=await i3(e),d=e.req.header("CF-Connecting-IP")||e.req.header("X-Forwarded-For")?.split(",")[0]?.trim()||e.req.header("X-Real-IP")||"web:unknown",p=await Ka(e,{name:r,domain:n,enablePrefix:!0,checkLengthByConfig:!0,addressPrefix:a,sourceMeta:d});return e.json(p)}catch(a){return e.text(`${t.FailedCreateAddressMsg}: ${a.message}`,400)}});tt.delete("/api/delete_address",async e=>{let{address:t,address_id:r}=e.get("jwtPayload"),n=await mm(e,t,r);return e.json({success:n})});tt.delete("/api/clear_inbox",async e=>{let t=j.getMessagesbyContext(e);if(!ae(e.env.ENABLE_USER_DELETE_EMAIL))return e.text(t.UserDeleteEmailDisabledMsg,403);let{address:r}=e.get("jwtPayload"),{success:n}=await e.env.DB.prepare("DELETE FROM raw_mails WHERE address = ?").bind(r).run();return n?e.json({success:n}):e.text(t.FailedClearInboxMsg,500)});tt.delete("/api/clear_sent_items",async e=>{let t=j.getMessagesbyContext(e);if(!ae(e.env.ENABLE_USER_DELETE_EMAIL))return e.text(t.UserDeleteEmailDisabledMsg,403);let{address:r}=e.get("jwtPayload"),{success:n}=await e.env.DB.prepare("DELETE FROM sendbox WHERE address = ?").bind(r).run();return n?e.json({success:n}):e.text(t.FailedClearSentItemsMsg,500)});tt.post("/api/address_change_password",Jw.changePassword);tt.post("/api/address_login",Jw.login);l();u();c();l();u();c();var Vw={openSettings:o(async e=>{let t=await Q(e,R.USER_SETTINGS_KEY),r=new $r(t),n=[];try{let s=await Q(e,R.OAUTH2_SETTINGS_KEY);n.push(...s?.map(i=>({clientID:i.clientID,name:i.name}))||[])}catch(s){console.error("Failed to get oauth2 settings",s)}return e.json({enable:r.enable,enableMailVerify:r.enableMailVerify,oauth2ClientIDs:n})},"openSettings"),settings:o(async e=>{let t=e.get("userPayload"),r=j.getMessagesbyContext(e),n=await e.env.DB.prepare("SELECT id FROM users where id = ?").bind(t.user_id).first("id");if(!n)return e.text(r.UserNotFoundMsg,400);let s=await Ya(e,n),i=e.env.ADMIN_USER_ROLE&&e.env.ADMIN_USER_ROLE===s?.role,a=s?.role?await le.sign({user_email:t.user_email,user_id:t.user_id,user_role:s.role,iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600},e.env.JWT_SECRET,"HS256"):null,d=t.exp>Math.floor(Date.now()/1e3)+10080*60?null:await le.sign({user_email:t.user_email,user_id:t.user_id,exp:Math.floor(Date.now()/1e3)+720*60*60,iat:Math.floor(Date.now()/1e3)},e.env.JWT_SECRET,"HS256");try{await e.env.DB.prepare("UPDATE address SET updated_at = datetime('now') where id IN (SELECT address_id FROM users_address WHERE user_id = ?)").bind(t.user_id).run()}catch{console.warn("Failed to update address updated_at")}return e.json({...t,is_admin:i,access_token:a,new_user_token:d,user_role:s})},"settings")};l();u();c();l();u();c();l();u();c();var x4=Fr(p4(),1);var ose="6.7.0";function Er(e){let t=new URLSearchParams;return e.limit!==void 0&&t.set("limit",e.limit.toString()),"after"in e&&e.after!==void 0&&t.set("after",e.after),"before"in e&&e.before!==void 0&&t.set("before",e.before),t.toString()}o(Er,"buildPaginationQuery");var ase=class{static{o(this,"ApiKeys")}constructor(e){this.resend=e}async create(e,t={}){return await this.resend.post("/api-keys",e,t)}async list(e={}){let t=Er(e),r=t?`/api-keys?${t}`:"/api-keys";return await this.resend.get(r)}async remove(e){return await this.resend.delete(`/api-keys/${e}`)}};function cse(e){return e?.map(t=>({content:t.content,filename:t.filename,path:t.path,content_type:t.contentType,content_id:t.contentId}))}o(cse,"parseAttachments");function v4(e){return{attachments:cse(e.attachments),bcc:e.bcc,cc:e.cc,from:e.from,headers:e.headers,html:e.html,reply_to:e.replyTo,scheduled_at:e.scheduledAt,subject:e.subject,tags:e.tags,text:e.text,to:e.to,template:e.template?{id:e.template.id,variables:e.template.variables}:void 0,topic_id:e.topicId}}o(v4,"parseEmailToApiOptions");async function Rb(e){let t;try{({render:t}=await import("@react-email/render"))}catch{throw new Error("Failed to render React component. Make sure to install `@react-email/render` or `@react-email/components`.")}return t(e)}o(Rb,"render");var use=class{static{o(this,"Batch")}constructor(e){this.resend=e}async send(e,t){return this.create(e,t)}async create(e,t){let r=[];for(let n of e)n.react&&(n.html=await Rb(n.react),n.react=void 0),r.push(v4(n));return await this.resend.post("/emails/batch",r,{...t,headers:{"x-batch-validation":t?.batchValidation??"strict",...t?.headers}})}},lse=class{static{o(this,"Broadcasts")}constructor(e){this.resend=e}async create(e,t={}){return e.react&&(e.html=await Rb(e.react)),await this.resend.post("/broadcasts",{name:e.name,segment_id:e.segmentId,audience_id:e.audienceId,preview_text:e.previewText,from:e.from,html:e.html,reply_to:e.replyTo,subject:e.subject,text:e.text,topic_id:e.topicId},t)}async send(e,t){return await this.resend.post(`/broadcasts/${e}/send`,{scheduled_at:t?.scheduledAt})}async list(e={}){let t=Er(e),r=t?`/broadcasts?${t}`:"/broadcasts";return await this.resend.get(r)}async get(e){return await this.resend.get(`/broadcasts/${e}`)}async remove(e){return await this.resend.delete(`/broadcasts/${e}`)}async update(e,t){return t.react&&(t.html=await Rb(t.react)),await this.resend.patch(`/broadcasts/${e}`,{name:t.name,segment_id:t.segmentId,audience_id:t.audienceId,from:t.from,html:t.html,text:t.text,subject:t.subject,reply_to:t.replyTo,preview_text:t.previewText,topic_id:t.topicId})}};function f4(e){return{id:e.id,key:e.key,createdAt:e.created_at,type:e.type,fallbackValue:e.fallback_value}}o(f4,"parseContactPropertyFromApi");function m4(e){return"key"in e?{key:e.key,type:e.type,fallback_value:e.fallbackValue}:{fallback_value:e.fallbackValue}}o(m4,"parseContactPropertyToApiOptions");var dse=class{static{o(this,"ContactProperties")}constructor(e){this.resend=e}async create(e){let t=m4(e);return await this.resend.post("/contact-properties",t)}async list(e={}){let t=Er(e),r=t?`/contact-properties?${t}`:"/contact-properties",n=await this.resend.get(r);return n.data?{data:{...n.data,data:n.data.data.map(s=>f4(s))},headers:n.headers,error:null}:n}async get(e){if(!e)return{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}};let t=await this.resend.get(`/contact-properties/${e}`);return t.data?{data:{object:"contact_property",...f4(t.data)},headers:t.headers,error:null}:t}async update(e){if(!e.id)return{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}};let t=m4(e);return await this.resend.patch(`/contact-properties/${e.id}`,t)}async remove(e){return e?await this.resend.delete(`/contact-properties/${e}`):{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}}}},pse=class{static{o(this,"ContactSegments")}constructor(e){this.resend=e}async list(e){if(!e.contactId&&!e.email)return{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}};let t=e.email?e.email:e.contactId,r=Er(e),n=r?`/contacts/${t}/segments?${r}`:`/contacts/${t}/segments`;return await this.resend.get(n)}async add(e){if(!e.contactId&&!e.email)return{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}};let t=e.email?e.email:e.contactId;return this.resend.post(`/contacts/${t}/segments/${e.segmentId}`)}async remove(e){if(!e.contactId&&!e.email)return{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}};let t=e.email?e.email:e.contactId;return this.resend.delete(`/contacts/${t}/segments/${e.segmentId}`)}},fse=class{static{o(this,"ContactTopics")}constructor(e){this.resend=e}async update(e){if(!e.id&&!e.email)return{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}};let t=e.email?e.email:e.id;return this.resend.patch(`/contacts/${t}/topics`,e.topics)}async list(e){if(!e.id&&!e.email)return{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}};let t=e.email?e.email:e.id,r=Er(e),n=r?`/contacts/${t}/topics?${r}`:`/contacts/${t}/topics`;return this.resend.get(n)}},mse=class{static{o(this,"Contacts")}constructor(e){this.resend=e,this.topics=new fse(this.resend),this.segments=new pse(this.resend)}async create(e,t={}){return e.audienceId?await this.resend.post(`/audiences/${e.audienceId}/contacts`,{unsubscribed:e.unsubscribed,email:e.email,first_name:e.firstName,last_name:e.lastName,properties:e.properties},t):await this.resend.post("/contacts",{unsubscribed:e.unsubscribed,email:e.email,first_name:e.firstName,last_name:e.lastName,properties:e.properties},t)}async list(e={}){let t=e.segmentId??e.audienceId;if(!t){let s=Er(e),i=s?`/contacts?${s}`:"/contacts";return await this.resend.get(i)}let r=Er(e),n=r?`/segments/${t}/contacts?${r}`:`/segments/${t}/contacts`;return await this.resend.get(n)}async get(e){return typeof e=="string"?this.resend.get(`/contacts/${e}`):!e.id&&!e.email?{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}}:e.audienceId?this.resend.get(`/audiences/${e.audienceId}/contacts/${e?.email?e?.email:e?.id}`):this.resend.get(`/contacts/${e?.email?e?.email:e?.id}`)}async update(e){return!e.id&&!e.email?{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}}:e.audienceId?await this.resend.patch(`/audiences/${e.audienceId}/contacts/${e?.email?e?.email:e?.id}`,{unsubscribed:e.unsubscribed,first_name:e.firstName,last_name:e.lastName,properties:e.properties}):await this.resend.patch(`/contacts/${e?.email?e?.email:e?.id}`,{unsubscribed:e.unsubscribed,first_name:e.firstName,last_name:e.lastName,properties:e.properties})}async remove(e){return typeof e=="string"?this.resend.delete(`/contacts/${e}`):!e.id&&!e.email?{data:null,headers:null,error:{message:"Missing `id` or `email` field.",statusCode:null,name:"missing_required_field"}}:e.audienceId?this.resend.delete(`/audiences/${e.audienceId}/contacts/${e?.email?e?.email:e?.id}`):this.resend.delete(`/contacts/${e?.email?e?.email:e?.id}`)}};function hse(e){return{name:e.name,region:e.region,custom_return_path:e.customReturnPath,capabilities:e.capabilities,open_tracking:e.openTracking,click_tracking:e.clickTracking,tls:e.tls}}o(hse,"parseDomainToApiOptions");var gse=class{static{o(this,"Domains")}constructor(e){this.resend=e}async create(e,t={}){return await this.resend.post("/domains",hse(e),t)}async list(e={}){let t=Er(e),r=t?`/domains?${t}`:"/domains";return await this.resend.get(r)}async get(e){return await this.resend.get(`/domains/${e}`)}async update(e){return await this.resend.patch(`/domains/${e.id}`,{click_tracking:e.clickTracking,open_tracking:e.openTracking,tls:e.tls,capabilities:e.capabilities})}async remove(e){return await this.resend.delete(`/domains/${e}`)}async verify(e){return await this.resend.post(`/domains/${e}/verify`)}},yse=class{static{o(this,"Attachments$1")}constructor(e){this.resend=e}async get(e){let{emailId:t,id:r}=e;return await this.resend.get(`/emails/${t}/attachments/${r}`)}async list(e){let{emailId:t}=e,r=Er(e),n=r?`/emails/${t}/attachments?${r}`:`/emails/${t}/attachments`;return await this.resend.get(n)}},bse=class{static{o(this,"Attachments")}constructor(e){this.resend=e}async get(e){let{emailId:t,id:r}=e;return await this.resend.get(`/emails/receiving/${t}/attachments/${r}`)}async list(e){let{emailId:t}=e,r=Er(e),n=r?`/emails/receiving/${t}/attachments?${r}`:`/emails/receiving/${t}/attachments`;return await this.resend.get(n)}},xse=class{static{o(this,"Receiving")}constructor(e){this.resend=e,this.attachments=new bse(e)}async get(e){return await this.resend.get(`/emails/receiving/${e}`)}async list(e={}){let t=Er(e),r=t?`/emails/receiving?${t}`:"/emails/receiving";return await this.resend.get(r)}},vse=class{static{o(this,"Emails")}constructor(e){this.resend=e,this.attachments=new yse(e),this.receiving=new xse(e)}async send(e,t={}){return this.create(e,t)}async create(e,t={}){return e.react&&(e.html=await Rb(e.react)),await this.resend.post("/emails",v4(e),t)}async get(e){return await this.resend.get(`/emails/${e}`)}async list(e={}){let t=Er(e),r=t?`/emails?${t}`:"/emails";return await this.resend.get(r)}async update(e){return await this.resend.patch(`/emails/${e.id}`,{scheduled_at:e.scheduledAt})}async cancel(e){return await this.resend.post(`/emails/${e}/cancel`)}},_se=class{static{o(this,"Segments")}constructor(e){this.resend=e}async create(e,t={}){return await this.resend.post("/segments",e,t)}async list(e={}){let t=Er(e),r=t?`/segments?${t}`:"/segments";return await this.resend.get(r)}async get(e){return await this.resend.get(`/segments/${e}`)}async remove(e){return await this.resend.delete(`/segments/${e}`)}};function Sse(e={}){let t=new URLSearchParams;return e.before&&t.set("before",e.before),e.after&&t.set("after",e.after),e.limit&&t.set("limit",e.limit.toString()),t.size>0?`?${t.toString()}`:""}o(Sse,"getPaginationQueryProperties");function wse(e){return e?.map(t=>({key:t.key,type:t.type,fallback_value:t.fallbackValue}))}o(wse,"parseVariables");function h4(e){return{name:"name"in e?e.name:void 0,subject:e.subject,html:e.html,text:e.text,alias:e.alias,from:e.from,reply_to:e.replyTo,variables:wse(e.variables)}}o(h4,"parseTemplateToApiOptions");var g4=class{static{o(this,"ChainableTemplateResult")}constructor(e,t){this.promise=e,this.publishFn=t}then(e,t){return this.promise.then(e,t)}async publish(){let{data:e,error:t}=await this.promise;return t?{data:null,headers:null,error:t}:this.publishFn(e.id)}},Ese=class{static{o(this,"Templates")}constructor(e){this.resend=e}create(e){return new g4(this.performCreate(e),this.publish.bind(this))}async performCreate(e){if(e.react){if(!this.renderAsync)try{let{renderAsync:t}=await import("@react-email/render");this.renderAsync=t}catch{throw new Error("Failed to render React component. Make sure to install `@react-email/render`")}e.html=await this.renderAsync(e.react)}return this.resend.post("/templates",h4(e))}async remove(e){return await this.resend.delete(`/templates/${e}`)}async get(e){return await this.resend.get(`/templates/${e}`)}async list(e={}){return this.resend.get(`/templates${Sse(e)}`)}duplicate(e){return new g4(this.resend.post(`/templates/${e}/duplicate`),this.publish.bind(this))}async publish(e){return await this.resend.post(`/templates/${e}/publish`)}async update(e,t){return await this.resend.patch(`/templates/${e}`,h4(t))}},Cse=class{static{o(this,"Topics")}constructor(e){this.resend=e}async create(e){let{defaultSubscription:t,...r}=e;return await this.resend.post("/topics",{...r,default_subscription:t})}async list(){return await this.resend.get("/topics")}async get(e){return e?await this.resend.get(`/topics/${e}`):{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}}}async update(e){return e.id?await this.resend.patch(`/topics/${e.id}`,e):{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}}}async remove(e){return e?await this.resend.delete(`/topics/${e}`):{data:null,headers:null,error:{message:"Missing `id` field.",statusCode:null,name:"missing_required_field"}}}},Ase=class{static{o(this,"Webhooks")}constructor(e){this.resend=e}async create(e,t={}){return await this.resend.post("/webhooks",e,t)}async get(e){return await this.resend.get(`/webhooks/${e}`)}async list(e={}){let t=Er(e),r=t?`/webhooks?${t}`:"/webhooks";return await this.resend.get(r)}async update(e,t){return await this.resend.patch(`/webhooks/${e}`,t)}async remove(e){return await this.resend.delete(`/webhooks/${e}`)}verify(e){return new x4.Webhook(e.webhookSecret).verify(e.payload,{"svix-id":e.headers.id,"svix-timestamp":e.headers.timestamp,"svix-signature":e.headers.signature})}},y4="https://api.resend.com",b4=`resend-node:${ose}`,Tse=typeof process<"u"&&process.env&&process.env.RESEND_BASE_URL||y4,Ose=typeof process<"u"&&process.env&&process.env.RESEND_USER_AGENT||b4,_4=class{static{o(this,"Resend")}constructor(e){if(this.key=e,this.apiKeys=new ase(this),this.segments=new _se(this),this.audiences=this.segments,this.batch=new use(this),this.broadcasts=new lse(this),this.contacts=new mse(this),this.contactProperties=new dse(this),this.domains=new gse(this),this.emails=new vse(this),this.webhooks=new Ase(this),this.templates=new Ese(this),this.topics=new Cse(this),!e&&(typeof process<"u"&&process.env&&(this.key=process.env.RESEND_API_KEY),!this.key))throw new Error('Missing API key. Pass it to the constructor `new Resend("re_123")`');this.headers=new Headers({Authorization:`Bearer ${this.key}`,"User-Agent":Ose,"Content-Type":"application/json"})}async fetchRequest(e,t={}){try{let r=await fetch(`${Tse}${e}`,t);if(!r.ok)try{let n=await r.text();return{data:null,error:JSON.parse(n),headers:Object.fromEntries(r.headers.entries())}}catch(n){if(n instanceof SyntaxError)return{data:null,error:{name:"application_error",statusCode:r.status,message:"Internal server error. We are unable to process your request right now, please try again later."},headers:Object.fromEntries(r.headers.entries())};let s={message:r.statusText,statusCode:r.status,name:"application_error"};return n instanceof Error?{data:null,error:{...s,message:n.message},headers:Object.fromEntries(r.headers.entries())}:{data:null,error:s,headers:Object.fromEntries(r.headers.entries())}}return{data:await r.json(),error:null,headers:Object.fromEntries(r.headers.entries())}}catch{return{data:null,error:{name:"application_error",statusCode:null,message:"Unable to fetch data. The request could not be resolved."},headers:null}}}async post(e,t,r={}){let n=new Headers(this.headers);if(r.headers)for(let[i,a]of new Headers(r.headers).entries())n.set(i,a);r.idempotencyKey&&n.set("Idempotency-Key",r.idempotencyKey);let s={method:"POST",body:JSON.stringify(t),...r,headers:n};return this.fetchRequest(e,s)}async get(e,t={}){let r=new Headers(this.headers);if(t.headers)for(let[s,i]of new Headers(t.headers).entries())r.set(s,i);let n={method:"GET",...t,headers:r};return this.fetchRequest(e,n)}async put(e,t,r={}){let n=new Headers(this.headers);if(r.headers)for(let[i,a]of new Headers(r.headers).entries())n.set(i,a);let s={method:"PUT",body:JSON.stringify(t),...r,headers:n};return this.fetchRequest(e,s)}async patch(e,t,r={}){let n=new Headers(this.headers);if(r.headers)for(let[i,a]of new Headers(r.headers).entries())n.set(i,a);let s={method:"PATCH",body:JSON.stringify(t),...r,headers:n};return this.fetchRequest(e,s)}async delete(e,t){let r={method:"DELETE",body:JSON.stringify(t),headers:this.headers};return this.fetchRequest(e,r)}};l();u();c();import{connect as Bse}from"cloudflare:sockets";var kse=class{static{o(this,"u")}values=[];resolvers=[];enqueue(e){this.resolvers.length||this.addWrapper(),this.resolvers.shift()(e)}async dequeue(){return this.values.length||this.addWrapper(),this.values.shift()}get length(){return this.values.length}clear(){this.values=[],this.resolvers=[]}addWrapper(){this.values.push(new Promise(e=>{this.resolvers.push(e)}))}};async function S4(e,t,r){return Promise.race([e,new Promise((n,s)=>setTimeout(()=>s(r),t))])}o(S4,"T");var Rse=new TextEncoder;function vl(e){return Rse.encode(e)}o(vl,"d");var Mse=new TextDecoder("utf-8");function Pse(e){return Mse.decode(e)}o(Pse,"v");function w4(e,t=76){let r=vl(e),n="",s=0,i=0;for(;i<r.length;){let a=r[i],d;if(a===10){n+=`\r
`,s=0,i++;continue}else if(a===13)if(i+1<r.length&&r[i+1]===10){n+=`\r
`,s=0,i+=2;continue}else d="=0D";if(d===void 0){let p=a===32||a===9,f=i+1>=r.length||r[i+1]===10||r[i+1]===13;a<32&&!p||a>126||a===61||p&&f?d=`=${a.toString(16).toUpperCase().padStart(2,"0")}`:d=String.fromCharCode(a)}s+d.length>t-3&&(n+=`=\r
`,s=0),n+=d,s+=d.length,i++}return n}o(w4,"w");function cc(e){if(!/[^\x00-\x7F]/.test(e))return e;let t=vl(e),r="";for(let n of t)n>=33&&n<=126&&n!==63&&n!==61&&n!==95?r+=String.fromCharCode(n):n===32?r+="_":r+=`=${n.toString(16).toUpperCase().padStart(2,"0")}`;return`=?UTF-8?Q?${r}?=`}o(cc,"c");var Ise=class Mb{static{o(this,"a")}from;to;reply;cc;bcc;subject;text;html;dsnOverride;attachments;headers;setSent;setSentError;sent=new Promise((t,r)=>{this.setSent=t,this.setSentError=r});constructor(t){if(!t.text&&!t.html)throw new Error("At least one of text or html must be provided");typeof t.from=="string"?this.from={email:t.from}:this.from=t.from,typeof t.reply=="string"?this.reply={email:t.reply}:this.reply=t.reply,this.to=Mb.toUsers(t.to),this.cc=Mb.toUsers(t.cc),this.bcc=Mb.toUsers(t.bcc),this.subject=t.subject,this.text=t.text,this.html=t.html,this.attachments=t.attachments,this.dsnOverride=t.dsnOverride,this.headers=t.headers||{}}static toUsers(t){if(t)return typeof t=="string"?[{email:t}]:Array.isArray(t)?t.map(r=>typeof r=="string"?{email:r}:r):[t]}getEmailData(){this.resolveHeader();let t=["MIME-Version: 1.0"];for(let[i,a]of Object.entries(this.headers))t.push(`${i}: ${a}`);let r=this.generateSafeBoundary("mixed_"),n=this.generateSafeBoundary("alternative_");t.push(`Content-Type: multipart/mixed; boundary="${r}"`);let s=`${t.join(`\r
`)}\r
\r
`;if(s+=`--${r}\r
`,s+=`Content-Type: multipart/alternative; boundary="${n}"\r
\r
`,this.text){s+=`--${n}\r
`,s+=`Content-Type: text/plain; charset="UTF-8"\r
`,s+=`Content-Transfer-Encoding: quoted-printable\r
\r
`;let i=w4(this.text);s+=`${i}\r
\r
`}if(this.html){s+=`--${n}\r
`,s+=`Content-Type: text/html; charset="UTF-8"\r
`,s+=`Content-Transfer-Encoding: quoted-printable\r
\r
`;let i=w4(this.html);s+=`${i}\r
\r
`}if(s+=`--${n}--\r
`,this.attachments)for(let i of this.attachments){let a=i.mimeType||this.getMimeType(i.filename);s+=`--${r}\r
`,s+=`Content-Type: ${a}; name="${i.filename}"\r
`,s+=`Content-Description: ${i.filename}\r
`,s+=`Content-Disposition: attachment; filename="${i.filename}";\r
`,s+=`    creation-date="${new Date().toUTCString()}";\r
`,s+=`Content-Transfer-Encoding: base64\r
\r
`;let d=i.content.match(/.{1,72}/g);d?s+=`${d.join(`\r
`)}`:s+=`${i.content}`,s+=`\r
\r
`}return s+=`--${r}--\r
`,`${this.applyDotStuffing(s)}\r
.\r
`}applyDotStuffing(t){let r=t.replace(/\r\n\./g,`\r
..`);return r.startsWith(".")&&(r=`.${r}`),r}generateSafeBoundary(t){let r=new Uint8Array(28);crypto.getRandomValues(r);let n=Array.from(r).map(i=>i.toString(16).padStart(2,"0")).join(""),s=t+n;return s=s.replace(/[<>@,;:\\/[\]?=" ]/g,"_"),s}getMimeType(t){let r=t.split(".").pop()?.toLowerCase();return{txt:"text/plain",html:"text/html",csv:"text/csv",pdf:"application/pdf",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",zip:"application/zip"}[r||"txt"]||"application/octet-stream"}resolveHeader(){this.resolveFrom(),this.resolveTo(),this.resolveReply(),this.resolveCC(),this.resolveBCC(),this.resolveSubject(),this.headers.Date=this.headers.Date??new Date().toUTCString(),this.headers["Message-ID"]=this.headers["Message-ID"]??`<${crypto.randomUUID()}@${this.from.email.split("@").pop()}>`}resolveFrom(){if(this.headers.From)return;let t=this.from.email;this.from.name&&(t=`"${cc(this.from.name)}" <${t}>`),this.headers.From=t}resolveTo(){if(this.headers.To)return;let t=this.to.map(r=>r.name?`"${cc(r.name)}" <${r.email}>`:r.email);this.headers.To=t.join(", ")}resolveSubject(){this.headers.Subject||this.subject&&(this.headers.Subject=cc(this.subject))}resolveReply(){if(!this.headers["Reply-To"]&&this.reply){let t=this.reply.email;this.reply.name&&(t=`"${cc(this.reply.name)}" <${t}>`),this.headers["Reply-To"]=t}}resolveCC(){if(!this.headers.CC&&this.cc){let t=this.cc.map(r=>r.name?`"${cc(r.name)}" <${r.email}>`:r.email);this.headers.CC=t.join(", ")}}resolveBCC(){if(!this.headers.BCC&&this.bcc){let t=this.bcc.map(r=>r.name?`"${cc(r.name)}" <${r.email}>`:r.email);this.headers.BCC=t.join(", ")}}},Dse=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.NONE=4]="NONE",e))(Dse||{}),Nse=class{static{o(this,"p")}constructor(e=1,t){this.level=e,this.prefix=t}prefix;debug(e,...t){this.level<=0&&console.debug(this.prefix+e,...t)}info(e,...t){this.level<=1&&console.info(this.prefix+e,...t)}warn(e,...t){this.level<=2&&console.warn(this.prefix+e,...t)}error(e,...t){this.level<=3&&console.error(this.prefix+e,...t)}},E4=class yC{static{o(this,"a")}socket;host;port;secure;startTls;authType;credentials;socketTimeoutMs;responseTimeoutMs;reader;writer;logger;dsn;sendNotificationsTo;active=!1;emailSending=null;emailToBeSent=new kse;supportsDSN=!1;allowAuth=!1;authTypeSupported=[];supportsStartTls=!1;constructor(t){this.port=t.port,this.host=t.host,this.secure=!!t.secure,Array.isArray(t.authType)?this.authType=t.authType:typeof t.authType=="string"?this.authType=[t.authType]:this.authType=[],this.startTls=t.startTls===void 0?!0:t.startTls,this.credentials=t.credentials,this.dsn=t.dsn||{},this.socketTimeoutMs=t.socketTimeoutMs||6e4,this.responseTimeoutMs=t.socketTimeoutMs||3e4,this.socket=Bse({hostname:this.host,port:this.port},{secureTransport:this.secure?"on":this.startTls?"starttls":"off",allowHalfOpen:!1}),this.reader=this.socket.readable.getReader(),this.writer=this.socket.writable.getWriter(),this.logger=new Nse(t.logLevel,`[WorkerMailer:${this.host}:${this.port}]`)}static async connect(t){let r=new yC(t);return await r.initializeSmtpSession(),r.start().catch(console.error),r}send(t){let r=new Ise(t);return this.emailToBeSent.enqueue(r),r.sent}static async send(t,r){let n=await yC.connect(t);await n.send(r),await n.close()}async readTimeout(){return S4(this.read(),this.responseTimeoutMs,new Error("Timeout while waiting for smtp server response"))}async read(){let t="";for(;;){let{value:r}=await this.reader.read();if(!r)continue;let n=Pse(r).toString();if(this.logger.debug(`SMTP server response:
`+n),t=t+n,!t.endsWith(`
`))continue;let s=t.split(/\r?\n/),i=s[s.length-2];if(!/^\d+-/.test(i))return t}}async writeLine(t){await this.write(`${t}\r
`)}async write(t){this.logger.debug(`Write to socket:
`+t),await this.writer.write(vl(t))}async initializeSmtpSession(){await this.waitForSocketConnected(),await this.greet(),await this.ehlo(),this.startTls&&!this.secure&&this.supportsStartTls&&(await this.tls(),await this.ehlo()),await this.auth(),this.active=!0}async start(){for(;this.active;){this.emailSending=await this.emailToBeSent.dequeue();try{await this.mail(),await this.rcpt(),await this.data(),await this.body(),this.emailSending.setSent()}catch(t){if(this.logger.error("Failed to send email: "+t.message),!this.active)return;this.emailSending.setSentError(t);try{await this.rset()}catch(r){await this.close(r)}}this.emailSending=null}}async close(t){for(this.active=!1,this.logger.info("WorkerMailer is closed",t?.message||""),this.emailSending?.setSentError?.(t||new Error("WorkerMailer is shutting down"));this.emailToBeSent.length;)(await this.emailToBeSent.dequeue()).setSentError(t||new Error("WorkerMailer is shutting down"));try{await this.writeLine("QUIT"),await this.readTimeout(),this.socket.close().catch(()=>this.logger.error("Failed to close socket"))}catch{}}async waitForSocketConnected(){this.logger.info("Connecting to SMTP server"),await S4(this.socket.opened,this.socketTimeoutMs,new Error("Socket timeout!")),this.logger.info("SMTP server connected")}async greet(){let t=await this.readTimeout();if(!t.startsWith("220"))throw new Error("Failed to connect to SMTP server: "+t)}async ehlo(){await this.writeLine("EHLO 127.0.0.1");let t=await this.readTimeout();if(t.startsWith("421"))throw new Error(`Failed to EHLO. ${t}`);if(!t.startsWith("2")){await this.helo();return}this.parseCapabilities(t)}async helo(){await this.writeLine("HELO 127.0.0.1");let t=await this.readTimeout();if(!t.startsWith("2"))throw new Error(`Failed to HELO. ${t}`)}async tls(){await this.writeLine("STARTTLS");let t=await this.readTimeout();if(!t.startsWith("220"))throw new Error("Failed to start TLS: "+t);this.reader.releaseLock(),this.writer.releaseLock(),this.socket=this.socket.startTls(),this.reader=this.socket.readable.getReader(),this.writer=this.socket.writable.getWriter()}parseCapabilities(t){/[ -]AUTH\b/i.test(t)&&(this.allowAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(t)&&this.authTypeSupported.push("plain"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(t)&&this.authTypeSupported.push("login"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(t)&&this.authTypeSupported.push("cram-md5"),/[ -]STARTTLS\b/i.test(t)&&(this.supportsStartTls=!0),/[ -]DSN\b/i.test(t)&&(this.supportsDSN=!0)}async auth(){if(this.allowAuth){if(!this.credentials)throw new Error("smtp server requires authentication, but no credentials found");if(this.authTypeSupported.includes("plain")&&this.authType.includes("plain"))await this.authWithPlain();else if(this.authTypeSupported.includes("login")&&this.authType.includes("login"))await this.authWithLogin();else if(this.authTypeSupported.includes("cram-md5")&&this.authType.includes("cram-md5"))await this.authWithCramMD5();else throw new Error("No supported auth method found.")}}async authWithPlain(){let t=btoa(`\0${this.credentials.username}\0${this.credentials.password}`);await this.writeLine(`AUTH PLAIN ${t}`);let r=await this.readTimeout();if(!r.startsWith("2"))throw new Error(`Failed to plain authentication: ${r}`)}async authWithLogin(){await this.writeLine("AUTH LOGIN");let t=await this.readTimeout();if(!t.startsWith("3"))throw new Error("Invalid login: "+t);let r=btoa(this.credentials.username);await this.writeLine(r);let n=await this.readTimeout();if(!n.startsWith("3"))throw new Error("Failed to login authentication: "+n);let s=btoa(this.credentials.password);await this.writeLine(s);let i=await this.readTimeout();if(!i.startsWith("2"))throw new Error("Failed to login authentication: "+i)}async authWithCramMD5(){await this.writeLine("AUTH CRAM-MD5");let t=await this.readTimeout(),r=t.match(/^334\s+(.+)$/)?.pop();if(!r)throw new Error("Invalid CRAM-MD5 challenge: "+t);let n=atob(r),s=vl(this.credentials.password),i=await crypto.subtle.importKey("raw",s,{name:"HMAC",hash:"MD5"},!1,["sign"]),a=vl(n),d=await crypto.subtle.sign("HMAC",i,a),p=Array.from(new Uint8Array(d)).map(m=>m.toString(16).padStart(2,"0")).join("");await this.writeLine(btoa(`${this.credentials.username} ${p}`));let f=await this.readTimeout();if(!f.startsWith("2"))throw new Error("Failed to cram-md5 authentication: "+f)}async mail(){let t=`MAIL FROM: <${this.emailSending.from.email}>`;this.supportsDSN&&(t+=` ${this.retBuilder()}`,this.emailSending?.dsnOverride?.envelopeId&&(t+=` ENVID=${this.emailSending?.dsnOverride?.envelopeId}`)),await this.writeLine(t);let r=await this.readTimeout();if(!r.startsWith("2"))throw new Error(`Invalid ${t} ${r}`)}async rcpt(){let t=[...this.emailSending.to,...this.emailSending.cc||[],...this.emailSending.bcc||[]];for(let r of t){let n=`RCPT TO: <${r.email}>`;this.supportsDSN&&(n+=this.notificationBuilder()),await this.writeLine(n);let s=await this.readTimeout();if(!s.startsWith("2"))throw new Error(`Invalid ${n} ${s}`)}}async data(){await this.writeLine("DATA");let t=await this.readTimeout();if(!t.startsWith("3"))throw new Error(`Failed to send DATA: ${t}`)}async body(){await this.write(this.emailSending.getEmailData());let t=await this.readTimeout();if(!t.startsWith("2"))throw new Error("Failed send email body: "+t)}async rset(){await this.writeLine("RSET");let t=await this.readTimeout();if(!t.startsWith("2"))throw new Error(`Failed to reset: ${t}`)}notificationBuilder(){let t=[];return(this.emailSending?.dsnOverride?.NOTIFY&&this.emailSending?.dsnOverride?.NOTIFY?.SUCCESS||!this.emailSending?.dsnOverride?.NOTIFY&&this.dsn?.NOTIFY?.SUCCESS)&&t.push("SUCCESS"),(this.emailSending?.dsnOverride?.NOTIFY&&this.emailSending?.dsnOverride?.NOTIFY?.FAILURE||!this.emailSending?.dsnOverride?.NOTIFY&&this.dsn?.NOTIFY?.FAILURE)&&t.push("FAILURE"),(this.emailSending?.dsnOverride?.NOTIFY&&this.emailSending?.dsnOverride?.NOTIFY?.DELAY||!this.emailSending?.dsnOverride?.NOTIFY&&this.dsn?.NOTIFY?.DELAY)&&t.push("DELAY"),t.length>0?` NOTIFY=${t.join(",")}`:" NOTIFY=NEVER"}retBuilder(){let t=[];return(this.emailSending?.dsnOverride?.RET&&this.emailSending?.dsnOverride?.RET?.HEADERS||!this.emailSending?.dsnOverride?.RET&&this.dsn?.RET?.HEADERS)&&t.push("HDRS"),(this.emailSending?.dsnOverride?.RET&&this.emailSending?.dsnOverride?.RET?.FULL||!this.emailSending?.dsnOverride?.RET&&this.dsn?.RET?.FULL)&&t.push("FULL"),t.length>0?`RET=${t.join(",")}`:""}};var ko=new tr;ko.post("/api/requset_send_mail_access",async e=>{let t=j.getMessagesbyContext(e),{address:r}=e.get("jwtPayload");if(!r)return e.text(t.AddressNotFoundMsg,400);try{let n=Cn(e.env.DEFAULT_SEND_BALANCE,0),{success:s}=await e.env.DB.prepare("INSERT INTO address_sender (address, balance, enabled) VALUES (?, ?, ?)").bind(r,n,n>0?1:0).run();if(!s)return e.text(t.OperationFailedMsg,500)}catch(n){let s=n.message;return s&&s.includes("UNIQUE")?e.text(t.AlreadyRequestedMsg,400):e.text(t.OperationFailedMsg,500)}return e.json({status:"ok"})});var Lse=o(async(e,t,r)=>{let{from_name:n,to_mail:s,to_name:i,subject:a,content:d,is_html:p}=r,f=Js();f.setSender(n?{name:n,addr:t}:t),f.setRecipient(i?{name:i,addr:s}:s),f.setSubject(a),f.addMessage({contentType:p?"text/html":"text/plain",data:d});let{EmailMessage:m}=await import("cloudflare:email"),h=new m(t,s,f.asRaw());await e.env.SEND_MAIL.send(h)},"sendMailToVerifyAddress"),Fse=o(async(e,t,r)=>{let n=t.split("@")[1],s=e.env[`RESEND_TOKEN_${n.replace(/\./g,"_").toUpperCase()}`]||e.env.RESEND_TOKEN,i=new _4(s),{data:a,error:d}=await i.emails.send({from:r.from_name?`${r.from_name} <${t}>`:t,to:r.to_name?`${r.to_name} <${r.to_mail}>`:r.to_mail,subject:r.subject,...r.is_html?{html:r.content}:{text:r.content}});if(d)throw new Error(`Resend error: ${d.name} ${d.message}`);console.log(`Resend success: ${JSON.stringify(a)}`)},"sendMailByResend"),jse=o(async(e,t,r,n)=>{await E4.send(n,{from:{name:r.from_name,email:t},to:{name:r.to_name,email:r.to_mail},subject:r.subject,text:r.is_html?void 0:r.content,html:r.is_html?r.content:void 0})},"sendMailBySmtp"),uc=o(async(e,t,r,n)=>{let s=j.getMessagesbyContext(e);if(!t)throw new Error(s.AddressNotFoundMsg);let i=t.split("@")[1];if(!En(e).includes(i))throw new Error(s.InvalidDomainMsg);let d=e.get("userRolePayload"),p=uu(e.env.NO_LIMIT_SEND_ROLE),f=d&&p.includes(d),h=(f?[]:await Q(e,R.NO_LIMIT_SEND_ADDRESS_LIST_KEY)||[])?.includes(t),g=!f&&!n?.isAdmin&&!h;if(g){let K=await e.env.DB.prepare(`SELECT balance FROM address_sender
            where address = ? and enabled = 1`).bind(t).first("balance");if(!K||K<=0)throw new Error(s.NoBalanceMsg)}let{from_name:y,to_mail:x,to_name:_,subject:E,content:T,is_html:k}=r;if(!x)throw new Error(s.InvalidToMailMsg);let D=await Q(e,R.SEND_BLOCK_LIST_KEY);if(D&&D.some(K=>x.includes(K)))throw new Error(s.AddressBlockedMsg);if(!E)throw new Error(s.SubjectEmptyMsg);if(!T)throw new Error(s.ContentEmptyMsg);let I=e.env.RESEND_TOKEN||e.env[`RESEND_TOKEN_${i.replace(/\./g,"_").toUpperCase()}`],N=Vs(e.env.SMTP_CONFIG),G=N?N[i]:null,ee=!1;if(e.env.SEND_MAIL&&(await Q(e,R.VERIFIED_ADDRESS_LIST_KEY)||[]).includes(x)&&(await Lse(e,t,r),ee=!0),!ee)if(I)await Fse(e,t,r);else if(G)await jse(e,t,r,G);else throw e.env.SEND_MAIL?new Error(`${s.EnableResendOrSmtpWithVerifiedMsg} (${i})`):new Error(`${s.EnableResendOrSmtpMsg} (${i})`);if(!ee&&g)try{let{success:K}=await e.env.DB.prepare("UPDATE address_sender SET balance = balance - 1 where address = ?").bind(t).run();K||console.warn(`Failed to update balance for ${t}`)}catch{console.warn(`Failed to update balance for ${t}`)}try{let K=e.req.raw.headers.get("cf-connecting-ip"),te=new pi(K,e.req.raw.cf),Te={version:"v2",...r,geoData:te},{success:Ot}=await e.env.DB.prepare("INSERT INTO sendbox (address, raw) VALUES (?, ?)").bind(t,JSON.stringify(Te)).run();Ot||console.warn(`Failed to save to sendbox for ${t}`)}catch{console.warn(`Failed to save to sendbox for ${t}`)}},"sendMail");ko.post("/api/send_mail",async e=>{let{address:t}=e.get("jwtPayload"),r=await e.req.json();try{await uc(e,t,r)}catch(n){return console.error("Failed to send mail",n),e.text(`Failed to send mail ${n.message}`,400)}return e.json({status:"ok"})});ko.post("/external/api/send_mail",async e=>{let t=j.getMessagesbyContext(e),{token:r}=await e.req.json();try{let{address:n}=await le.verify(r,e.env.JWT_SECRET,"HS256");if(!n)return e.text(t.AddressNotFoundMsg,400);let s=await e.req.json();return await uc(e,n,s),e.json({status:"ok"})}catch(n){return console.error("Failed to send mail",n),e.text(`Failed to send mail ${n.message}`,400)}});var Use=o(async(e,t,r,n)=>t?await mt(e,"SELECT * FROM sendbox where address = ? ","SELECT count(*) as count FROM sendbox where address = ? ",[t],r,n):e.json({error:"No address"},400),"getSendbox");ko.get("/api/sendbox",async e=>{let{address:t}=e.get("jwtPayload"),{limit:r,offset:n}=e.req.query();return Use(e,t,r,n)});ko.delete("/api/sendbox/:id",async e=>{let t=j.getMessagesbyContext(e);if(!ae(e.env.ENABLE_USER_DELETE_EMAIL))return e.text(t.UserDeleteEmailDisabledMsg,403);let{address:r}=e.get("jwtPayload"),{id:n}=e.req.param(),{success:s}=await e.env.DB.prepare("DELETE FROM sendbox WHERE address = ? and id = ? ").bind(r,n).run();return e.json({success:s})});var Pb={verifyCode:o(async e=>{let{email:t,cf_token:r}=await e.req.json(),n=j.getMessagesbyContext(e);try{await Ji(e,r)}catch{return e.text(n.TurnstileCheckFailedMsg,500)}let s=await Q(e,R.USER_SETTINGS_KEY),i=new $r(s),a=t.split("@")[1];if(i.enableMailAllowList&&i.mailAllowList&&!i.mailAllowList.includes(a))return e.text(`${n.UserMailDomainMustInMsg} ${JSON.stringify(i.mailAllowList,null,2)}`,400);if(!i.verifyMailSender)return e.text(n.VerifyMailSenderNotSetMsg,400);if(await e.env.KV.get(`temp-mail:${t}`))return e.text(n.CodeAlreadySentMsg,400);let p=Math.floor(1e5+Math.random()*9e5).toString();try{await uc(e,i.verifyMailSender,{from_name:"Temp Mail Verify",to_name:"",to_mail:t,subject:"Temp Mail Verify code",content:`Your verify code is ${p}`,is_html:!1})}catch(f){return e.text(`Failed to send verify code: ${f.message}`,500)}return await e.env.KV.put(`temp-mail:${t}`,p,{expirationTtl:300}),e.json({success:!0,expirationTtl:300})},"verifyCode"),register:o(async e=>{let t=await Q(e,R.USER_SETTINGS_KEY),r=new $r(t),n=j.getMessagesbyContext(e);if(!r.enable)return e.text(n.UserRegistrationDisabledMsg,403);let{email:s,password:i,code:a}=await e.req.json();if(!s||!i)return e.text(n.InvalidEmailOrPasswordMsg,400);if(Ea(i),r.enableMailVerify&&!a)return e.text(n.InvalidVerifyCodeMsg,400);let d=s.split("@")[1];if(r.enableMailAllowList&&r.mailAllowList&&!r.mailAllowList.includes(d))return e.text(`${n.UserMailDomainMustInMsg} ${JSON.stringify(r.mailAllowList,null,2)}`,400);if(r.enableMailVerify&&await e.env.KV.get(`temp-mail:${s}`)!=a)return e.text(n.InvalidVerifyCodeMsg,400);let p=e.req.raw.headers.get("cf-connecting-ip"),f=new pi(p,e.req.raw.cf),m=new Qa(f,s);if(!r.enableMailVerify){try{let{success:E}=await e.env.DB.prepare("INSERT INTO users (user_email, password, user_info) VALUES (?, ?, ?)").bind(s,i,JSON.stringify(m)).run();if(!E)return e.text(n.FailedToRegisterMsg,500)}catch(E){let T=E;return T.message&&T.message.includes("UNIQUE")?e.text(n.UserAlreadyExistsMsg,400):e.text(`${n.FailedToRegisterMsg}: ${T.message}`,500)}return e.json({success:!0})}let{success:h}=await e.env.DB.prepare("INSERT INTO users (user_email, password, user_info) VALUES (?, ?, ?) ON CONFLICT(user_email) DO UPDATE SET password = ?, user_info = ?, updated_at = datetime('now')").bind(s,i,JSON.stringify(m),i,JSON.stringify(m)).run();if(!h)return e.text(n.FailedToRegisterMsg,400);let g=hr(e.env.USER_DEFAULT_ROLE);if(!g)return e.json({success:!0});if(!An(e).find(E=>E.role===g))return e.text(n.InvalidUserDefaultRoleMsg,500);let x=await e.env.DB.prepare("SELECT id FROM users where user_email = ?").bind(s).first("id");if(!x)return e.text(n.UserNotFoundMsg,500);let{success:_}=await e.env.DB.prepare("INSERT INTO user_roles (user_id, role_text) VALUES (?, ?) ON CONFLICT(user_id) DO NOTHING").bind(x,g).run();return _?e.json({success:!0}):e.text(n.FailedUpdateUserDefaultRoleMsg,500)},"register"),login:o(async e=>{let{email:t,password:r}=await e.req.json(),n=j.getMessagesbyContext(e);if(!t||!r)return e.text(n.InvalidEmailOrPasswordMsg,400);let{id:s,password:i}=await e.env.DB.prepare("SELECT id, password FROM users where user_email = ?").bind(t).first()||{};if(!i)return e.text(n.UserNotFoundMsg,400);if(i!=r)return e.text(n.InvalidEmailOrPasswordMsg,400);let a=await le.sign({user_email:t,user_id:s,exp:Math.floor(Date.now()/1e3)+720*60*60,iat:Math.floor(Date.now()/1e3)},e.env.JWT_SECRET,"HS256");return e.json({jwt:a})},"login")};l();u();c();var C4=o(async(e,t,r)=>{if(!t)return r.maxAddressCount;let n=await Q(e,R.ROLE_ADDRESS_CONFIG_KEY);if(!n)return r.maxAddressCount;let s=n[t]?.maxAddressCount;return typeof s!="number"||s<=0?r.maxAddressCount:s},"getMaxAddressCount"),Ib={bind:o(async e=>{let{user_id:t}=e.get("userPayload"),{address_id:r}=e.get("jwtPayload");return await Ib.bindByID(e,t,r)},"bind"),bindByID:o(async(e,t,r)=>{let n=j.getMessagesbyContext(e);if(!r||!t)return e.text(n.NoAddressOrUserTokenMsg,400);if(!await e.env.DB.prepare("SELECT id FROM address where id = ?").bind(r).first("id"))return e.text(n.AddressNotFoundMsg,400);if(!await e.env.DB.prepare("SELECT id FROM users where id = ?").bind(t).first("id"))return e.text(n.UserNotFoundMsg,400);if(await e.env.DB.prepare("SELECT user_id FROM users_address where user_id = ? and address_id = ?").bind(t,r).first("user_id"))return e.json({success:!0});let d=await Q(e,R.USER_SETTINGS_KEY),p=new $r(d),f=e.get("userRolePayload"),m=await C4(e,f,p);if(m>0){let{count:h}=await e.env.DB.prepare("SELECT COUNT(*) as count FROM users_address where user_id = ?").bind(t).first()||{count:0};if(h>=m)return e.text(n.MaxAddressCountReachedMsg,400)}try{let{success:h}=await e.env.DB.prepare("INSERT INTO users_address (user_id, address_id) VALUES (?, ?)").bind(t,r).run();if(!h)return e.text(n.OperationFailedMsg,500)}catch(h){let g=h;return g.message&&g.message.includes("UNIQUE")?e.text(n.AddressAlreadyBindedMsg,400):e.text(n.OperationFailedMsg,500)}return e.json({success:!0})},"bindByID"),unbind:o(async e=>{let t=j.getMessagesbyContext(e),{user_id:r}=e.get("userPayload"),{address_id:n}=await e.req.json();if(!n||!r)return e.text(t.InvalidAddressOrUserTokenMsg,400);if(!await e.env.DB.prepare("SELECT id FROM address where id = ?").bind(n).first("id"))return e.text(t.AddressNotFoundMsg,400);if(!await e.env.DB.prepare("SELECT id FROM users where id = ?").bind(r).first("id"))return e.text(t.UserNotFoundMsg,400);try{let{success:a}=await e.env.DB.prepare("DELETE FROM users_address where user_id = ? and address_id = ?").bind(r,n).run();if(!a)return e.text(t.OperationFailedMsg,500)}catch{return e.text(t.OperationFailedMsg,500)}return e.json({success:!0})},"unbind"),getBindedAddresses:o(async e=>{let{user_id:t}=e.get("userPayload"),r=await Ib.getBindedAddressesById(e,t);return e.json({results:r})},"getBindedAddresses"),getBindedAddressListById:o(async(e,t)=>(await Ib.getBindedAddressesById(e,t)).map(n=>n.name),"getBindedAddressListById"),getBindedAddressesById:o(async(e,t)=>{let r=j.getMessagesbyContext(e);if(!t)throw new Error(r.UserNotFoundMsg);let{results:n}=await e.env.DB.prepare("SELECT a.*, (SELECT COUNT(*) FROM raw_mails WHERE address = a.name) AS mail_count, (SELECT COUNT(*) FROM sendbox WHERE address = a.name) AS send_count FROM address a  JOIN users_address ua  ON ua.address_id = a.id  WHERE ua.user_id = ? ORDER BY a.id DESC").bind(t).all();return n||[]},"getBindedAddressesById"),getBindedAddressJwt:o(async e=>{let t=j.getMessagesbyContext(e),{address_id:r}=e.req.param(),{user_id:n}=e.get("userPayload");if(!r||!n)return e.text(t.InvalidAddressOrUserTokenMsg,400);if(!await e.env.DB.prepare("SELECT user_id FROM users_address WHERE address_id = ? and user_id = ?").bind(r,n).first("user_id"))return e.text(t.AddressNotBindedMsg,400);let i=await e.env.DB.prepare("SELECT name FROM address WHERE id = ? ").bind(r).first("name"),a=await le.sign({address:i,address_id:r},e.env.JWT_SECRET,"HS256");return e.json({jwt:a})},"getBindedAddressJwt"),transferAddress:o(async e=>{let t=j.getMessagesbyContext(e),{user_id:r}=e.get("userPayload"),{address_id:n,target_user_email:s}=await e.req.json(),i=await e.env.DB.prepare("SELECT name FROM address where id = ?").bind(n).first("name");if(!i)return e.text(t.AddressNotFoundMsg,400);if(!await e.env.DB.prepare("SELECT id FROM users where id = ?").bind(r).first("id"))return e.text(t.UserNotFoundMsg,400);let d=await e.env.DB.prepare("SELECT id FROM users where user_email = ?").bind(s).first("id");if(!d)return e.text(t.TargetUserNotFoundMsg,400);let p=await Q(e,R.USER_SETTINGS_KEY),f=new $r(p),m=await Ya(e,d),h=await C4(e,m?.role,f);if(h>0){let{count:_}=await e.env.DB.prepare("SELECT COUNT(*) as count FROM users_address where user_id = ?").bind(d).first()||{count:0};if(_>=h)return e.text(t.MaxAddressCountReachedMsg,400)}if(!await e.env.DB.prepare("SELECT user_id FROM users_address where user_id = ? and address_id = ?").bind(r,n).first("user_id"))return e.text(t.AddressNotBindedMsg,400);await pm(e,i);try{let{success:_}=await e.env.DB.prepare("DELETE FROM users_address where user_id = ? and address_id = ?").bind(r,n).run();if(!_)return e.text(t.OperationFailedMsg,500)}catch{return e.text(t.OperationFailedMsg,500)}await e.env.DB.prepare("DELETE FROM address WHERE id = ? ").bind(n).run();let{success:y}=await e.env.DB.prepare("INSERT INTO address(name) VALUES(?)").bind(i).run();if(!y)throw new Error(t.FailedCreateAddressMsg);await mo(e,i);let x=await e.env.DB.prepare("SELECT id FROM address WHERE name = ?").bind(i).first("id");if(!x)throw new Error(t.OperationFailedMsg);try{let{success:_}=await e.env.DB.prepare("INSERT INTO users_address (user_id, address_id) VALUES (?, ?)").bind(d,x).run();if(!_)return e.text(t.OperationFailedMsg,500)}catch(_){let E=_;return E.message&&E.message.includes("UNIQUE")?e.text(t.AddressAlreadyBindedMsg,400):e.text(t.OperationFailedMsg,500)}return e.json({success:!0})},"transferAddress")},an=Ib;l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();var Y={};Hn(Y,{fromBuffer:()=>roe,fromUTF8String:()=>soe,isBase64:()=>ooe,isBase64URL:()=>aoe,toBase64:()=>noe,toBuffer:()=>toe,toUTF8String:()=>ioe,trimPadding:()=>n6});l();u();c();l();u();c();var wl={};Hn(wl,{CBORTag:()=>dc,decodeCBOR:()=>k4,decodePartialCBOR:()=>wC,encodeCBOR:()=>R4});l();u();c();l();u();c();l();u();c();function lc(e,t,r){if(t<24)return[t,1];let n=e.byteLength-r-1,s=new DataView(e.buffer,r+1),i,a=0;switch(t){case 24:{n>0&&(i=s.getUint8(0),a=2);break}case 25:{n>1&&(i=s.getUint16(0,!1),a=3);break}case 26:{n>3&&(i=s.getUint32(0,!1),a=5);break}case 27:{if(n>7){let d=s.getBigUint64(0,!1);if(d>=24n&&d<=Number.MAX_SAFE_INTEGER)return[Number(d),9]}break}}if(i&&i>=24)return[i,a];throw new Error("Length not supported or not well formed")}o(lc,"decodeLength");var Bb=0,_l=1,bC=2,xC=3,vC=4,_C=5,SC=6,A4=7;function Zn(e,t){let r=e<<5;if(t<0)throw new Error("CBOR Data Item argument must not be negative");let n;if(typeof t=="number"){if(!Number.isInteger(t))throw new Error("CBOR Data Item argument must be an integer");n=BigInt(t)}else n=t;if(e==_l){if(n==0n)throw new Error("CBOR Data Item argument cannot be zero when negative");n=n-1n}if(n>18446744073709551615n)throw new Error("CBOR number out of range");let s=new Uint8Array(8);return new DataView(s.buffer).setBigUint64(0,n,!1),n<=23?[r|s[7]]:n<=255?[r|24,s[7]]:n<=65535?[r|25,...s.slice(6)]:n<=4294967295?[r|26,...s.slice(4)]:[r|27,...s]}o(Zn,"encodeLength");var dc=class{static{o(this,"CBORTag")}constructor(t,r){Object.defineProperty(this,"tagId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tagValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tagId=t,this.tagValue=r}get tag(){return this.tagId}get value(){return this.tagValue}};function T4(e,t,r){return lc(e,t,r)}o(T4,"decodeUnsignedInteger");function qse(e,t,r){let[n,s]=T4(e,t,r);return[-n-1,s]}o(qse,"decodeNegativeInteger");function O4(e,t,r){let[n,s]=lc(e,t,r),i=r+s;return[new Uint8Array(e.buffer.slice(i,i+n)),s+n]}o(O4,"decodeByteString");var Hse=new TextDecoder;function zse(e,t,r){let[n,s]=O4(e,t,r);return[Hse.decode(n),s]}o(zse,"decodeString");function $se(e,t,r){if(t===0)return[[],1];let[n,s]=lc(e,t,r),i=s,a=[];for(let d=0;d<n;d++){if(e.byteLength-r-i<=0)throw new Error("array is not supported or well formed");let[f,m]=Ro(e,r+i);a.push(f),i+=m}return[a,i]}o($se,"decodeArray");var Db="Map is not supported or well formed";function Jse(e,t,r){if(t===0)return[new Map,1];let[n,s]=lc(e,t,r),i=s,a=new Map;for(let d=0;d<n;d++){let p=e.byteLength-r-i;if(p<=0)throw new Error(Db);let[f,m]=Ro(e,r+i);if(i+=m,p-=m,p<=0)throw new Error(Db);if(typeof f!="string"&&typeof f!="number")throw new Error(Db);if(a.has(f))throw new Error(Db);let[h,g]=Ro(e,r+i);i+=g,a.set(f,h)}return[a,i]}o(Jse,"decodeMap");function Vse(e,t){if(t+3>e.byteLength)throw new Error("CBOR stream ended before end of Float 16");let r=e.getUint16(t+1,!1);if(r==31744)return[1/0,3];if(r==32256)return[NaN,3];if(r==64512)return[-1/0,3];throw new Error("Float16 data is unsupported")}o(Vse,"decodeFloat16");function Kse(e,t){if(t+5>e.byteLength)throw new Error("CBOR stream ended before end of Float 32");return[e.getFloat32(t+1,!1),5]}o(Kse,"decodeFloat32");function Gse(e,t){if(t+9>e.byteLength)throw new Error("CBOR stream ended before end of Float 64");return[e.getFloat64(t+1,!1),9]}o(Gse,"decodeFloat64");function Wse(e,t,r){let[n,s]=lc(e,t,r),[i,a]=Ro(e,r+s);return[new dc(n,i),s+a]}o(Wse,"decodeTag");function Ro(e,t){if(t>=e.byteLength)throw new Error("CBOR stream ended before tag value");let r=e.getUint8(t),n=r>>5,s=r&31;switch(n){case Bb:return T4(e,s,t);case _l:return qse(e,s,t);case bC:return O4(e,s,t);case xC:return zse(e,s,t);case vC:return $se(e,s,t);case _C:return Jse(e,s,t);case SC:return Wse(e,s,t);case A4:switch(s){case 20:return[!1,1];case 21:return[!0,1];case 22:return[null,1];case 23:return[void 0,1];case 25:return Vse(e,t);case 26:return Kse(e,t);case 27:return Gse(e,t)}}throw new Error(`Unsupported or not well formed at ${t}`)}o(Ro,"decodeNext");function Yse(e){return e===!0?245:e===!1?244:e===null?246:247}o(Yse,"encodeSimple");function Qse(e){if(Math.fround(e)==e||!Number.isFinite(e)||Number.isNaN(e)){let t=new Uint8Array(5);return t[0]=250,new DataView(t.buffer).setFloat32(1,e,!1),t}else{let t=new Uint8Array(9);return t[0]=251,new DataView(t.buffer).setFloat64(1,e,!1),t}}o(Qse,"encodeFloat");function Xse(e){return typeof e=="number"?Number.isSafeInteger(e)?e<0?Zn(_l,Math.abs(e)):Zn(Bb,e):[Qse(e)]:e<0n?Zn(_l,e*-1n):Zn(Bb,e)}o(Xse,"encodeNumber");var Zse=new TextEncoder;function eie(e,t){t.push(...Zn(xC,e.length)),t.push(Zse.encode(e))}o(eie,"encodeString");function tie(e,t){t.push(...Zn(bC,e.length)),t.push(e)}o(tie,"encodeBytes");function rie(e,t){t.push(...Zn(vC,e.length));for(let r of e)Sl(r,t)}o(rie,"encodeArray");function nie(e,t){t.push(new Uint8Array(Zn(_C,e.size)));for(let[r,n]of e.entries())Sl(r,t),Sl(n,t)}o(nie,"encodeMap");function sie(e,t){t.push(...Zn(SC,e.tag)),Sl(e.value,t)}o(sie,"encodeTag");function Sl(e,t){if(typeof e=="boolean"||e===null||e==null){t.push(Yse(e));return}if(typeof e=="number"||typeof e=="bigint"){t.push(...Xse(e));return}if(typeof e=="string"){eie(e,t);return}if(e instanceof Uint8Array){tie(e,t);return}if(Array.isArray(e)){rie(e,t);return}if(e instanceof Map){nie(e,t);return}if(e instanceof dc){sie(e,t);return}throw new Error("Not implemented")}o(Sl,"encodePartialCBOR");function wC(e,t){if(e.byteLength===0||e.byteLength<=t||t<0)throw new Error("No data");return e instanceof Uint8Array?Ro(new DataView(e.buffer),t):e instanceof ArrayBuffer?Ro(new DataView(e),t):Ro(e,t)}o(wC,"decodePartialCBOR");function k4(e){let[t,r]=wC(e,0);if(r!==e.byteLength)throw new Error(`Data was decoded, but the whole stream was not processed ${r} != ${e.byteLength}`);return t}o(k4,"decodeCBOR");function R4(e){let t=[];Sl(e,t);let r=0;for(let i of t)typeof i=="number"?r+=1:r+=i.length;let n=new Uint8Array(r),s=0;for(let i of t)typeof i=="number"?(n[s]=i,s+=1):(n.set(i,s),s+=i.length);return n}o(R4,"encodeCBOR");l();u();c();var EC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",P4=o(e=>{let t=typeof Uint8Array>"u"?[]:new Uint8Array(256),r=EC.length;for(let n=0;n<r;n++)t[e.charCodeAt(n)]=n;return t},"genLookup"),iie=P4(EC),oie=P4(M4),aie=/^[-A-Za-z0-9\-_]*$/,cie=/^[-A-Za-z0-9+/]*={0,3}$/,es={};es.toArrayBuffer=(e,t)=>{let r=e.length,n=e.length*.75,s,i=0,a,d,p,f;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);let m=new ArrayBuffer(n),h=new Uint8Array(m),g=t?oie:iie;for(s=0;s<r;s+=4)a=g[e.charCodeAt(s)],d=g[e.charCodeAt(s+1)],p=g[e.charCodeAt(s+2)],f=g[e.charCodeAt(s+3)],h[i++]=a<<2|d>>4,h[i++]=(d&15)<<4|p>>2,h[i++]=(p&3)<<6|f&63;return m};es.fromArrayBuffer=(e,t)=>{let r=new Uint8Array(e),n,s="",i=r.length,a=t?M4:EC;for(n=0;n<i;n+=3)s+=a[r[n]>>2],s+=a[(r[n]&3)<<4|r[n+1]>>4],s+=a[(r[n+1]&15)<<2|r[n+2]>>6],s+=a[r[n+2]&63];let d=i%3;return d===2?s=s.substring(0,s.length-1)+(t?"":"="):d===1&&(s=s.substring(0,s.length-2)+(t?"":"==")),s};es.toString=(e,t)=>new TextDecoder().decode(es.toArrayBuffer(e,t));es.fromString=(e,t)=>es.fromArrayBuffer(new TextEncoder().encode(e),t);es.validate=(e,t)=>{if(!(typeof e=="string"||e instanceof String))return!1;try{return t?aie.test(e):cie.test(e)}catch{return!1}};es.base64=es;var ts=es;l();u();c();var CC=o((...e)=>globalThis.fetch(...e),"fetch");var kwt=globalThis.Headers,Rwt=globalThis.Request,Mwt=globalThis.Response;l();u();c();l();u();c();var os={};Hn(os,{Any:()=>ns,BaseBlock:()=>at,BaseStringBlock:()=>Tl,BitString:()=>Pn,BmpString:()=>Do,Boolean:()=>Po,CharacterString:()=>$o,Choice:()=>mc,Constructed:()=>ct,DATE:()=>Il,DateTime:()=>Dl,Duration:()=>Nl,EndOfContent:()=>Ol,Enumerated:()=>Io,GeneralString:()=>zo,GeneralizedTime:()=>Jo,GraphicString:()=>Ho,HexBlock:()=>is,IA5String:()=>qo,Integer:()=>ks,Null:()=>Rn,NumericString:()=>Lo,ObjectIdentifier:()=>Bo,OctetString:()=>Mn,Primitive:()=>Os,PrintableString:()=>Fo,RawData:()=>kC,RelativeObjectIdentifier:()=>Pl,Repeated:()=>Vo,Sequence:()=>Vt,Set:()=>ur,TIME:()=>Ll,TeletexString:()=>jo,TimeOfDay:()=>Bl,UTCTime:()=>_i,UniversalString:()=>No,Utf8String:()=>un,ValueBlock:()=>Mt,VideotexString:()=>Uo,ViewWriter:()=>fc,VisibleString:()=>vi,compareSchema:()=>As,fromBER:()=>Ms,verifySchema:()=>kie});l();u();c();var pe=Fr(bi());l();u();c();function Mo(e,t){let r=0;if(e.length===1)return e[0];for(let n=e.length-1;n>=0;n--)r+=e[e.length-1-n]*Math.pow(2,t*n);return r}o(Mo,"utilFromBase");function xi(e,t,r=-1){let n=r,s=e,i=0,a=Math.pow(2,t);for(let d=1;d<8;d++){if(e<a){let p;if(n<0)p=new ArrayBuffer(d),i=d;else{if(n<d)return new ArrayBuffer(0);p=new ArrayBuffer(n),i=n}let f=new Uint8Array(p);for(let m=d-1;m>=0;m--){let h=Math.pow(2,m*t);f[i-m-1]=Math.floor(s/h),s-=f[i-m-1]*h}return p}a*=Math.pow(2,t)}return new ArrayBuffer(0)}o(xi,"utilToBase");function Fb(...e){let t=0,r=0;for(let i of e)t+=i.length;let n=new ArrayBuffer(t),s=new Uint8Array(n);for(let i of e)s.set(i,r),r+=i.length;return s}o(Fb,"utilConcatView");function TC(){let e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let d=e[0]===255&&e[1]&128,p=e[0]===0&&(e[1]&128)===0;(d||p)&&this.warnings.push("Needlessly long format")}let t=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(t);for(let d=0;d<this.valueHex.byteLength;d++)r[d]=0;r[0]=e[0]&128;let n=Mo(r,8),s=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(s);for(let d=0;d<this.valueHex.byteLength;d++)i[d]=e[d];return i[0]&=127,Mo(i,8)-n}o(TC,"utilDecodeTC");function I4(e){let t=e<0?e*-1:e,r=128;for(let n=1;n<8;n++){if(t<=r){if(e<0){let a=r-t,d=xi(a,8,n),p=new Uint8Array(d);return p[0]|=128,d}let s=xi(t,8,n),i=new Uint8Array(s);if(i[0]&128){let a=s.slice(0),d=new Uint8Array(a);s=new ArrayBuffer(s.byteLength+1),i=new Uint8Array(s);for(let p=0;p<a.byteLength;p++)i[p+1]=d[p];i[0]=0}return s}r*=Math.pow(2,8)}return new ArrayBuffer(0)}o(I4,"utilEncodeTC");function B4(e,t){if(e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),n=new Uint8Array(t);for(let s=0;s<r.length;s++)if(r[s]!==n[s])return!1;return!0}o(B4,"isEqualBuffer");function Cr(e,t){let r=e.toString(10);if(t<r.length)return"";let n=t-r.length,s=new Array(n);for(let a=0;a<n;a++)s[a]="0";return s.join("").concat(r)}o(Cr,"padNumber");var Hwt=Math.log(2);function jb(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}o(jb,"assertBigInt");function RC(e){let t=0,r=0;for(let s=0;s<e.length;s++){let i=e[s];t+=i.byteLength}let n=new Uint8Array(t);for(let s=0;s<e.length;s++){let i=e[s];n.set(new Uint8Array(i),r),r+=i.byteLength}return n.buffer}o(RC,"concat");function Rs(e,t,r,n){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):n<0?(e.error="Wrong parameter: inputLength less than zero",!1):t.byteLength-r-n<0?(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}o(Rs,"checkBufferParams");var fc=class{static{o(this,"ViewWriter")}constructor(){this.items=[]}write(t){this.items.push(t)}final(){return RC(this.items)}},El=[new Uint8Array([1])],D4="0123456789",OC="name",N4="valueHexView",yie="isHexOnly",bie="idBlock",xie="tagClass",vie="tagNumber",_ie="isConstructed",Sie="fromBER",wie="toBER",Eie="local",Ar="",ss=new ArrayBuffer(0),ex=new Uint8Array(0),Al="EndOfContent",F4="OCTET STRING",j4="BIT STRING";function is(e){var t;return t=class extends e{static{o(this,"Some")}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}constructor(...n){var s;super(...n);let i=n[0]||{};this.isHexOnly=(s=i.isHexOnly)!==null&&s!==void 0?s:!1,this.valueHexView=i.valueHex?pe.BufferSourceConverter.toUint8Array(i.valueHex):ex}fromBER(n,s,i){let a=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!Rs(this,a,s,i))return-1;let d=s+i;return this.valueHexView=a.subarray(s,d),this.valueHexView.length?(this.blockLength=i,d):(this.warnings.push("Zero buffer length"),s)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",ss)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:pe.Convert.ToHex(this.valueHexView)}}},t.NAME="hexBlock",t}o(is,"HexBlock");var Ts=class{static{o(this,"LocalBaseBlock")}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(t){this.valueBeforeDecodeView=new Uint8Array(t)}constructor({blockLength:t=0,error:r=Ar,warnings:n=[],valueBeforeDecode:s=ex}={}){this.blockLength=t,this.error=r,this.warnings=n,this.valueBeforeDecodeView=pe.BufferSourceConverter.toUint8Array(s)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:pe.Convert.ToHex(this.valueBeforeDecodeView)}}};Ts.NAME="baseBlock";var Mt=class extends Ts{static{o(this,"ValueBlock")}fromBER(t,r,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}};Mt.NAME="valueBlock";var Ub=class extends is(Ts){static{o(this,"LocalIdentificationBlock")}constructor({idBlock:t={}}={}){var r,n,s,i;super(),t?(this.isHexOnly=(r=t.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=t.valueHex?pe.BufferSourceConverter.toUint8Array(t.valueHex):ex,this.tagClass=(n=t.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(s=t.tagNumber)!==null&&s!==void 0?s:-1,this.isConstructed=(i=t.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(t=!1){let r=0;switch(this.tagClass){case 1:r|=0;break;case 2:r|=64;break;case 3:r|=128;break;case 4:r|=192;break;default:return this.error="Unknown tag class",ss}if(this.isConstructed&&(r|=32),this.tagNumber<31&&!this.isHexOnly){let s=new Uint8Array(1);if(!t){let i=this.tagNumber;i&=31,r|=i,s[0]=r}return s.buffer}if(!this.isHexOnly){let s=xi(this.tagNumber,7),i=new Uint8Array(s),a=s.byteLength,d=new Uint8Array(a+1);if(d[0]=r|31,!t){for(let p=0;p<a-1;p++)d[p+1]=i[p]|128;d[a]=i[a-1]}return d.buffer}let n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=r|31,!t){let s=this.valueHexView;for(let i=0;i<s.length-1;i++)n[i+1]=s[i]|128;n[this.valueHexView.byteLength]=s[s.length-1]}return n.buffer}fromBER(t,r,n){let s=pe.BufferSourceConverter.toUint8Array(t);if(!Rs(this,s,r,n))return-1;let i=s.subarray(r,r+n);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;let d=i[0]&31;if(d!==31)this.tagNumber=d,this.blockLength=1;else{let p=1,f=this.valueHexView=new Uint8Array(255),m=255;for(;i[p]&128;){if(f[p-1]=i[p]&127,p++,p>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(p===m){m+=255;let g=new Uint8Array(m);for(let y=0;y<f.length;y++)g[y]=f[y];f=this.valueHexView=new Uint8Array(m)}}this.blockLength=p+1,f[p-1]=i[p]&127;let h=new Uint8Array(p);for(let g=0;g<p;g++)h[g]=f[g];f=this.valueHexView=new Uint8Array(p),f.set(h),this.blockLength<=9?this.tagNumber=Mo(f,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return r+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}};Ub.NAME="identificationBlock";var qb=class extends Ts{static{o(this,"LocalLengthBlock")}constructor({lenBlock:t={}}={}){var r,n,s;super(),this.isIndefiniteForm=(r=t.isIndefiniteForm)!==null&&r!==void 0?r:!1,this.longFormUsed=(n=t.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(s=t.length)!==null&&s!==void 0?s:0}fromBER(t,r,n){let s=pe.BufferSourceConverter.toUint8Array(t);if(!Rs(this,s,r,n))return-1;let i=s.subarray(r,r+n);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,r+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,r+this.blockLength;let a=i[0]&127;if(a>8)return this.error="Too big integer",-1;if(a+1>i.length)return this.error="End of input reached before message was fully decoded",-1;let d=r+1,p=s.subarray(d,d+a);return p[a-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=Mo(p,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,r+this.blockLength}toBER(t=!1){let r,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return r=new ArrayBuffer(1),t===!1&&(n=new Uint8Array(r),n[0]=128),r;if(this.longFormUsed){let s=xi(this.length,8);if(s.byteLength>127)return this.error="Too big length",ss;if(r=new ArrayBuffer(s.byteLength+1),t)return r;let i=new Uint8Array(s);n=new Uint8Array(r),n[0]=s.byteLength|128;for(let a=0;a<s.byteLength;a++)n[a+1]=i[a];return r}return r=new ArrayBuffer(1),t===!1&&(n=new Uint8Array(r),n[0]=this.length),r}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}};qb.NAME="lengthBlock";var z={},at=class extends Ts{static{o(this,"BaseBlock")}constructor({name:t=Ar,optional:r=!1,primitiveSchema:n,...s}={},i){super(s),this.name=t,this.optional=r,n&&(this.primitiveSchema=n),this.idBlock=new Ub(s),this.lenBlock=new qb(s),this.valueBlock=i?new i(s):new Mt(s)}fromBER(t,r,n){let s=this.valueBlock.fromBER(t,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return s===-1?(this.error=this.valueBlock.error,s):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}toBER(t,r){let n=r||new fc;r||U4(this);let s=this.idBlock.toBER(t);if(n.write(s),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(t,n),n.write(new ArrayBuffer(2));else{let i=this.valueBlock.toBER(t);this.lenBlock.length=i.byteLength;let a=this.lenBlock.toBER(t);n.write(a),n.write(i)}return r?ss:n.final()}toJSON(){let t={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(t.primitiveSchema=this.primitiveSchema.toJSON()),t}toString(t="ascii"){return t==="ascii"?this.onAsciiEncoding():pe.Convert.ToHex(this.toBER())}onAsciiEncoding(){let t=this.constructor.NAME,r=pe.Convert.ToHex(this.valueBlock.valueBeforeDecodeView);return`${t} : ${r}`}isEqual(t){if(this===t)return!0;if(!(t instanceof this.constructor))return!1;let r=this.toBER(),n=t.toBER();return B4(r,n)}};at.NAME="BaseBlock";function U4(e){var t;if(e instanceof z.Constructed)for(let r of e.valueBlock.value)U4(r)&&(e.lenBlock.isIndefiniteForm=!0);return!!(!((t=e.lenBlock)===null||t===void 0)&&t.isIndefiniteForm)}o(U4,"prepareIndefiniteForm");var Tl=class extends at{static{o(this,"BaseStringBlock")}getValue(){return this.valueBlock.value}setValue(t){this.valueBlock.value=t}constructor({value:t=Ar,...r}={},n){super(r,n),t&&this.fromString(t)}fromBER(t,r,n){let s=this.valueBlock.fromBER(t,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return s===-1?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}};Tl.NAME="BaseStringBlock";var Hb=class extends is(Mt){static{o(this,"LocalPrimitiveValueBlock")}constructor({isHexOnly:t=!0,...r}={}){super(r),this.isHexOnly=t}};Hb.NAME="PrimitiveValueBlock";var q4,Os=class extends at{static{o(this,"Primitive")}constructor(t={}){super(t,Hb),this.idBlock.isConstructed=!1}};q4=Os;z.Primitive=q4;Os.NAME="PRIMITIVE";function Cie(e,t){if(e instanceof t)return e;let r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}o(Cie,"localChangeType");function hc(e,t=0,r=e.length){let n=t,s=new at({},Mt),i=new Ts;if(!Rs(i,e,t,r))return s.error=i.error,{offset:-1,result:s};if(!e.subarray(t,t+r).length)return s.error="Zero buffer length",{offset:-1,result:s};let d=s.idBlock.fromBER(e,t,r);if(s.idBlock.warnings.length&&s.warnings.concat(s.idBlock.warnings),d===-1)return s.error=s.idBlock.error,{offset:-1,result:s};if(t=d,r-=s.idBlock.blockLength,d=s.lenBlock.fromBER(e,t,r),s.lenBlock.warnings.length&&s.warnings.concat(s.lenBlock.warnings),d===-1)return s.error=s.lenBlock.error,{offset:-1,result:s};if(t=d,r-=s.lenBlock.blockLength,!s.idBlock.isConstructed&&s.lenBlock.isIndefiniteForm)return s.error="Indefinite length form used for primitive encoding form",{offset:-1,result:s};let p=at;switch(s.idBlock.tagClass){case 1:if(s.idBlock.tagNumber>=37&&s.idBlock.isHexOnly===!1)return s.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:s};switch(s.idBlock.tagNumber){case 0:if(s.idBlock.isConstructed&&s.lenBlock.length>0)return s.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:s};p=z.EndOfContent;break;case 1:p=z.Boolean;break;case 2:p=z.Integer;break;case 3:p=z.BitString;break;case 4:p=z.OctetString;break;case 5:p=z.Null;break;case 6:p=z.ObjectIdentifier;break;case 10:p=z.Enumerated;break;case 12:p=z.Utf8String;break;case 13:p=z.RelativeObjectIdentifier;break;case 14:p=z.TIME;break;case 15:return s.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:s};case 16:p=z.Sequence;break;case 17:p=z.Set;break;case 18:p=z.NumericString;break;case 19:p=z.PrintableString;break;case 20:p=z.TeletexString;break;case 21:p=z.VideotexString;break;case 22:p=z.IA5String;break;case 23:p=z.UTCTime;break;case 24:p=z.GeneralizedTime;break;case 25:p=z.GraphicString;break;case 26:p=z.VisibleString;break;case 27:p=z.GeneralString;break;case 28:p=z.UniversalString;break;case 29:p=z.CharacterString;break;case 30:p=z.BmpString;break;case 31:p=z.DATE;break;case 32:p=z.TimeOfDay;break;case 33:p=z.DateTime;break;case 34:p=z.Duration;break;default:{let f=s.idBlock.isConstructed?new z.Constructed:new z.Primitive;f.idBlock=s.idBlock,f.lenBlock=s.lenBlock,f.warnings=s.warnings,s=f}}break;case 2:case 3:case 4:default:p=s.idBlock.isConstructed?z.Constructed:z.Primitive}return s=Cie(s,p),d=s.fromBER(e,t,s.lenBlock.isIndefiniteForm?r:s.lenBlock.length),s.valueBeforeDecodeView=e.subarray(n,n+s.blockLength),{offset:d,result:s}}o(hc,"localFromBER");function Ms(e){if(!e.byteLength){let t=new at({},Mt);return t.error="Input buffer has zero length",{offset:-1,result:t}}return hc(pe.BufferSourceConverter.toUint8Array(e).slice(),0,e.byteLength)}o(Ms,"fromBER");function Aie(e,t){return e?1:t}o(Aie,"checkLen");var rs=class extends Mt{static{o(this,"LocalConstructedValueBlock")}constructor({value:t=[],isIndefiniteForm:r=!1,...n}={}){super(n),this.value=t,this.isIndefiniteForm=r}fromBER(t,r,n){let s=pe.BufferSourceConverter.toUint8Array(t);if(!Rs(this,s,r,n))return-1;if(this.valueBeforeDecodeView=s.subarray(r,r+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),r;let i=r;for(;Aie(this.isIndefiniteForm,n)>0;){let a=hc(s,i,n);if(a.offset===-1)return this.error=a.result.error,this.warnings.concat(a.result.warnings),-1;if(i=a.offset,this.blockLength+=a.result.blockLength,n-=a.result.blockLength,this.value.push(a.result),this.isIndefiniteForm&&a.result.constructor.NAME===Al)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Al?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(t,r){let n=r||new fc;for(let s=0;s<this.value.length;s++)this.value[s].toBER(t,n);return r?ss:n.final()}toJSON(){let t={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let r of this.value)t.value.push(r.toJSON());return t}};rs.NAME="ConstructedValueBlock";var H4,ct=class extends at{static{o(this,"Constructed")}constructor(t={}){super(t,rs),this.idBlock.isConstructed=!0}fromBER(t,r,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let s=this.valueBlock.fromBER(t,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return s===-1?(this.error=this.valueBlock.error,s):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}onAsciiEncoding(){let t=[];for(let n of this.valueBlock.value)t.push(n.toString("ascii").split(`
`).map(s=>`  ${s}`).join(`
`));let r=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return t.length?`${r} :
${t.join(`
`)}`:`${r} :`}};H4=ct;z.Constructed=H4;ct.NAME="CONSTRUCTED";var zb=class extends Mt{static{o(this,"LocalEndOfContentValueBlock")}fromBER(t,r,n){return r}toBER(t){return ss}};zb.override="EndOfContentValueBlock";var z4,Ol=class extends at{static{o(this,"EndOfContent")}constructor(t={}){super(t,zb),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}};z4=Ol;z.EndOfContent=z4;Ol.NAME=Al;var $4,Rn=class extends at{static{o(this,"Null")}constructor(t={}){super(t,Mt),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(t,r,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,r+n>t.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):r+n}toBER(t,r){let n=new ArrayBuffer(2);if(!t){let s=new Uint8Array(n);s[0]=5,s[1]=0}return r&&r.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}};$4=Rn;z.Null=$4;Rn.NAME="NULL";var $b=class extends is(Mt){static{o(this,"LocalBooleanValueBlock")}get value(){for(let t of this.valueHexView)if(t>0)return!0;return!1}set value(t){this.valueHexView[0]=t?255:0}constructor({value:t,...r}={}){super(r),r.valueHex?this.valueHexView=pe.BufferSourceConverter.toUint8Array(r.valueHex):this.valueHexView=new Uint8Array(1),t&&(this.value=t)}fromBER(t,r,n){let s=pe.BufferSourceConverter.toUint8Array(t);return Rs(this,s,r,n)?(this.valueHexView=s.subarray(r,r+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,TC.call(this),this.blockLength=n,r+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}};$b.NAME="BooleanValueBlock";var J4,Po=class extends at{static{o(this,"Boolean")}getValue(){return this.valueBlock.value}setValue(t){this.valueBlock.value=t}constructor(t={}){super(t,$b),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};J4=Po;z.Boolean=J4;Po.NAME="BOOLEAN";var Jb=class extends is(rs){static{o(this,"LocalOctetStringValueBlock")}constructor({isConstructed:t=!1,...r}={}){super(r),this.isConstructed=t}fromBER(t,r,n){let s=0;if(this.isConstructed){if(this.isHexOnly=!1,s=rs.prototype.fromBER.call(this,t,r,n),s===-1)return s;for(let i=0;i<this.value.length;i++){let a=this.value[i].constructor.NAME;if(a===Al){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(a!==F4)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,s=super.fromBER(t,r,n),this.blockLength=n;return s}toBER(t,r){return this.isConstructed?rs.prototype.toBER.call(this,t,r):t?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}};Jb.NAME="OctetStringValueBlock";var MC,Mn=class extends at{static{o(this,"OctetString")}constructor({idBlock:t={},lenBlock:r={},...n}={}){var s,i;(s=n.isConstructed)!==null&&s!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...t},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},Jb),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(t,r,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),r;if(!this.valueBlock.isConstructed){let i=(t instanceof ArrayBuffer?new Uint8Array(t):t).subarray(r,r+n);try{if(i.byteLength){let a=hc(i,0,i.byteLength);a.offset!==-1&&a.offset===n&&(this.valueBlock.value=[a.result])}}catch{}}return super.fromBER(t,r,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return ct.prototype.onAsciiEncoding.call(this);let t=this.constructor.NAME,r=pe.Convert.ToHex(this.valueBlock.valueHexView);return`${t} : ${r}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let t=[];for(let r of this.valueBlock.value)r instanceof MC&&t.push(r.valueBlock.valueHexView);return pe.BufferSourceConverter.concat(t)}};MC=Mn;z.OctetString=MC;Mn.NAME=F4;var Vb=class extends is(rs){static{o(this,"LocalBitStringValueBlock")}constructor({unusedBits:t=0,isConstructed:r=!1,...n}={}){super(n),this.unusedBits=t,this.isConstructed=r,this.blockLength=this.valueHexView.byteLength}fromBER(t,r,n){if(!n)return r;let s=-1;if(this.isConstructed){if(s=rs.prototype.fromBER.call(this,t,r,n),s===-1)return s;for(let d of this.value){let p=d.constructor.NAME;if(p===Al){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(p!==j4)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let f=d.valueBlock;if(this.unusedBits>0&&f.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=f.unusedBits}return s}let i=pe.BufferSourceConverter.toUint8Array(t);if(!Rs(this,i,r,n))return-1;let a=i.subarray(r,r+n);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let d=a.subarray(1);try{if(d.byteLength){let p=hc(d,0,d.byteLength);p.offset!==-1&&p.offset===n-1&&(this.value=[p.result])}}catch{}}return this.valueHexView=a.subarray(1),this.blockLength=a.length,r+n}toBER(t,r){if(this.isConstructed)return rs.prototype.toBER.call(this,t,r);if(t)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength){let s=new Uint8Array(1);return s[0]=0,s.buffer}let n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}};Vb.NAME="BitStringValueBlock";var V4,Pn=class extends at{static{o(this,"BitString")}constructor({idBlock:t={},lenBlock:r={},...n}={}){var s,i;(s=n.isConstructed)!==null&&s!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...t},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},Vb),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(t,r,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(t,r,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return ct.prototype.onAsciiEncoding.call(this);{let t=[],r=this.valueBlock.valueHexView;for(let a of r)t.push(a.toString(2).padStart(8,"0"));let n=t.join(""),s=this.constructor.NAME,i=n.substring(0,n.length-this.valueBlock.unusedBits);return`${s} : ${i}`}}};V4=Pn;z.BitString=V4;Pn.NAME=j4;var K4;function Tie(e,t){let r=new Uint8Array([0]),n=new Uint8Array(e),s=new Uint8Array(t),i=n.slice(0),a=i.length-1,d=s.slice(0),p=d.length-1,f=0,m=p<a?a:p,h=0;for(let g=m;g>=0;g--,h++){switch(!0){case h<d.length:f=i[a-h]+d[p-h]+r[0];break;default:f=i[a-h]+r[0]}switch(r[0]=f/10,!0){case h>=i.length:i=Fb(new Uint8Array([f%10]),i);break;default:i[a-h]=f%10}}return r[0]>0&&(i=Fb(r,i)),i}o(Tie,"viewAdd");function L4(e){if(e>=El.length)for(let t=El.length;t<=e;t++){let r=new Uint8Array([0]),n=El[t-1].slice(0);for(let s=n.length-1;s>=0;s--){let i=new Uint8Array([(n[s]<<1)+r[0]]);r[0]=i[0]/10,n[s]=i[0]%10}r[0]>0&&(n=Fb(r,n)),El.push(n)}return El[e]}o(L4,"power2");function Oie(e,t){let r=0,n=new Uint8Array(e),s=new Uint8Array(t),i=n.slice(0),a=i.length-1,d=s.slice(0),p=d.length-1,f,m=0;for(let h=p;h>=0;h--,m++)switch(f=i[a-m]-d[p-m]-r,!0){case f<0:r=1,i[a-m]=f+10;break;default:r=0,i[a-m]=f}if(r>0)for(let h=a-p+1;h>=0;h--,m++)if(f=i[a-m]-r,f<0)r=1,i[a-m]=f+10;else{r=0,i[a-m]=f;break}return i.slice()}o(Oie,"viewSub");var kl=class extends is(Mt){static{o(this,"LocalIntegerValueBlock")}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=TC.call(this)))}constructor({value:t,...r}={}){super(r),this._valueDec=0,r.valueHex&&this.setValueHex(),t!==void 0&&(this.valueDec=t)}set valueDec(t){this._valueDec=t,this.isHexOnly=!1,this.valueHexView=new Uint8Array(I4(t))}get valueDec(){return this._valueDec}fromDER(t,r,n,s=0){let i=this.fromBER(t,r,n);if(i===-1)return i;let a=this.valueHexView;return a[0]===0&&(a[1]&128)!==0?this.valueHexView=a.subarray(1):s!==0&&a.length<s&&(s-a.length>1&&(s=a.length+1),this.valueHexView=a.subarray(s-a.length)),i}toDER(t=!1){let r=this.valueHexView;switch(!0){case(r[0]&128)!==0:{let n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(r,1),this.valueHexView=n}break;case(r[0]===0&&(r[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(t)}fromBER(t,r,n){let s=super.fromBER(t,r,n);return s===-1||this.setValueHex(),s}toBER(t){return t?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let t=this.valueHexView.length*8-1,r=new Uint8Array(this.valueHexView.length*8/3),n=0,s,i=this.valueHexView,a="",d=!1;for(let p=i.byteLength-1;p>=0;p--){s=i[p];for(let f=0;f<8;f++){if((s&1)===1)switch(n){case t:r=Oie(L4(n),r),a="-";break;default:r=Tie(r,L4(n))}n++,s>>=1}}for(let p=0;p<r.length;p++)r[p]&&(d=!0),d&&(a+=D4.charAt(r[p]));return d===!1&&(a+=D4.charAt(0)),a}};K4=kl;kl.NAME="IntegerValueBlock";Object.defineProperty(K4.prototype,"valueHex",{set:o(function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},"set"),get:o(function(){return this.valueHexView.slice().buffer},"get")});var Cl,ks=class extends at{static{o(this,"Integer")}constructor(t={}){super(t,kl),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return jb(),BigInt(this.valueBlock.toString())}static fromBigInt(t){jb();let r=BigInt(t),n=new fc,s=r.toString(16).replace(/^-/,""),i=new Uint8Array(pe.Convert.FromHex(s));if(r<0){let d=new Uint8Array(i.length+(i[0]&128?1:0));d[0]|=128;let f=BigInt(`0x${pe.Convert.ToHex(d)}`)+r,m=pe.BufferSourceConverter.toUint8Array(pe.Convert.FromHex(f.toString(16)));m[0]|=128,n.write(m)}else i[0]&128&&n.write(new Uint8Array([0])),n.write(i);return new Cl({valueHex:n.final()})}convertToDER(){let t=new Cl({valueHex:this.valueBlock.valueHexView});return t.valueBlock.toDER(),t}convertFromDER(){return new Cl({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}};Cl=ks;z.Integer=Cl;ks.NAME="INTEGER";var G4,Io=class extends ks{static{o(this,"Enumerated")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}};G4=Io;z.Enumerated=G4;Io.NAME="ENUMERATED";var Rl=class extends is(Mt){static{o(this,"LocalSidValueBlock")}constructor({valueDec:t=-1,isFirstSid:r=!1,...n}={}){super(n),this.valueDec=t,this.isFirstSid=r}fromBER(t,r,n){if(!n)return r;let s=pe.BufferSourceConverter.toUint8Array(t);if(!Rs(this,s,r,n))return-1;let i=s.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let d=0;d<n&&(this.valueHexView[d]=i[d]&127,this.blockLength++,(i[d]&128)!==0);d++);let a=new Uint8Array(this.blockLength);for(let d=0;d<this.blockLength;d++)a[d]=this.valueHexView[d];return this.valueHexView=a,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Mo(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}set valueBigInt(t){jb();let r=BigInt(t).toString(2);for(;r.length%7;)r="0"+r;let n=new Uint8Array(r.length/7);for(let s=0;s<n.length;s++)n[s]=parseInt(r.slice(s*7,s*7+7),2)+(s+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);let s=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=s[a]|128;return i[this.blockLength-1]=s[this.blockLength-1],i.buffer}let r=xi(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",ss;let n=new Uint8Array(r.byteLength);if(!t){let s=new Uint8Array(r),i=r.byteLength-1;for(let a=0;a<i;a++)n[a]=s[a]|128;n[i]=s[i]}return n}toString(){let t="";if(this.isHexOnly)t=pe.Convert.ToHex(this.valueHexView);else if(this.isFirstSid){let r=this.valueDec;this.valueDec<=39?t="0.":this.valueDec<=79?(t="1.",r-=40):(t="2.",r-=80),t+=r.toString()}else t=this.valueDec.toString();return t}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}};Rl.NAME="sidBlock";var Kb=class extends Mt{static{o(this,"LocalObjectIdentifierValueBlock")}constructor({value:t=Ar,...r}={}){super(r),this.value=[],t&&this.fromString(t)}fromBER(t,r,n){let s=r;for(;n>0;){let i=new Rl;if(s=i.fromBER(t,s,n),s===-1)return this.blockLength=0,this.error=i.error,s;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return s}toBER(t){let r=[];for(let n=0;n<this.value.length;n++){let s=this.value[n].toBER(t);if(s.byteLength===0)return this.error=this.value[n].error,ss;r.push(s)}return RC(r)}fromString(t){this.value=[];let r=0,n=0,s="",i=!1;do if(n=t.indexOf(".",r),n===-1?s=t.substring(r):s=t.substring(r,n),r=n+1,i){let a=this.value[0],d=0;switch(a.valueDec){case 0:break;case 1:d=40;break;case 2:d=80;break;default:this.value=[];return}let p=parseInt(s,10);if(isNaN(p))return;a.valueDec=p+d,i=!1}else{let a=new Rl;if(s>Number.MAX_SAFE_INTEGER){jb();let d=BigInt(s);a.valueBigInt=d}else if(a.valueDec=parseInt(s,10),isNaN(a.valueDec))return;this.value.length||(a.isFirstSid=!0,i=!0),this.value.push(a)}while(n!==-1)}toString(){let t="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let s=this.value[n].toString();n!==0&&(t=`${t}.`),r?(s=`{${s}}`,this.value[n].isFirstSid?t=`2.{${s} - 80}`:t+=s):t+=s}return t}toJSON(){let t={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)t.sidArray.push(this.value[r].toJSON());return t}};Kb.NAME="ObjectIdentifierValueBlock";var W4,Bo=class extends at{static{o(this,"ObjectIdentifier")}getValue(){return this.valueBlock.toString()}setValue(t){this.valueBlock.fromString(t)}constructor(t={}){super(t,Kb),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};W4=Bo;z.ObjectIdentifier=W4;Bo.NAME="OBJECT IDENTIFIER";var Ml=class extends is(Ts){static{o(this,"LocalRelativeSidValueBlock")}constructor({valueDec:t=0,...r}={}){super(r),this.valueDec=t}fromBER(t,r,n){if(n===0)return r;let s=pe.BufferSourceConverter.toUint8Array(t);if(!Rs(this,s,r,n))return-1;let i=s.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let d=0;d<n&&(this.valueHexView[d]=i[d]&127,this.blockLength++,(i[d]&128)!==0);d++);let a=new Uint8Array(this.blockLength);for(let d=0;d<this.blockLength;d++)a[d]=this.valueHexView[d];return this.valueHexView=a,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Mo(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);let s=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=s[a]|128;return i[this.blockLength-1]=s[this.blockLength-1],i.buffer}let r=xi(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",ss;let n=new Uint8Array(r.byteLength);if(!t){let s=new Uint8Array(r),i=r.byteLength-1;for(let a=0;a<i;a++)n[a]=s[a]|128;n[i]=s[i]}return n.buffer}toString(){let t="";return this.isHexOnly?t=pe.Convert.ToHex(this.valueHexView):t=this.valueDec.toString(),t}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}};Ml.NAME="relativeSidBlock";var Gb=class extends Mt{static{o(this,"LocalRelativeObjectIdentifierValueBlock")}constructor({value:t=Ar,...r}={}){super(r),this.value=[],t&&this.fromString(t)}fromBER(t,r,n){let s=r;for(;n>0;){let i=new Ml;if(s=i.fromBER(t,s,n),s===-1)return this.blockLength=0,this.error=i.error,s;this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return s}toBER(t,r){let n=[];for(let s=0;s<this.value.length;s++){let i=this.value[s].toBER(t);if(i.byteLength===0)return this.error=this.value[s].error,ss;n.push(i)}return RC(n)}fromString(t){this.value=[];let r=0,n=0,s="";do{n=t.indexOf(".",r),n===-1?s=t.substring(r):s=t.substring(r,n),r=n+1;let i=new Ml;if(i.valueDec=parseInt(s,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(n!==-1);return!0}toString(){let t="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let s=this.value[n].toString();n!==0&&(t=`${t}.`),r&&(s=`{${s}}`),t+=s}return t}toJSON(){let t={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)t.sidArray.push(this.value[r].toJSON());return t}};Gb.NAME="RelativeObjectIdentifierValueBlock";var Y4,Pl=class extends at{static{o(this,"RelativeObjectIdentifier")}getValue(){return this.valueBlock.toString()}setValue(t){this.valueBlock.fromString(t)}constructor(t={}){super(t,Gb),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};Y4=Pl;z.RelativeObjectIdentifier=Y4;Pl.NAME="RelativeObjectIdentifier";var Q4,Vt=class extends ct{static{o(this,"Sequence")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}};Q4=Vt;z.Sequence=Q4;Vt.NAME="SEQUENCE";var X4,ur=class extends ct{static{o(this,"Set")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};X4=ur;z.Set=X4;ur.NAME="SET";var Wb=class extends is(Mt){static{o(this,"LocalStringValueBlock")}constructor({...t}={}){super(t),this.isHexOnly=!0,this.value=Ar}toJSON(){return{...super.toJSON(),value:this.value}}};Wb.NAME="StringValueBlock";var Yb=class extends Wb{static{o(this,"LocalSimpleStringValueBlock")}};Yb.NAME="SimpleStringValueBlock";var lr=class extends Tl{static{o(this,"LocalSimpleStringBlock")}constructor({...t}={}){super(t,Yb)}fromBuffer(t){this.valueBlock.value=String.fromCharCode.apply(null,pe.BufferSourceConverter.toUint8Array(t))}fromString(t){let r=t.length,n=this.valueBlock.valueHexView=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.charCodeAt(s);this.valueBlock.value=t}};lr.NAME="SIMPLE STRING";var Qb=class extends lr{static{o(this,"LocalUtf8StringValueBlock")}fromBuffer(t){this.valueBlock.valueHexView=pe.BufferSourceConverter.toUint8Array(t);try{this.valueBlock.value=pe.Convert.ToUtf8String(t)}catch(r){this.warnings.push(`Error during "decodeURIComponent": ${r}, using raw string`),this.valueBlock.value=pe.Convert.ToBinary(t)}}fromString(t){this.valueBlock.valueHexView=new Uint8Array(pe.Convert.FromUtf8String(t)),this.valueBlock.value=t}};Qb.NAME="Utf8StringValueBlock";var Z4,un=class extends Qb{static{o(this,"Utf8String")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}};Z4=un;z.Utf8String=Z4;un.NAME="UTF8String";var Xb=class extends lr{static{o(this,"LocalBmpStringValueBlock")}fromBuffer(t){this.valueBlock.value=pe.Convert.ToUtf16String(t),this.valueBlock.valueHexView=pe.BufferSourceConverter.toUint8Array(t)}fromString(t){this.valueBlock.value=t,this.valueBlock.valueHexView=new Uint8Array(pe.Convert.FromUtf16String(t))}};Xb.NAME="BmpStringValueBlock";var e8,Do=class extends Xb{static{o(this,"BmpString")}constructor({...t}={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}};e8=Do;z.BmpString=e8;Do.NAME="BMPString";var Zb=class extends lr{static{o(this,"LocalUniversalStringValueBlock")}fromBuffer(t){let r=ArrayBuffer.isView(t)?t.slice().buffer:t.slice(0),n=new Uint8Array(r);for(let s=0;s<n.length;s+=4)n[s]=n[s+3],n[s+1]=n[s+2],n[s+2]=0,n[s+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(r))}fromString(t){let r=t.length,n=this.valueBlock.valueHexView=new Uint8Array(r*4);for(let s=0;s<r;s++){let i=xi(t.charCodeAt(s),8),a=new Uint8Array(i);if(a.length>4)continue;let d=4-a.length;for(let p=a.length-1;p>=0;p--)n[s*4+p+d]=a[p]}this.valueBlock.value=t}};Zb.NAME="UniversalStringValueBlock";var t8,No=class extends Zb{static{o(this,"UniversalString")}constructor({...t}={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}};t8=No;z.UniversalString=t8;No.NAME="UniversalString";var r8,Lo=class extends lr{static{o(this,"NumericString")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}};r8=Lo;z.NumericString=r8;Lo.NAME="NumericString";var n8,Fo=class extends lr{static{o(this,"PrintableString")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}};n8=Fo;z.PrintableString=n8;Fo.NAME="PrintableString";var s8,jo=class extends lr{static{o(this,"TeletexString")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}};s8=jo;z.TeletexString=s8;jo.NAME="TeletexString";var i8,Uo=class extends lr{static{o(this,"VideotexString")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}};i8=Uo;z.VideotexString=i8;Uo.NAME="VideotexString";var o8,qo=class extends lr{static{o(this,"IA5String")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}};o8=qo;z.IA5String=o8;qo.NAME="IA5String";var a8,Ho=class extends lr{static{o(this,"GraphicString")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}};a8=Ho;z.GraphicString=a8;Ho.NAME="GraphicString";var c8,vi=class extends lr{static{o(this,"VisibleString")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}};c8=vi;z.VisibleString=c8;vi.NAME="VisibleString";var u8,zo=class extends lr{static{o(this,"GeneralString")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}};u8=zo;z.GeneralString=u8;zo.NAME="GeneralString";var l8,$o=class extends lr{static{o(this,"CharacterString")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}};l8=$o;z.CharacterString=l8;$o.NAME="CharacterString";var d8,_i=class extends vi{static{o(this,"UTCTime")}constructor({value:t,valueDate:r,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,t){this.fromString(t),this.valueBlock.valueHexView=new Uint8Array(t.length);for(let s=0;s<t.length;s++)this.valueBlock.valueHexView[s]=t.charCodeAt(s)}r&&(this.fromDate(r),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(t){this.fromString(String.fromCharCode.apply(null,pe.BufferSourceConverter.toUint8Array(t)))}toBuffer(){let t=this.toString(),r=new ArrayBuffer(t.length),n=new Uint8Array(r);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return r}fromDate(t){this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(t){let n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(t);if(n===null){this.error="Wrong input string for conversion";return}let s=parseInt(n[1],10);s>=50?this.year=1900+s:this.year=2e3+s,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(t="iso"){if(t==="iso"){let r=new Array(7);return r[0]=Cr(this.year<2e3?this.year-1900:this.year-2e3,2),r[1]=Cr(this.month,2),r[2]=Cr(this.day,2),r[3]=Cr(this.hour,2),r[4]=Cr(this.minute,2),r[5]=Cr(this.second,2),r[6]="Z",r.join("")}return super.toString(t)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}};d8=_i;z.UTCTime=d8;_i.NAME="UTCTime";var p8,Jo=class extends _i{static{o(this,"GeneralizedTime")}constructor(t={}){var r;super(t),(r=this.millisecond)!==null&&r!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(t){super.fromDate(t),this.millisecond=t.getUTCMilliseconds()}toDate(){let t=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(t)}fromString(t){let r=!1,n="",s="",i=0,a,d=0,p=0;if(t[t.length-1]==="Z")n=t.substring(0,t.length-1),r=!0;else{let h=new Number(t[t.length-1]);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");n=t}if(r){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let h=1,g=n.indexOf("+"),y="";if(g===-1&&(g=n.indexOf("-"),h=-1),g!==-1){if(y=n.substring(g+1),n=n.substring(0,g),y.length!==2&&y.length!==4)throw new Error("Wrong input string for conversion");let x=parseInt(y.substring(0,2),10);if(isNaN(x.valueOf()))throw new Error("Wrong input string for conversion");if(d=h*x,y.length===4){if(x=parseInt(y.substring(2,4),10),isNaN(x.valueOf()))throw new Error("Wrong input string for conversion");p=h*x}}}let f=n.indexOf(".");if(f===-1&&(f=n.indexOf(",")),f!==-1){let h=new Number(`0${n.substring(f)}`);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");i=h.valueOf(),s=n.substring(0,f)}else s=n;switch(!0){case s.length===8:if(a=/(\d{4})(\d{2})(\d{2})/ig,f!==-1)throw new Error("Wrong input string for conversion");break;case s.length===10:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let h=60*i;this.minute=Math.floor(h),h=60*(h-this.minute),this.second=Math.floor(h),h=1e3*(h-this.second),this.millisecond=Math.floor(h)}break;case s.length===12:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let h=60*i;this.second=Math.floor(h),h=1e3*(h-this.second),this.millisecond=Math.floor(h)}break;case s.length===14:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let h=1e3*i;this.millisecond=Math.floor(h)}break;default:throw new Error("Wrong input string for conversion")}let m=a.exec(s);if(m===null)throw new Error("Wrong input string for conversion");for(let h=1;h<m.length;h++)switch(h){case 1:this.year=parseInt(m[h],10);break;case 2:this.month=parseInt(m[h],10);break;case 3:this.day=parseInt(m[h],10);break;case 4:this.hour=parseInt(m[h],10)+d;break;case 5:this.minute=parseInt(m[h],10)+p;break;case 6:this.second=parseInt(m[h],10);break;default:throw new Error("Wrong input string for conversion")}if(r===!1){let h=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=h.getUTCFullYear(),this.month=h.getUTCMonth(),this.day=h.getUTCDay(),this.hour=h.getUTCHours(),this.minute=h.getUTCMinutes(),this.second=h.getUTCSeconds(),this.millisecond=h.getUTCMilliseconds()}}toString(t="iso"){if(t==="iso"){let r=[];return r.push(Cr(this.year,4)),r.push(Cr(this.month,2)),r.push(Cr(this.day,2)),r.push(Cr(this.hour,2)),r.push(Cr(this.minute,2)),r.push(Cr(this.second,2)),this.millisecond!==0&&(r.push("."),r.push(Cr(this.millisecond,3))),r.push("Z"),r.join("")}return super.toString(t)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}};p8=Jo;z.GeneralizedTime=p8;Jo.NAME="GeneralizedTime";var f8,Il=class extends un{static{o(this,"DATE")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};f8=Il;z.DATE=f8;Il.NAME="DATE";var m8,Bl=class extends un{static{o(this,"TimeOfDay")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}};m8=Bl;z.TimeOfDay=m8;Bl.NAME="TimeOfDay";var h8,Dl=class extends un{static{o(this,"DateTime")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}};h8=Dl;z.DateTime=h8;Dl.NAME="DateTime";var g8,Nl=class extends un{static{o(this,"Duration")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}};g8=Nl;z.Duration=g8;Nl.NAME="Duration";var y8,Ll=class extends un{static{o(this,"TIME")}constructor(t={}){super(t),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}};y8=Ll;z.TIME=y8;Ll.NAME="TIME";var ns=class{static{o(this,"Any")}constructor({name:t=Ar,optional:r=!1}={}){this.name=t,this.optional=r}},mc=class extends ns{static{o(this,"Choice")}constructor({value:t=[],...r}={}){super(r),this.value=t}},Vo=class extends ns{static{o(this,"Repeated")}constructor({value:t=new ns,local:r=!1,...n}={}){super(n),this.value=t,this.local=r}},kC=class{static{o(this,"RawData")}get data(){return this.dataView.slice().buffer}set data(t){this.dataView=pe.BufferSourceConverter.toUint8Array(t)}constructor({data:t=ex}={}){this.dataView=pe.BufferSourceConverter.toUint8Array(t)}fromBER(t,r,n){let s=r+n;return this.dataView=pe.BufferSourceConverter.toUint8Array(t).subarray(r,s),s}toBER(t){return this.dataView.slice().buffer}};function As(e,t,r){if(r instanceof mc){for(let i of r.value)if(As(e,t,i).verified)return{verified:!0,result:e};{let i={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(OC)&&(i.name=r.name),i}}if(r instanceof ns)return r.hasOwnProperty(OC)&&(e[r.name]=t),{verified:!0,result:e};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(bie in r))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(Sie in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(wie in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let n=r.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(r.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(r.idBlock.hasOwnProperty(xie)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(r.idBlock.hasOwnProperty(vie)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(r.idBlock.hasOwnProperty(_ie)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!(yie in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(!(N4 in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.valueHexView,a=t.idBlock.valueHexView;if(i.length!==a.length)return{verified:!1,result:e};for(let d=0;d<i.length;d++)if(i[d]!==a[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Ar),r.name&&(e[r.name]=t)),r instanceof z.Constructed){let i=0,a={verified:!1,result:{error:"Unknown error"}},d=r.valueBlock.value.length;if(d>0&&r.valueBlock.value[0]instanceof Vo&&(d=t.valueBlock.value.length),d===0)return{verified:!0,result:e};if(t.valueBlock.value.length===0&&r.valueBlock.value.length!==0){let p=!0;for(let f=0;f<r.valueBlock.value.length;f++)p=p&&(r.valueBlock.value[f].optional||!1);return p?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Ar),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let p=0;p<d;p++)if(p-i>=t.valueBlock.value.length){if(r.valueBlock.value[p].optional===!1){let f={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Ar),r.name&&(delete e[r.name],f.name=r.name)),f}}else if(r.valueBlock.value[0]instanceof Vo){if(a=As(e,t.valueBlock.value[p],r.valueBlock.value[0].value),a.verified===!1)if(r.valueBlock.value[0].optional)i++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Ar),r.name&&delete e[r.name]),a;if(OC in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let f={};Eie in r.valueBlock.value[0]&&r.valueBlock.value[0].local?f=t:f=e,typeof f[r.valueBlock.value[0].name]>"u"&&(f[r.valueBlock.value[0].name]=[]),f[r.valueBlock.value[0].name].push(t.valueBlock.value[p])}}else if(a=As(e,t.valueBlock.value[p-i],r.valueBlock.value[p]),a.verified===!1)if(r.valueBlock.value[p].optional)i++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Ar),r.name&&delete e[r.name]),a;if(a.verified===!1){let p={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Ar),r.name&&(delete e[r.name],p.name=r.name)),p}return{verified:!0,result:e}}if(r.primitiveSchema&&N4 in t.valueBlock){let i=hc(t.valueBlock.valueHexView);if(i.offset===-1){let a={verified:!1,result:i.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Ar),r.name&&(delete e[r.name],a.name=r.name)),a}return As(e,i.result,r.primitiveSchema)}return{verified:!0,result:e}}o(As,"compareSchema");function kie(e,t){if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=hc(pe.BufferSourceConverter.toUint8Array(e));return r.offset===-1?{verified:!1,result:r.result}:As(r.result,r.result,t)}o(kie,"verifySchema");l();u();c();var L;(function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"})(L||(L={}));var A;(function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"})(A||(A={}));l();u();c();l();u();c();var PC=Fr(bi());var Ko=class{static{o(this,"BitString")}constructor(t,r=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),t)if(typeof t=="number")this.fromNumber(t);else if(PC.BufferSourceConverter.isBufferSource(t))this.unusedBits=r,this.value=PC.BufferSourceConverter.toArrayBuffer(t);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(t){if(!(t instanceof Pn))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=t.valueBlock.unusedBits,this.value=t.valueBlock.valueHex,this}toASN(){return new Pn({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(t){return new Pn({name:t})}toNumber(){let t="",r=new Uint8Array(this.value);for(let n of r)t+=n.toString(2).padStart(8,"0");return t=t.split("").reverse().join(""),this.unusedBits&&(t=t.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(t,2)}fromNumber(t){let r=t.toString(2),n=r.length+7>>3;this.unusedBits=(n<<3)-r.length;let s=new Uint8Array(n);r=r.padStart(n<<3,"0").split("").reverse().join("");let i=0;for(;i<n;)s[i]=parseInt(r.slice(i<<3,(i<<3)+8),2),i++;this.value=s.buffer}};l();u();c();var IC=Fr(bi());var re=class{static{o(this,"OctetString")}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(t){typeof t=="number"?this.buffer=new ArrayBuffer(t):IC.BufferSourceConverter.isBufferSource(t)?this.buffer=IC.BufferSourceConverter.toArrayBuffer(t):Array.isArray(t)?this.buffer=new Uint8Array(t):this.buffer=new ArrayBuffer(0)}fromASN(t){if(!(t instanceof Mn))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=t.valueBlock.valueHex,this}toASN(){return new Mn({valueHex:this.buffer})}toSchema(t){return new Mn({name:t})}};var Rie={fromASN:o(e=>e instanceof Rn?null:e.valueBeforeDecodeView,"fromASN"),toASN:o(e=>{if(e===null)return new Rn;let t=Ms(e);if(t.result.error)throw new Error(t.result.error);return t.result},"toASN")},Mie={fromASN:o(e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,"fromASN"),toASN:o(e=>new ks({value:+e}),"toASN")},Pie={fromASN:o(e=>e.valueBlock.valueDec,"fromASN"),toASN:o(e=>new Io({value:e}),"toASN")},Ce={fromASN:o(e=>e.valueBlock.valueHexView,"fromASN"),toASN:o(e=>new ks({valueHex:e}),"toASN")};var Iie={fromASN:o(e=>e.valueBlock.valueHexView,"fromASN"),toASN:o(e=>new Pn({valueHex:e}),"toASN")},Bie={fromASN:o(e=>e.valueBlock.toString(),"fromASN"),toASN:o(e=>new Bo({value:e}),"toASN")},Die={fromASN:o(e=>e.valueBlock.value,"fromASN"),toASN:o(e=>new Po({value:e}),"toASN")},gc={fromASN:o(e=>e.valueBlock.valueHexView,"fromASN"),toASN:o(e=>new Mn({valueHex:e}),"toASN")};function ln(e){return{fromASN:o(t=>t.valueBlock.value,"fromASN"),toASN:o(t=>new e({value:t}),"toASN")}}o(ln,"createStringConverter");var Nie=ln(un),Lie=ln(Do),Fie=ln(No),jie=ln(Lo),Uie=ln(Fo),qie=ln(jo),Hie=ln(Uo),zie=ln(qo),$ie=ln(Ho),Jie=ln(vi),Vie=ln(zo),Kie=ln($o),Gie={fromASN:o(e=>e.toDate(),"fromASN"),toASN:o(e=>new _i({valueDate:e}),"toASN")},Wie={fromASN:o(e=>e.toDate(),"fromASN"),toASN:o(e=>new Jo({valueDate:e}),"toASN")},Yie={fromASN:o(()=>null,"fromASN"),toASN:o(()=>new Rn,"toASN")};function Si(e){switch(e){case A.Any:return Rie;case A.BitString:return Iie;case A.BmpString:return Lie;case A.Boolean:return Die;case A.CharacterString:return Kie;case A.Enumerated:return Pie;case A.GeneralString:return Vie;case A.GeneralizedTime:return Wie;case A.GraphicString:return $ie;case A.IA5String:return zie;case A.Integer:return Mie;case A.Null:return Yie;case A.NumericString:return jie;case A.ObjectIdentifier:return Bie;case A.OctetString:return gc;case A.PrintableString:return Uie;case A.TeletexString:return qie;case A.UTCTime:return Gie;case A.UniversalString:return Fie;case A.Utf8String:return Nie;case A.VideotexString:return Hie;case A.VisibleString:return Jie;default:return null}}o(Si,"defaultConverter");l();u();c();l();u();c();l();u();c();l();u();c();function dn(e){return typeof e=="function"&&e.prototype?e.prototype.toASN&&e.prototype.fromASN?!0:dn(e.prototype):!!(e&&typeof e=="object"&&"toASN"in e&&"fromASN"in e)}o(dn,"isConvertible");function DC(e){var t;if(e){let r=Object.getPrototypeOf(e);return((t=r?.prototype)===null||t===void 0?void 0:t.constructor)===Array?!0:DC(r)}return!1}o(DC,"isTypeOfArray");function b8(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),n=new Uint8Array(t);for(let s=0;s<e.byteLength;s++)if(r[s]!==n[s])return!1;return!0}o(b8,"isArrayEqual");var tx=class{static{o(this,"AsnSchemaStorage")}constructor(){this.items=new WeakMap}has(t){return this.items.has(t)}get(t,r=!1){let n=this.items.get(t);if(!n)throw new Error(`Cannot get schema for '${t.prototype.constructor.name}' target`);if(r&&!n.schema)throw new Error(`Schema '${t.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(t){let r=this.get(t);r.schema||(r.schema=this.create(t,!0))}createDefault(t){let r={type:L.Sequence,items:{}},n=this.findParentSchema(t);return n&&(Object.assign(r,n),r.items=Object.assign({},r.items,n.items)),r}create(t,r){let n=this.items.get(t)||this.createDefault(t),s=[];for(let i in n.items){let a=n.items[i],d=r?i:"",p;if(typeof a.type=="number"){let m=A[a.type],h=os[m];if(!h)throw new Error(`Cannot get ASN1 class by name '${m}'`);p=new h({name:d})}else dn(a.type)?p=new a.type().toSchema(d):a.optional?this.get(a.type).type===L.Choice?p=new ns({name:d}):(p=this.create(a.type,!1),p.name=d):p=new ns({name:d});let f=!!a.optional||a.defaultValue!==void 0;if(a.repeated){p.name="";let m=a.repeated==="set"?ur:Vt;p=new m({name:"",value:[new Vo({name:d,value:p})]})}if(a.context!==null&&a.context!==void 0)if(a.implicit)if(typeof a.type=="number"||dn(a.type)){let m=a.repeated?ct:Os;s.push(new m({name:d,optional:f,idBlock:{tagClass:3,tagNumber:a.context}}))}else{this.cache(a.type);let m=!!a.repeated,h=m?p:this.get(a.type,!0).schema;h="valueBlock"in h?h.valueBlock.value:h.value,s.push(new ct({name:m?"":d,optional:f,idBlock:{tagClass:3,tagNumber:a.context},value:h}))}else s.push(new ct({optional:f,idBlock:{tagClass:3,tagNumber:a.context},value:[p]}));else p.optional=f,s.push(p)}switch(n.type){case L.Sequence:return new Vt({value:s,name:""});case L.Set:return new ur({value:s,name:""});case L.Choice:return new mc({value:s,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(t,r){return this.items.set(t,r),this}findParentSchema(t){let r=Object.getPrototypeOf(t);return r?this.items.get(r)||this.findParentSchema(r):null}};var ut=new tx;var $=o(e=>t=>{let r;ut.has(t)?r=ut.get(t):(r=ut.createDefault(t),ut.set(t,r)),Object.assign(r,e)},"AsnType");var w=o(e=>(t,r)=>{let n;ut.has(t.constructor)?n=ut.get(t.constructor):(n=ut.createDefault(t.constructor),ut.set(t.constructor,n));let s=Object.assign({},e);if(typeof s.type=="number"&&!s.converter){let i=Si(e.type);if(!i)throw new Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);s.converter=i}s.raw=e.raw,n.items[r]=s},"AsnProp");l();u();c();l();u();c();l();u();c();var wi=class extends Error{static{o(this,"AsnSchemaValidationError")}constructor(){super(...arguments),this.schemas=[]}};var Re=class{static{o(this,"AsnParser")}static parse(t,r){let n=Ms(t);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,r)}static fromASN(t,r){try{if(dn(r))return new r().fromASN(t);let n=ut.get(r);ut.cache(r);let s=n.schema,i=this.handleChoiceTypes(t,n,r,s);if(i?.result)return i.result;i?.targetSchema&&(s=i.targetSchema);let a=this.handleSequenceTypes(t,n,r,s),d=new r;return DC(r)?this.handleArrayTypes(t,n,r):(this.processSchemaItems(n,a,d),d)}catch(n){throw n instanceof wi&&n.schemas.push(r.name),n}}static handleChoiceTypes(t,r,n,s){if(t.constructor===ct&&r.type===L.Choice&&t.idBlock.tagClass===3)for(let i in r.items){let a=r.items[i];if(a.context===t.idBlock.tagNumber&&a.implicit&&typeof a.type=="function"&&ut.has(a.type)){let d=ut.get(a.type);if(d&&d.type===L.Sequence){let p=new Vt;if("value"in t.valueBlock&&Array.isArray(t.valueBlock.value)&&"value"in p.valueBlock){p.valueBlock.value=t.valueBlock.value;let f=this.fromASN(p,a.type),m=new n;return m[i]=f,{result:m}}}}}else if(t.constructor===ct&&r.type!==L.Choice){let i=new ct({idBlock:{tagClass:3,tagNumber:t.idBlock.tagNumber},value:r.schema.valueBlock.value});for(let a in r.items)delete t[a];return{targetSchema:i}}return null}static handleSequenceTypes(t,r,n,s){if(r.type===L.Sequence){let i=As({},t,s);if(!i.verified)throw new wi(`Data does not match to ${n.name} ASN1 schema.${i.result.error?` ${i.result.error}`:""}`);return i}else{let i=As({},t,s);if(!i.verified)throw new wi(`Data does not match to ${n.name} ASN1 schema.${i.result.error?` ${i.result.error}`:""}`);return i}}static processRepeatedField(t,r,n){let s=t.slice(r);if(s.length===1&&s[0].constructor.name==="Sequence"){let i=s[0];i.valueBlock&&i.valueBlock.value&&Array.isArray(i.valueBlock.value)&&(s=i.valueBlock.value)}if(typeof n.type=="number"){let i=Si(n.type);if(!i)throw new Error(`No converter for ASN.1 type ${n.type}`);return s.filter(a=>a&&a.valueBlock).map(a=>{try{return i.fromASN(a)}catch{return}}).filter(a=>a!==void 0)}else return s.filter(i=>i&&i.valueBlock).map(i=>{try{return this.fromASN(i,n.type)}catch{return}}).filter(i=>i!==void 0)}static processPrimitiveField(t,r){let n=Si(r.type);if(!n)throw new Error(`No converter for ASN.1 type ${r.type}`);return n.fromASN(t)}static isOptionalChoiceField(t){return t.optional&&typeof t.type=="function"&&ut.has(t.type)&&ut.get(t.type).type===L.Choice}static processOptionalChoiceField(t,r){try{return{processed:!0,value:this.fromASN(t,r.type)}}catch(n){if(n instanceof wi&&/Wrong values for Choice type/.test(n.message))return{processed:!1};throw n}}static handleArrayTypes(t,r,n){if(!("value"in t.valueBlock&&Array.isArray(t.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let s=r.itemType;if(typeof s=="number"){let i=Si(s);if(!i)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);return n.from(t.valueBlock.value,a=>i.fromASN(a))}else return n.from(t.valueBlock.value,i=>this.fromASN(i,s))}static processSchemaItems(t,r,n){for(let s in t.items){let i=r.result[s];if(!i)continue;let a=t.items[s],d=a.type,p;typeof d=="number"||dn(d)?p=this.processPrimitiveSchemaItem(i,a,d):p=this.processComplexSchemaItem(i,a,d),p&&typeof p=="object"&&"value"in p&&"raw"in p?(n[s]=p.value,n[`${s}Raw`]=p.raw):n[s]=p}}static processPrimitiveSchemaItem(t,r,n){var s;let i=(s=r.converter)!==null&&s!==void 0?s:dn(n)?new n:null;if(!i)throw new Error("Converter is empty");return r.repeated?this.processRepeatedPrimitiveItem(t,r,i):this.processSinglePrimitiveItem(t,r,n,i)}static processRepeatedPrimitiveItem(t,r,n){if(r.implicit){let s=r.repeated==="sequence"?Vt:ur,i=new s;i.valueBlock=t.valueBlock;let a=Ms(i.toBER(!1));if(a.offset===-1)throw new Error(`Cannot parse the child item. ${a.result.error}`);if(!("value"in a.result.valueBlock&&Array.isArray(a.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let d=a.result.valueBlock.value;return Array.from(d,p=>n.fromASN(p))}else return Array.from(t,s=>n.fromASN(s))}static processSinglePrimitiveItem(t,r,n,s){let i=t;if(r.implicit){let a;if(dn(n))a=new n().toSchema("");else{let d=A[n],p=os[d];if(!p)throw new Error(`Cannot get '${d}' class from asn1js module`);a=new p}a.valueBlock=i.valueBlock,i=Ms(a.toBER(!1)).result}return s.fromASN(i)}static processComplexSchemaItem(t,r,n){if(r.repeated){if(!Array.isArray(t))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(t,s=>this.fromASN(s,n))}else{let s=this.handleImplicitTagging(t,r,n);if(this.isOptionalChoiceField(r))try{return this.fromASN(s,n)}catch(i){if(i instanceof wi&&/Wrong values for Choice type/.test(i.message))return;throw i}else{let i=this.fromASN(s,n);return r.raw?{value:i,raw:t.valueBeforeDecodeView}:i}}}static handleImplicitTagging(t,r,n){if(r.implicit&&typeof r.context=="number"){let s=ut.get(n);if(s.type===L.Sequence){let i=new Vt;if("value"in t.valueBlock&&Array.isArray(t.valueBlock.value)&&"value"in i.valueBlock)return i.valueBlock.value=t.valueBlock.value,i}else if(s.type===L.Set){let i=new ur;if("value"in t.valueBlock&&Array.isArray(t.valueBlock.value)&&"value"in i.valueBlock)return i.valueBlock.value=t.valueBlock.value,i}}return t}};l();u();c();var Ei=class e{static{o(this,"AsnSerializer")}static serialize(t){return t instanceof at?t.toBER(!1):this.toASN(t).toBER(!1)}static toASN(t){if(t&&typeof t=="object"&&dn(t))return t.toASN();if(!(t&&typeof t=="object"))throw new TypeError("Parameter 1 should be type of Object.");let r=t.constructor,n=ut.get(r);ut.cache(r);let s=[];if(n.itemType){if(!Array.isArray(t))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){let a=Si(n.itemType);if(!a)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);s=t.map(d=>a.toASN(d))}else s=t.map(a=>this.toAsnItem({type:n.itemType},"[]",r,a))}else for(let a in n.items){let d=n.items[a],p=t[a];if(p===void 0||d.defaultValue===p||typeof d.defaultValue=="object"&&typeof p=="object"&&b8(this.serialize(d.defaultValue),this.serialize(p)))continue;let f=e.toAsnItem(d,a,r,p);if(typeof d.context=="number")if(d.implicit)if(!d.repeated&&(typeof d.type=="number"||dn(d.type))){let m={};m.valueHex=f instanceof Rn?f.valueBeforeDecodeView:f.valueBlock.toBER(),s.push(new Os({optional:d.optional,idBlock:{tagClass:3,tagNumber:d.context},...m}))}else s.push(new ct({optional:d.optional,idBlock:{tagClass:3,tagNumber:d.context},value:f.valueBlock.value}));else s.push(new ct({optional:d.optional,idBlock:{tagClass:3,tagNumber:d.context},value:[f]}));else d.repeated?s=s.concat(f):s.push(f)}let i;switch(n.type){case L.Sequence:i=new Vt({value:s});break;case L.Set:i=new ur({value:s});break;case L.Choice:if(!s[0])throw new Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);i=s[0];break}return i}static toAsnItem(t,r,n,s){let i;if(typeof t.type=="number"){let a=t.converter;if(!a)throw new Error(`Property '${r}' doesn't have converter for type ${A[t.type]} in schema '${n.name}'`);if(t.repeated){if(!Array.isArray(s))throw new TypeError("Parameter 'objProp' should be type of Array.");let d=Array.from(s,f=>a.toASN(f)),p=t.repeated==="sequence"?Vt:ur;i=new p({value:d})}else i=a.toASN(s)}else if(t.repeated){if(!Array.isArray(s))throw new TypeError("Parameter 'objProp' should be type of Array.");let a=Array.from(s,p=>this.toASN(p)),d=t.repeated==="sequence"?Vt:ur;i=new d({value:a})}else i=this.toASN(s);return i}};l();u();c();var ke=class extends Array{static{o(this,"AsnArray")}constructor(t=[]){if(typeof t=="number")super(t);else{super();for(let r of t)this.push(r)}}};l();u();c();var NC=Fr(bi());var In=class e{static{o(this,"AsnConvert")}static serialize(t){return Ei.serialize(t)}static parse(t,r){return Re.parse(t,r)}static toString(t){let r=NC.BufferSourceConverter.isBufferSource(t)?NC.BufferSourceConverter.toArrayBuffer(t):e.serialize(t),n=Ms(r);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}};l();u();c();l();u();c();l();u();c();l();u();c();l();u();c();var x8=Fr(bi());var Fl=class{static{o(this,"IpConverter")}static isIPv4(t){return/^(\d{1,3}\.){3}\d{1,3}$/.test(t)}static parseIPv4(t){let r=t.split(".");if(r.length!==4)throw new Error("Invalid IPv4 address");return r.map(n=>{let s=parseInt(n,10);if(isNaN(s)||s<0||s>255)throw new Error("Invalid IPv4 address part");return s})}static parseIPv6(t){let n=this.expandIPv6(t).split(":");if(n.length!==8)throw new Error("Invalid IPv6 address");return n.reduce((s,i)=>{let a=parseInt(i,16);if(isNaN(a)||a<0||a>65535)throw new Error("Invalid IPv6 address part");return s.push(a>>8&255),s.push(a&255),s},[])}static expandIPv6(t){if(!t.includes("::"))return t;let r=t.split("::");if(r.length>2)throw new Error("Invalid IPv6 address");let n=r[0]?r[0].split(":"):[],s=r[1]?r[1].split(":"):[],i=8-(n.length+s.length);if(i<0)throw new Error("Invalid IPv6 address");return[...n,...Array(i).fill("0"),...s].join(":")}static formatIPv6(t){let r=[];for(let n=0;n<16;n+=2)r.push((t[n]<<8|t[n+1]).toString(16));return this.compressIPv6(r.join(":"))}static compressIPv6(t){let r=t.split(":"),n=-1,s=0,i=-1,a=0;for(let d=0;d<r.length;d++)r[d]==="0"?(i===-1&&(i=d),a++):(a>s&&(n=i,s=a),i=-1,a=0);if(a>s&&(n=i,s=a),s>1){let d=r.slice(0,n).join(":"),p=r.slice(n+s).join(":");return`${d}::${p}`}return t}static parseCIDR(t){let[r,n]=t.split("/"),s=parseInt(n,10);if(this.isIPv4(r)){if(s<0||s>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(r),s]}else{if(s<0||s>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(r),s]}}static decodeIP(t){if(t.length===64&&parseInt(t,16)===0)return"::/0";if(t.length!==16)return t;let r=parseInt(t.slice(8),16).toString(2).split("").reduce((s,i)=>s+ +i,0),n=t.slice(0,8).replace(/(.{2})/g,s=>`${parseInt(s,16)}.`);return n=n.slice(0,-1),`${n}/${r}`}static toString(t){let r=new Uint8Array(t);if(r.length===4)return Array.from(r).join(".");if(r.length===16)return this.formatIPv6(r);if(r.length===8||r.length===32){let n=r.length/2,s=r.slice(0,n),i=r.slice(n);if(r.every(p=>p===0))return r.length===8?"0.0.0.0/0":"::/0";let d=i.reduce((p,f)=>p+(f.toString(2).match(/1/g)||[]).length,0);return r.length===8?`${Array.from(s).join(".")}/${d}`:`${this.formatIPv6(s)}/${d}`}return this.decodeIP(x8.Convert.ToHex(t))}static fromString(t){if(t.includes("/")){let[n,s]=this.parseCIDR(t),i=new Uint8Array(n.length),a=s;for(let p=0;p<i.length;p++)a>=8?(i[p]=255,a-=8):a>0&&(i[p]=255<<8-a,a=0);let d=new Uint8Array(n.length*2);return d.set(n,0),d.set(i,n.length),d.buffer}let r=this.isIPv4(t)?this.parseIPv4(t):this.parseIPv6(t);return new Uint8Array(r).buffer}};l();u();c();var v8=Fr(bi());var LC,FC,jC,pn=class{static{o(this,"DirectoryString")}constructor(t={}){Object.assign(this,t)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};v([w({type:A.TeletexString})],pn.prototype,"teletexString",void 0);v([w({type:A.PrintableString})],pn.prototype,"printableString",void 0);v([w({type:A.UniversalString})],pn.prototype,"universalString",void 0);v([w({type:A.Utf8String})],pn.prototype,"utf8String",void 0);v([w({type:A.BmpString})],pn.prototype,"bmpString",void 0);pn=v([$({type:L.Choice})],pn);var yc=class extends pn{static{o(this,"AttributeValue")}constructor(t={}){super(t),Object.assign(this,t)}toString(){return this.ia5String||(this.anyValue?v8.Convert.ToHex(this.anyValue):super.toString())}};v([w({type:A.IA5String})],yc.prototype,"ia5String",void 0);v([w({type:A.Any})],yc.prototype,"anyValue",void 0);yc=v([$({type:L.Choice})],yc);var jl=class{static{o(this,"AttributeTypeAndValue")}constructor(t={}){this.type="",this.value=new yc,Object.assign(this,t)}};v([w({type:A.ObjectIdentifier})],jl.prototype,"type",void 0);v([w({type:yc})],jl.prototype,"value",void 0);var Ul=LC=class extends ke{static{o(this,"RelativeDistinguishedName")}constructor(t){super(t),Object.setPrototypeOf(this,LC.prototype)}};Ul=LC=v([$({type:L.Set,itemType:jl})],Ul);var UC=FC=class extends ke{static{o(this,"RDNSequence")}constructor(t){super(t),Object.setPrototypeOf(this,FC.prototype)}};UC=FC=v([$({type:L.Sequence,itemType:Ul})],UC);var Vr=jC=class extends UC{static{o(this,"Name")}constructor(t){super(t),Object.setPrototypeOf(this,jC.prototype)}};Vr=jC=v([$({type:L.Sequence})],Vr);var Qie={fromASN:o(e=>Fl.toString(gc.fromASN(e)),"fromASN"),toASN:o(e=>gc.toASN(Fl.fromString(e)),"toASN")},ql=class{static{o(this,"OtherName")}constructor(t={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,t)}};v([w({type:A.ObjectIdentifier})],ql.prototype,"typeId",void 0);v([w({type:A.Any,context:0})],ql.prototype,"value",void 0);var Hl=class{static{o(this,"EDIPartyName")}constructor(t={}){this.partyName=new pn,Object.assign(this,t)}};v([w({type:pn,optional:!0,context:0,implicit:!0})],Hl.prototype,"nameAssigner",void 0);v([w({type:pn,context:1,implicit:!0})],Hl.prototype,"partyName",void 0);var ze=class{static{o(this,"GeneralName")}constructor(t={}){Object.assign(this,t)}};v([w({type:ql,context:0,implicit:!0})],ze.prototype,"otherName",void 0);v([w({type:A.IA5String,context:1,implicit:!0})],ze.prototype,"rfc822Name",void 0);v([w({type:A.IA5String,context:2,implicit:!0})],ze.prototype,"dNSName",void 0);v([w({type:A.Any,context:3,implicit:!0})],ze.prototype,"x400Address",void 0);v([w({type:Vr,context:4,implicit:!1})],ze.prototype,"directoryName",void 0);v([w({type:Hl,context:5})],ze.prototype,"ediPartyName",void 0);v([w({type:A.IA5String,context:6,implicit:!0})],ze.prototype,"uniformResourceIdentifier",void 0);v([w({type:A.OctetString,context:7,implicit:!0,converter:Qie})],ze.prototype,"iPAddress",void 0);v([w({type:A.ObjectIdentifier,context:8,implicit:!0})],ze.prototype,"registeredID",void 0);ze=v([$({type:L.Choice})],ze);l();u();c();var rx="1.3.6.1.5.5.7",nx=`${rx}.1`,_8=`${rx}.2`,Go=`${rx}.3`,sx=`${rx}.48`,SAt=`${_8}.1`,wAt=`${_8}.2`,EAt=`${sx}.1`,CAt=`${sx}.2`,AAt=`${sx}.3`,TAt=`${sx}.5`,ie="2.5.29";var qC,NAt=`${nx}.1`,Wo=class{static{o(this,"AccessDescription")}constructor(t={}){this.accessMethod="",this.accessLocation=new ze,Object.assign(this,t)}};v([w({type:A.ObjectIdentifier})],Wo.prototype,"accessMethod",void 0);v([w({type:ze})],Wo.prototype,"accessLocation",void 0);var S8=qC=class extends ke{static{o(this,"AuthorityInfoAccessSyntax")}constructor(t){super(t),Object.setPrototypeOf(this,qC.prototype)}};S8=qC=v([$({type:L.Sequence,itemType:Wo})],S8);l();u();c();var HC=`${ie}.35`,zl=class extends re{static{o(this,"KeyIdentifier")}},Ci=class{static{o(this,"AuthorityKeyIdentifier")}constructor(t={}){t&&Object.assign(this,t)}};v([w({type:zl,context:0,optional:!0,implicit:!0})],Ci.prototype,"keyIdentifier",void 0);v([w({type:ze,context:1,optional:!0,implicit:!0,repeated:"sequence"})],Ci.prototype,"authorityCertIssuer",void 0);v([w({type:A.Integer,context:2,optional:!0,implicit:!0,converter:Ce})],Ci.prototype,"authorityCertSerialNumber",void 0);l();u();c();var zC=`${ie}.19`,Yo=class{static{o(this,"BasicConstraints")}constructor(t={}){this.cA=!1,Object.assign(this,t)}};v([w({type:A.Boolean,defaultValue:!1})],Yo.prototype,"cA",void 0);v([w({type:A.Integer,optional:!0})],Yo.prototype,"pathLenConstraint",void 0);l();u();c();l();u();c();var $C,Ai=$C=class extends ke{static{o(this,"GeneralNames")}constructor(t){super(t),Object.setPrototypeOf(this,$C.prototype)}};Ai=$C=v([$({type:L.Sequence,itemType:ze})],Ai);var JC,vTt=`${ie}.29`,w8=JC=class extends Ai{static{o(this,"CertificateIssuer")}constructor(t){super(t),Object.setPrototypeOf(this,JC.prototype)}};w8=JC=v([$({type:L.Sequence})],w8);l();u();c();var VC,Xie=`${ie}.32`,RTt=`${Xie}.0`,Ps=class{static{o(this,"DisplayText")}constructor(t={}){Object.assign(this,t)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};v([w({type:A.IA5String})],Ps.prototype,"ia5String",void 0);v([w({type:A.VisibleString})],Ps.prototype,"visibleString",void 0);v([w({type:A.BmpString})],Ps.prototype,"bmpString",void 0);v([w({type:A.Utf8String})],Ps.prototype,"utf8String",void 0);Ps=v([$({type:L.Choice})],Ps);var $l=class{static{o(this,"NoticeReference")}constructor(t={}){this.organization=new Ps,this.noticeNumbers=[],Object.assign(this,t)}};v([w({type:Ps})],$l.prototype,"organization",void 0);v([w({type:A.Integer,repeated:"sequence"})],$l.prototype,"noticeNumbers",void 0);var Jl=class{static{o(this,"UserNotice")}constructor(t={}){Object.assign(this,t)}};v([w({type:$l,optional:!0})],Jl.prototype,"noticeRef",void 0);v([w({type:Ps,optional:!0})],Jl.prototype,"explicitText",void 0);var ix=class{static{o(this,"Qualifier")}constructor(t={}){Object.assign(this,t)}};v([w({type:A.IA5String})],ix.prototype,"cPSuri",void 0);v([w({type:Jl})],ix.prototype,"userNotice",void 0);ix=v([$({type:L.Choice})],ix);var Vl=class{static{o(this,"PolicyQualifierInfo")}constructor(t={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,t)}};v([w({type:A.ObjectIdentifier})],Vl.prototype,"policyQualifierId",void 0);v([w({type:A.Any})],Vl.prototype,"qualifier",void 0);var Kl=class{static{o(this,"PolicyInformation")}constructor(t={}){this.policyIdentifier="",Object.assign(this,t)}};v([w({type:A.ObjectIdentifier})],Kl.prototype,"policyIdentifier",void 0);v([w({type:Vl,repeated:"sequence",optional:!0})],Kl.prototype,"policyQualifiers",void 0);var E8=VC=class extends ke{static{o(this,"CertificatePolicies")}constructor(t){super(t),Object.setPrototypeOf(this,VC.prototype)}};E8=VC=v([$({type:L.Sequence,itemType:Kl})],E8);l();u();c();l();u();c();var HTt=`${ie}.20`,Gl=class{static{o(this,"CRLNumber")}constructor(t=0){this.value=t}};v([w({type:A.Integer})],Gl.prototype,"value",void 0);Gl=v([$({type:L.Choice})],Gl);var ZTt=`${ie}.27`,C8=class extends Gl{static{o(this,"BaseCRLNumber")}};C8=v([$({type:L.Choice})],C8);l();u();c();var KC,GC=`${ie}.31`,Bn;(function(e){e[e.unused=1]="unused",e[e.keyCompromise=2]="keyCompromise",e[e.cACompromise=4]="cACompromise",e[e.affiliationChanged=8]="affiliationChanged",e[e.superseded=16]="superseded",e[e.cessationOfOperation=32]="cessationOfOperation",e[e.certificateHold=64]="certificateHold",e[e.privilegeWithdrawn=128]="privilegeWithdrawn",e[e.aACompromise=256]="aACompromise"})(Bn||(Bn={}));var Wl=class extends Ko{static{o(this,"Reason")}toJSON(){let t=[],r=this.toNumber();return r&Bn.aACompromise&&t.push("aACompromise"),r&Bn.affiliationChanged&&t.push("affiliationChanged"),r&Bn.cACompromise&&t.push("cACompromise"),r&Bn.certificateHold&&t.push("certificateHold"),r&Bn.cessationOfOperation&&t.push("cessationOfOperation"),r&Bn.keyCompromise&&t.push("keyCompromise"),r&Bn.privilegeWithdrawn&&t.push("privilegeWithdrawn"),r&Bn.superseded&&t.push("superseded"),r&Bn.unused&&t.push("unused"),t}toString(){return`[${this.toJSON().join(", ")}]`}},Qo=class{static{o(this,"DistributionPointName")}constructor(t={}){Object.assign(this,t)}};v([w({type:ze,context:0,repeated:"sequence",implicit:!0})],Qo.prototype,"fullName",void 0);v([w({type:Ul,context:1,implicit:!0})],Qo.prototype,"nameRelativeToCRLIssuer",void 0);Qo=v([$({type:L.Choice})],Qo);var Ti=class{static{o(this,"DistributionPoint")}constructor(t={}){Object.assign(this,t)}};v([w({type:Qo,context:0,optional:!0})],Ti.prototype,"distributionPoint",void 0);v([w({type:Wl,context:1,optional:!0,implicit:!0})],Ti.prototype,"reasons",void 0);v([w({type:ze,context:2,optional:!0,repeated:"sequence",implicit:!0})],Ti.prototype,"cRLIssuer",void 0);var Xo=KC=class extends ke{static{o(this,"CRLDistributionPoints")}constructor(t){super(t),Object.setPrototypeOf(this,KC.prototype)}};Xo=KC=v([$({type:L.Sequence,itemType:Ti})],Xo);l();u();c();var WC,SOt=`${ie}.46`,A8=WC=class extends Xo{static{o(this,"FreshestCRL")}constructor(t){super(t),Object.setPrototypeOf(this,WC.prototype)}};A8=WC=v([$({type:L.Sequence,itemType:Ti})],A8);l();u();c();var BOt=`${ie}.28`,Kr=class e{static{o(this,"IssuingDistributionPoint")}constructor(t={}){this.onlyContainsUserCerts=e.ONLY,this.onlyContainsCACerts=e.ONLY,this.indirectCRL=e.ONLY,this.onlyContainsAttributeCerts=e.ONLY,Object.assign(this,t)}};Kr.ONLY=!1;v([w({type:Qo,context:0,optional:!0})],Kr.prototype,"distributionPoint",void 0);v([w({type:A.Boolean,context:1,defaultValue:Kr.ONLY,implicit:!0})],Kr.prototype,"onlyContainsUserCerts",void 0);v([w({type:A.Boolean,context:2,defaultValue:Kr.ONLY,implicit:!0})],Kr.prototype,"onlyContainsCACerts",void 0);v([w({type:Wl,context:3,optional:!0,implicit:!0})],Kr.prototype,"onlySomeReasons",void 0);v([w({type:A.Boolean,context:4,defaultValue:Kr.ONLY,implicit:!0})],Kr.prototype,"indirectCRL",void 0);v([w({type:A.Boolean,context:5,defaultValue:Kr.ONLY,implicit:!0})],Kr.prototype,"onlyContainsAttributeCerts",void 0);l();u();c();var zOt=`${ie}.21`,Yl;(function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"})(Yl||(Yl={}));var YC=class{static{o(this,"CRLReason")}constructor(t=Yl.unspecified){this.reason=Yl.unspecified,this.reason=t}toJSON(){return Yl[this.reason]}toString(){return this.toJSON()}};v([w({type:A.Enumerated})],YC.prototype,"reason",void 0);YC=v([$({type:L.Choice})],YC);l();u();c();var QC,ox=`${ie}.37`,Ql=QC=class extends ke{static{o(this,"ExtendedKeyUsage")}constructor(t){super(t),Object.setPrototypeOf(this,QC.prototype)}};Ql=QC=v([$({type:L.Sequence,itemType:A.ObjectIdentifier})],Ql);var e2t=`${ox}.0`,t2t=`${Go}.1`,r2t=`${Go}.2`,n2t=`${Go}.3`,s2t=`${Go}.4`,i2t=`${Go}.8`,o2t=`${Go}.9`;l();u();c();var h2t=`${ie}.54`,XC=class{static{o(this,"InhibitAnyPolicy")}constructor(t=new ArrayBuffer(0)){this.value=t}};v([w({type:A.Integer,converter:Ce})],XC.prototype,"value",void 0);XC=v([$({type:L.Choice})],XC);l();u();c();var C2t=`${ie}.24`,ZC=class{static{o(this,"InvalidityDate")}constructor(t){this.value=new Date,t&&(this.value=t)}};v([w({type:A.GeneralizedTime})],ZC.prototype,"value",void 0);ZC=v([$({type:L.Choice})],ZC);l();u();c();var eA,N2t=`${ie}.18`,T8=eA=class extends Ai{static{o(this,"IssueAlternativeName")}constructor(t){super(t),Object.setPrototypeOf(this,eA.prototype)}};T8=eA=v([$({type:L.Sequence})],T8);l();u();c();var J2t=`${ie}.15`,O8;(function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"})(O8||(O8={}));l();u();c();var tA,tkt=`${ie}.30`,bc=class{static{o(this,"GeneralSubtree")}constructor(t={}){this.base=new ze,this.minimum=0,Object.assign(this,t)}};v([w({type:ze})],bc.prototype,"base",void 0);v([w({type:A.Integer,context:0,defaultValue:0,implicit:!0})],bc.prototype,"minimum",void 0);v([w({type:A.Integer,context:1,optional:!0,implicit:!0})],bc.prototype,"maximum",void 0);var ax=tA=class extends ke{static{o(this,"GeneralSubtrees")}constructor(t){super(t),Object.setPrototypeOf(this,tA.prototype)}};ax=tA=v([$({type:L.Sequence,itemType:bc})],ax);var cx=class{static{o(this,"NameConstraints")}constructor(t={}){Object.assign(this,t)}};v([w({type:ax,context:0,optional:!0,implicit:!0})],cx.prototype,"permittedSubtrees",void 0);v([w({type:ax,context:1,optional:!0,implicit:!0})],cx.prototype,"excludedSubtrees",void 0);l();u();c();var dkt=`${ie}.36`,ux=class{static{o(this,"PolicyConstraints")}constructor(t={}){Object.assign(this,t)}};v([w({type:A.Integer,context:0,implicit:!0,optional:!0,converter:Ce})],ux.prototype,"requireExplicitPolicy",void 0);v([w({type:A.Integer,context:1,implicit:!0,optional:!0,converter:Ce})],ux.prototype,"inhibitPolicyMapping",void 0);l();u();c();var rA,vkt=`${ie}.33`,Xl=class{static{o(this,"PolicyMapping")}constructor(t={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,t)}};v([w({type:A.ObjectIdentifier})],Xl.prototype,"issuerDomainPolicy",void 0);v([w({type:A.ObjectIdentifier})],Xl.prototype,"subjectDomainPolicy",void 0);var k8=rA=class extends ke{static{o(this,"PolicyMappings")}constructor(t){super(t),Object.setPrototypeOf(this,rA.prototype)}};k8=rA=v([$({type:L.Sequence,itemType:Xl})],k8);l();u();c();var nA,sA=`${ie}.17`,Zl=nA=class extends Ai{static{o(this,"SubjectAlternativeName")}constructor(t){super(t),Object.setPrototypeOf(this,nA.prototype)}};Zl=nA=v([$({type:L.Sequence})],Zl);l();u();c();l();u();c();var xc=class{static{o(this,"Attribute")}constructor(t={}){this.type="",this.values=[],Object.assign(this,t)}};v([w({type:A.ObjectIdentifier})],xc.prototype,"type",void 0);v([w({type:A.Any,repeated:"set"})],xc.prototype,"values",void 0);var iA,Gkt=`${ie}.9`,R8=iA=class extends ke{static{o(this,"SubjectDirectoryAttributes")}constructor(t){super(t),Object.setPrototypeOf(this,iA.prototype)}};R8=iA=v([$({type:L.Sequence,itemType:xc})],R8);l();u();c();var oA=`${ie}.14`,ed=class extends zl{static{o(this,"SubjectKeyIdentifier")}};l();u();c();var d1t=`${ie}.16`,lx=class{static{o(this,"PrivateKeyUsagePeriod")}constructor(t={}){Object.assign(this,t)}};v([w({type:A.GeneralizedTime,context:0,implicit:!0,optional:!0})],lx.prototype,"notBefore",void 0);v([w({type:A.GeneralizedTime,context:1,implicit:!0,optional:!0})],lx.prototype,"notAfter",void 0);l();u();c();var td;(function(e){e[e.keyUpdateAllowed=1]="keyUpdateAllowed",e[e.newExtensions=2]="newExtensions",e[e.pKIXCertificate=4]="pKIXCertificate"})(td||(td={}));var dx=class extends Ko{static{o(this,"EntrustInfo")}toJSON(){let t=[],r=this.toNumber();return r&td.pKIXCertificate&&t.push("pKIXCertificate"),r&td.newExtensions&&t.push("newExtensions"),r&td.keyUpdateAllowed&&t.push("keyUpdateAllowed"),t}toString(){return`[${this.toJSON().join(", ")}]`}},px=class{static{o(this,"EntrustVersionInfo")}constructor(t={}){this.entrustVers="",this.entrustInfoFlags=new dx,Object.assign(this,t)}};v([w({type:A.GeneralString})],px.prototype,"entrustVers",void 0);v([w({type:dx})],px.prototype,"entrustInfoFlags",void 0);l();u();c();var aA,O1t=`${nx}.11`,M8=aA=class extends ke{static{o(this,"SubjectInfoAccessSyntax")}constructor(t){super(t),Object.setPrototypeOf(this,aA.prototype)}};M8=aA=v([$({type:L.Sequence,itemType:Wo})],M8);l();u();c();var P8=Fr(bi());var ue=class e{static{o(this,"AlgorithmIdentifier")}constructor(t={}){this.algorithm="",Object.assign(this,t)}isEqual(t){return t instanceof e&&t.algorithm==this.algorithm&&(t.parameters&&this.parameters&&P8.isEqual(t.parameters,this.parameters)||t.parameters===this.parameters)}};v([w({type:A.ObjectIdentifier})],ue.prototype,"algorithm",void 0);v([w({type:A.Any,optional:!0})],ue.prototype,"parameters",void 0);l();u();c();l();u();c();l();u();c();var Zo=class{static{o(this,"SubjectPublicKeyInfo")}constructor(t={}){this.algorithm=new ue,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,t)}};v([w({type:ue})],Zo.prototype,"algorithm",void 0);v([w({type:A.BitString})],Zo.prototype,"subjectPublicKey",void 0);l();u();c();l();u();c();var Pt=class{static{o(this,"Time")}constructor(t){if(t)if(typeof t=="string"||typeof t=="number"||t instanceof Date){let r=new Date(t);r.getUTCFullYear()>2049?this.generalTime=r:this.utcTime=r}else Object.assign(this,t)}getTime(){let t=this.utcTime||this.generalTime;if(!t)throw new Error("Cannot get time from CHOICE object");return t}};v([w({type:A.UTCTime})],Pt.prototype,"utcTime",void 0);v([w({type:A.GeneralizedTime})],Pt.prototype,"generalTime",void 0);Pt=v([$({type:L.Choice})],Pt);var ea=class{static{o(this,"Validity")}constructor(t){this.notBefore=new Pt(new Date),this.notAfter=new Pt(new Date),t&&(this.notBefore=new Pt(t.notBefore),this.notAfter=new Pt(t.notAfter))}};v([w({type:Pt})],ea.prototype,"notBefore",void 0);v([w({type:Pt})],ea.prototype,"notAfter",void 0);l();u();c();var cA,Dn=class e{static{o(this,"Extension")}constructor(t={}){this.extnID="",this.critical=e.CRITICAL,this.extnValue=new re,Object.assign(this,t)}};Dn.CRITICAL=!1;v([w({type:A.ObjectIdentifier})],Dn.prototype,"extnID",void 0);v([w({type:A.Boolean,defaultValue:Dn.CRITICAL})],Dn.prototype,"critical",void 0);v([w({type:re})],Dn.prototype,"extnValue",void 0);var fx=cA=class extends ke{static{o(this,"Extensions")}constructor(t){super(t),Object.setPrototypeOf(this,cA.prototype)}};fx=cA=v([$({type:L.Sequence,itemType:Dn})],fx);l();u();c();var rd;(function(e){e[e.v1=0]="v1",e[e.v2=1]="v2",e[e.v3=2]="v3"})(rd||(rd={}));var dr=class{static{o(this,"TBSCertificate")}constructor(t={}){this.version=rd.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new ue,this.issuer=new Vr,this.validity=new ea,this.subject=new Vr,this.subjectPublicKeyInfo=new Zo,Object.assign(this,t)}};v([w({type:A.Integer,context:0,defaultValue:rd.v1})],dr.prototype,"version",void 0);v([w({type:A.Integer,converter:Ce})],dr.prototype,"serialNumber",void 0);v([w({type:ue})],dr.prototype,"signature",void 0);v([w({type:Vr})],dr.prototype,"issuer",void 0);v([w({type:ea})],dr.prototype,"validity",void 0);v([w({type:Vr})],dr.prototype,"subject",void 0);v([w({type:Zo})],dr.prototype,"subjectPublicKeyInfo",void 0);v([w({type:A.BitString,context:1,implicit:!0,optional:!0})],dr.prototype,"issuerUniqueID",void 0);v([w({type:A.BitString,context:2,implicit:!0,optional:!0})],dr.prototype,"subjectUniqueID",void 0);v([w({type:fx,context:3,optional:!0})],dr.prototype,"extensions",void 0);var Kt=class{static{o(this,"Certificate")}constructor(t={}){this.tbsCertificate=new dr,this.signatureAlgorithm=new ue,this.signatureValue=new ArrayBuffer(0),Object.assign(this,t)}};v([w({type:dr,raw:!0})],Kt.prototype,"tbsCertificate",void 0);v([w({type:ue})],Kt.prototype,"signatureAlgorithm",void 0);v([w({type:A.BitString})],Kt.prototype,"signatureValue",void 0);l();u();c();l();u();c();var vc=class{static{o(this,"RevokedCertificate")}constructor(t={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Pt,Object.assign(this,t)}};v([w({type:A.Integer,converter:Ce})],vc.prototype,"userCertificate",void 0);v([w({type:Pt})],vc.prototype,"revocationDate",void 0);v([w({type:Dn,optional:!0,repeated:"sequence"})],vc.prototype,"crlEntryExtensions",void 0);var fn=class{static{o(this,"TBSCertList")}constructor(t={}){this.signature=new ue,this.issuer=new Vr,this.thisUpdate=new Pt,Object.assign(this,t)}};v([w({type:A.Integer,optional:!0})],fn.prototype,"version",void 0);v([w({type:ue})],fn.prototype,"signature",void 0);v([w({type:Vr})],fn.prototype,"issuer",void 0);v([w({type:Pt})],fn.prototype,"thisUpdate",void 0);v([w({type:Pt,optional:!0})],fn.prototype,"nextUpdate",void 0);v([w({type:vc,repeated:"sequence",optional:!0})],fn.prototype,"revokedCertificates",void 0);v([w({type:Dn,optional:!0,context:0,repeated:"sequence"})],fn.prototype,"crlExtensions",void 0);var Oi=class{static{o(this,"CertificateList")}constructor(t={}){this.tbsCertList=new fn,this.signatureAlgorithm=new ue,this.signature=new ArrayBuffer(0),Object.assign(this,t)}};v([w({type:fn,raw:!0})],Oi.prototype,"tbsCertList",void 0);v([w({type:ue})],Oi.prototype,"signatureAlgorithm",void 0);v([w({type:A.BitString})],Oi.prototype,"signature",void 0);l();u();c();l();u();c();l();u();c();var uA="1.2.840.10045.2.1";var I8="1.2.840.10045.4.1",B8="1.2.840.10045.4.3.1",D8="1.2.840.10045.4.3.2",N8="1.2.840.10045.4.3.3",L8="1.2.840.10045.4.3.4";var lA="1.2.840.10045.3.1.7";var dA="1.3.132.0.34";function nd(e){return new ue({algorithm:e})}o(nd,"create");var dPt=nd(I8),pPt=nd(B8),fPt=nd(D8),mPt=nd(N8),hPt=nd(L8);l();u();c();l();u();c();var sd=class{static{o(this,"FieldID")}constructor(t={}){Object.assign(this,t)}};v([w({type:A.ObjectIdentifier})],sd.prototype,"fieldType",void 0);v([w({type:A.Any})],sd.prototype,"parameters",void 0);sd=v([$({type:L.Sequence})],sd);var pA=class extends re{static{o(this,"ECPoint")}};var _c=class{static{o(this,"Curve")}constructor(t={}){Object.assign(this,t)}};v([w({type:A.OctetString})],_c.prototype,"a",void 0);v([w({type:A.OctetString})],_c.prototype,"b",void 0);v([w({type:A.BitString,optional:!0})],_c.prototype,"seed",void 0);_c=v([$({type:L.Sequence})],_c);var fA;(function(e){e[e.ecpVer1=1]="ecpVer1"})(fA||(fA={}));var as=class{static{o(this,"SpecifiedECDomain")}constructor(t={}){this.version=fA.ecpVer1,Object.assign(this,t)}};v([w({type:A.Integer})],as.prototype,"version",void 0);v([w({type:sd})],as.prototype,"fieldID",void 0);v([w({type:_c})],as.prototype,"curve",void 0);v([w({type:pA})],as.prototype,"base",void 0);v([w({type:A.Integer,converter:Ce})],as.prototype,"order",void 0);v([w({type:A.Integer,optional:!0})],as.prototype,"cofactor",void 0);as=v([$({type:L.Sequence})],as);var cs=class{static{o(this,"ECParameters")}constructor(t={}){Object.assign(this,t)}};v([w({type:A.ObjectIdentifier})],cs.prototype,"namedCurve",void 0);v([w({type:A.Null})],cs.prototype,"implicitCurve",void 0);v([w({type:as})],cs.prototype,"specifiedCurve",void 0);cs=v([$({type:L.Choice})],cs);l();u();c();var Sc=class{static{o(this,"ECPrivateKey")}constructor(t={}){this.version=1,this.privateKey=new re,Object.assign(this,t)}};v([w({type:A.Integer})],Sc.prototype,"version",void 0);v([w({type:re})],Sc.prototype,"privateKey",void 0);v([w({type:cs,context:0,optional:!0})],Sc.prototype,"parameters",void 0);v([w({type:A.BitString,context:1,optional:!0})],Sc.prototype,"publicKey",void 0);l();u();c();var ta=class{static{o(this,"ECDSASigValue")}constructor(t={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,t)}};v([w({type:A.Integer,converter:Ce})],ta.prototype,"r",void 0);v([w({type:A.Integer,converter:Ce})],ta.prototype,"s",void 0);l();u();c();l();u();c();l();u();c();l();u();c();var Tr="1.2.840.113549.1.1",F8=`${Tr}.1`,j8=`${Tr}.7`,U8=`${Tr}.9`,q8=`${Tr}.10`,H8=`${Tr}.2`,z8=`${Tr}.4`,$8=`${Tr}.5`,dIt=`${Tr}.14`;var pIt=`${Tr}.11`,J8=`${Tr}.12`,V8=`${Tr}.13`,mA=`${Tr}.15`,hA=`${Tr}.16`,K8="1.3.14.3.2.26",G8="2.16.840.1.101.3.4.2.4",W8="2.16.840.1.101.3.4.2.1",Y8="2.16.840.1.101.3.4.2.2",Q8="2.16.840.1.101.3.4.2.3",X8="2.16.840.1.101.3.4.2.5",Z8="2.16.840.1.101.3.4.2.6",e6="1.2.840.113549.2.2",t6="1.2.840.113549.2.5",wc=`${Tr}.8`;l();u();c();function ht(e){return new ue({algorithm:e,parameters:null})}o(ht,"create");var bIt=ht(e6),xIt=ht(t6),Is=ht(K8),vIt=ht(G8),_It=ht(W8),SIt=ht(Y8),wIt=ht(Q8),EIt=ht(X8),CIt=ht(Z8),mx=new ue({algorithm:wc,parameters:In.serialize(Is)}),gA=new ue({algorithm:U8,parameters:In.serialize(gc.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))}),AIt=ht(F8),TIt=ht(H8),OIt=ht(z8),kIt=ht($8),RIt=ht(mA),MIt=ht(hA),PIt=ht(J8),IIt=ht(V8),BIt=ht(mA),DIt=ht(hA);var Ec=class{static{o(this,"RsaEsOaepParams")}constructor(t={}){this.hashAlgorithm=new ue(Is),this.maskGenAlgorithm=new ue({algorithm:wc,parameters:In.serialize(Is)}),this.pSourceAlgorithm=new ue(gA),Object.assign(this,t)}};v([w({type:ue,context:0,defaultValue:Is})],Ec.prototype,"hashAlgorithm",void 0);v([w({type:ue,context:1,defaultValue:mx})],Ec.prototype,"maskGenAlgorithm",void 0);v([w({type:ue,context:2,defaultValue:gA})],Ec.prototype,"pSourceAlgorithm",void 0);var VIt=new ue({algorithm:j8,parameters:In.serialize(new Ec)});l();u();c();var ra=class{static{o(this,"RsaSaPssParams")}constructor(t={}){this.hashAlgorithm=new ue(Is),this.maskGenAlgorithm=new ue({algorithm:wc,parameters:In.serialize(Is)}),this.saltLength=20,this.trailerField=1,Object.assign(this,t)}};v([w({type:ue,context:0,defaultValue:Is})],ra.prototype,"hashAlgorithm",void 0);v([w({type:ue,context:1,defaultValue:mx})],ra.prototype,"maskGenAlgorithm",void 0);v([w({type:A.Integer,context:2,defaultValue:20})],ra.prototype,"saltLength",void 0);v([w({type:A.Integer,context:3,defaultValue:1})],ra.prototype,"trailerField",void 0);var nBt=new ue({algorithm:q8,parameters:In.serialize(new ra)});l();u();c();var hx=class{static{o(this,"DigestInfo")}constructor(t={}){this.digestAlgorithm=new ue,this.digest=new re,Object.assign(this,t)}};v([w({type:ue})],hx.prototype,"digestAlgorithm",void 0);v([w({type:re})],hx.prototype,"digest",void 0);l();u();c();var yA,Cc=class{static{o(this,"OtherPrimeInfo")}constructor(t={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,t)}};v([w({type:A.Integer,converter:Ce})],Cc.prototype,"prime",void 0);v([w({type:A.Integer,converter:Ce})],Cc.prototype,"exponent",void 0);v([w({type:A.Integer,converter:Ce})],Cc.prototype,"coefficient",void 0);var gx=yA=class extends ke{static{o(this,"OtherPrimeInfos")}constructor(t){super(t),Object.setPrototypeOf(this,yA.prototype)}};gx=yA=v([$({type:L.Sequence,itemType:Cc})],gx);l();u();c();var mn=class{static{o(this,"RSAPrivateKey")}constructor(t={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,t)}};v([w({type:A.Integer})],mn.prototype,"version",void 0);v([w({type:A.Integer,converter:Ce})],mn.prototype,"modulus",void 0);v([w({type:A.Integer,converter:Ce})],mn.prototype,"publicExponent",void 0);v([w({type:A.Integer,converter:Ce})],mn.prototype,"privateExponent",void 0);v([w({type:A.Integer,converter:Ce})],mn.prototype,"prime1",void 0);v([w({type:A.Integer,converter:Ce})],mn.prototype,"prime2",void 0);v([w({type:A.Integer,converter:Ce})],mn.prototype,"exponent1",void 0);v([w({type:A.Integer,converter:Ce})],mn.prototype,"exponent2",void 0);v([w({type:A.Integer,converter:Ce})],mn.prototype,"coefficient",void 0);v([w({type:gx,optional:!0})],mn.prototype,"otherPrimeInfos",void 0);l();u();c();var na=class{static{o(this,"RSAPublicKey")}constructor(t={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,t)}};v([w({type:A.Integer,converter:Ce})],na.prototype,"modulus",void 0);v([w({type:A.Integer,converter:Ce})],na.prototype,"publicExponent",void 0);l();u();c();l();u();c();var bA,vA="1.3.6.1.4.1.11129.2.1.17",xA;(function(e){e[e.verified=0]="verified",e[e.selfSigned=1]="selfSigned",e[e.unverified=2]="unverified",e[e.failed=3]="failed"})(xA||(xA={}));var sa=class{static{o(this,"RootOfTrust")}constructor(t={}){this.verifiedBootKey=new re,this.deviceLocked=!1,this.verifiedBootState=xA.verified,Object.assign(this,t)}};v([w({type:re})],sa.prototype,"verifiedBootKey",void 0);v([w({type:A.Boolean})],sa.prototype,"deviceLocked",void 0);v([w({type:A.Enumerated})],sa.prototype,"verifiedBootState",void 0);v([w({type:re,optional:!0})],sa.prototype,"verifiedBootHash",void 0);var Ac=bA=class extends ke{static{o(this,"IntegerSet")}constructor(t){super(t),Object.setPrototypeOf(this,bA.prototype)}};Ac=bA=v([$({type:L.Set,itemType:A.Integer})],Ac);var W=class{static{o(this,"AuthorizationList")}constructor(t={}){Object.assign(this,t)}};v([w({context:1,type:Ac,optional:!0})],W.prototype,"purpose",void 0);v([w({context:2,type:A.Integer,optional:!0})],W.prototype,"algorithm",void 0);v([w({context:3,type:A.Integer,optional:!0})],W.prototype,"keySize",void 0);v([w({context:5,type:Ac,optional:!0})],W.prototype,"digest",void 0);v([w({context:6,type:Ac,optional:!0})],W.prototype,"padding",void 0);v([w({context:10,type:A.Integer,optional:!0})],W.prototype,"ecCurve",void 0);v([w({context:200,type:A.Integer,optional:!0})],W.prototype,"rsaPublicExponent",void 0);v([w({context:203,type:Ac,optional:!0})],W.prototype,"mgfDigest",void 0);v([w({context:303,type:A.Null,optional:!0})],W.prototype,"rollbackResistance",void 0);v([w({context:305,type:A.Null,optional:!0})],W.prototype,"earlyBootOnly",void 0);v([w({context:400,type:A.Integer,optional:!0})],W.prototype,"activeDateTime",void 0);v([w({context:401,type:A.Integer,optional:!0})],W.prototype,"originationExpireDateTime",void 0);v([w({context:402,type:A.Integer,optional:!0})],W.prototype,"usageExpireDateTime",void 0);v([w({context:405,type:A.Integer,optional:!0})],W.prototype,"usageCountLimit",void 0);v([w({context:503,type:A.Null,optional:!0})],W.prototype,"noAuthRequired",void 0);v([w({context:504,type:A.Integer,optional:!0})],W.prototype,"userAuthType",void 0);v([w({context:505,type:A.Integer,optional:!0})],W.prototype,"authTimeout",void 0);v([w({context:506,type:A.Null,optional:!0})],W.prototype,"allowWhileOnBody",void 0);v([w({context:507,type:A.Null,optional:!0})],W.prototype,"trustedUserPresenceRequired",void 0);v([w({context:508,type:A.Null,optional:!0})],W.prototype,"trustedConfirmationRequired",void 0);v([w({context:509,type:A.Null,optional:!0})],W.prototype,"unlockedDeviceRequired",void 0);v([w({context:600,type:A.Null,optional:!0})],W.prototype,"allApplications",void 0);v([w({context:601,type:re,optional:!0})],W.prototype,"applicationId",void 0);v([w({context:701,type:A.Integer,optional:!0})],W.prototype,"creationDateTime",void 0);v([w({context:702,type:A.Integer,optional:!0})],W.prototype,"origin",void 0);v([w({context:703,type:A.Null,optional:!0})],W.prototype,"rollbackResistant",void 0);v([w({context:704,type:sa,optional:!0})],W.prototype,"rootOfTrust",void 0);v([w({context:705,type:A.Integer,optional:!0})],W.prototype,"osVersion",void 0);v([w({context:706,type:A.Integer,optional:!0})],W.prototype,"osPatchLevel",void 0);v([w({context:709,type:re,optional:!0})],W.prototype,"attestationApplicationId",void 0);v([w({context:710,type:re,optional:!0})],W.prototype,"attestationIdBrand",void 0);v([w({context:711,type:re,optional:!0})],W.prototype,"attestationIdDevice",void 0);v([w({context:712,type:re,optional:!0})],W.prototype,"attestationIdProduct",void 0);v([w({context:713,type:re,optional:!0})],W.prototype,"attestationIdSerial",void 0);v([w({context:714,type:re,optional:!0})],W.prototype,"attestationIdImei",void 0);v([w({context:715,type:re,optional:!0})],W.prototype,"attestationIdMeid",void 0);v([w({context:716,type:re,optional:!0})],W.prototype,"attestationIdManufacturer",void 0);v([w({context:717,type:re,optional:!0})],W.prototype,"attestationIdModel",void 0);v([w({context:718,type:A.Integer,optional:!0})],W.prototype,"vendorPatchLevel",void 0);v([w({context:719,type:A.Integer,optional:!0})],W.prototype,"bootPatchLevel",void 0);v([w({context:720,type:A.Null,optional:!0})],W.prototype,"deviceUniqueAttestation",void 0);v([w({context:723,type:re,optional:!0})],W.prototype,"attestationIdSecondImei",void 0);v([w({context:724,type:re,optional:!0})],W.prototype,"moduleHash",void 0);var Bs;(function(e){e[e.software=0]="software",e[e.trustedEnvironment=1]="trustedEnvironment",e[e.strongBox=2]="strongBox"})(Bs||(Bs={}));var Tc;(function(e){e[e.KM2=1]="KM2",e[e.KM3=2]="KM3",e[e.KM4=3]="KM4",e[e.KM4_1=4]="KM4_1",e[e.keyMint1=100]="keyMint1",e[e.keyMint2=200]="keyMint2",e[e.keyMint3=300]="keyMint3",e[e.keyMint4=400]="keyMint4"})(Tc||(Tc={}));var Or=class{static{o(this,"KeyDescription")}constructor(t={}){this.attestationVersion=Tc.KM4,this.attestationSecurityLevel=Bs.software,this.keymasterVersion=0,this.keymasterSecurityLevel=Bs.software,this.attestationChallenge=new re,this.uniqueId=new re,this.softwareEnforced=new W,this.teeEnforced=new W,Object.assign(this,t)}};v([w({type:A.Integer})],Or.prototype,"attestationVersion",void 0);v([w({type:A.Enumerated})],Or.prototype,"attestationSecurityLevel",void 0);v([w({type:A.Integer})],Or.prototype,"keymasterVersion",void 0);v([w({type:A.Enumerated})],Or.prototype,"keymasterSecurityLevel",void 0);v([w({type:re})],Or.prototype,"attestationChallenge",void 0);v([w({type:re})],Or.prototype,"uniqueId",void 0);v([w({type:W})],Or.prototype,"softwareEnforced",void 0);v([w({type:W})],Or.prototype,"teeEnforced",void 0);var us=class e{static{o(this,"KeyMintKeyDescription")}constructor(t={}){this.attestationVersion=Tc.keyMint4,this.attestationSecurityLevel=Bs.software,this.keyMintVersion=0,this.keyMintSecurityLevel=Bs.software,this.attestationChallenge=new re,this.uniqueId=new re,this.softwareEnforced=new W,this.hardwareEnforced=new W,Object.assign(this,t)}toLegacyKeyDescription(){return new Or({attestationVersion:this.attestationVersion,attestationSecurityLevel:this.attestationSecurityLevel,keymasterVersion:this.keyMintVersion,keymasterSecurityLevel:this.keyMintSecurityLevel,attestationChallenge:this.attestationChallenge,uniqueId:this.uniqueId,softwareEnforced:this.softwareEnforced,teeEnforced:this.hardwareEnforced})}static fromLegacyKeyDescription(t){return new e({attestationVersion:t.attestationVersion,attestationSecurityLevel:t.attestationSecurityLevel,keyMintVersion:t.keymasterVersion,keyMintSecurityLevel:t.keymasterSecurityLevel,attestationChallenge:t.attestationChallenge,uniqueId:t.uniqueId,softwareEnforced:t.softwareEnforced,hardwareEnforced:t.teeEnforced})}};v([w({type:A.Integer})],us.prototype,"attestationVersion",void 0);v([w({type:A.Enumerated})],us.prototype,"attestationSecurityLevel",void 0);v([w({type:A.Integer})],us.prototype,"keyMintVersion",void 0);v([w({type:A.Enumerated})],us.prototype,"keyMintSecurityLevel",void 0);v([w({type:re})],us.prototype,"attestationChallenge",void 0);v([w({type:re})],us.prototype,"uniqueId",void 0);v([w({type:W})],us.prototype,"softwareEnforced",void 0);v([w({type:W})],us.prototype,"hardwareEnforced",void 0);l();u();c();var _A,SA=class extends W{static{o(this,"NonStandardAuthorization")}};SA=v([$({type:L.Choice})],SA);var Oc=_A=class extends ke{static{o(this,"NonStandardAuthorizationList")}constructor(t){super(t),Object.setPrototypeOf(this,_A.prototype)}findProperty(t){let r=this.find(n=>t in n);if(r)return r[t]}};Oc=_A=v([$({type:L.Sequence,itemType:SA})],Oc);var Nn=class{static{o(this,"NonStandardKeyDescription")}get keyMintVersion(){return this.keymasterVersion}set keyMintVersion(t){this.keymasterVersion=t}get keyMintSecurityLevel(){return this.keymasterSecurityLevel}set keyMintSecurityLevel(t){this.keymasterSecurityLevel=t}get hardwareEnforced(){return this.teeEnforced}set hardwareEnforced(t){this.teeEnforced=t}constructor(t={}){this.attestationVersion=Tc.KM4,this.attestationSecurityLevel=Bs.software,this.keymasterVersion=0,this.keymasterSecurityLevel=Bs.software,this.attestationChallenge=new re,this.uniqueId=new re,this.softwareEnforced=new Oc,this.teeEnforced=new Oc,Object.assign(this,t)}};v([w({type:A.Integer})],Nn.prototype,"attestationVersion",void 0);v([w({type:A.Enumerated})],Nn.prototype,"attestationSecurityLevel",void 0);v([w({type:A.Integer})],Nn.prototype,"keymasterVersion",void 0);v([w({type:A.Enumerated})],Nn.prototype,"keymasterSecurityLevel",void 0);v([w({type:re})],Nn.prototype,"attestationChallenge",void 0);v([w({type:re})],Nn.prototype,"uniqueId",void 0);v([w({type:Oc})],Nn.prototype,"softwareEnforced",void 0);v([w({type:Oc})],Nn.prototype,"teeEnforced",void 0);var r6=class extends Nn{static{o(this,"NonStandardKeyMintKeyDescription")}constructor(t={}){"keymasterVersion"in t&&!("keyMintVersion"in t)&&(t.keyMintVersion=t.keymasterVersion),"keymasterSecurityLevel"in t&&!("keyMintSecurityLevel"in t)&&(t.keyMintSecurityLevel=t.keymasterSecurityLevel),"teeEnforced"in t&&!("hardwareEnforced"in t)&&(t.hardwareEnforced=t.teeEnforced),super(t)}};r6=v([$({type:L.Sequence})],r6);l();u();c();var id=class{static{o(this,"AttestationPackageInfo")}constructor(t={}){Object.assign(this,t)}};v([w({type:A.OctetString})],id.prototype,"packageName",void 0);v([w({type:A.Integer})],id.prototype,"version",void 0);var yx=class{static{o(this,"AttestationApplicationId")}constructor(t={}){Object.assign(this,t)}};v([w({type:id,repeated:"set"})],yx.prototype,"packageInfos",void 0);v([w({type:A.OctetString,repeated:"set"})],yx.prototype,"signatureDigests",void 0);function toe(e,t="base64url"){let r=ts.toArrayBuffer(e,t==="base64url");return new Uint8Array(r)}o(toe,"toBuffer");function roe(e,t="base64url"){return ts.fromArrayBuffer(e,t==="base64url")}o(roe,"fromBuffer");function noe(e){let t=ts.toArrayBuffer(e,!0);return ts.fromArrayBuffer(t)}o(noe,"toBase64");function soe(e){return ts.fromString(e,!0)}o(soe,"fromUTF8String");function ioe(e){return ts.toString(e,!0)}o(ioe,"toUTF8String");function ooe(e){return ts.validate(e,!1)}o(ooe,"isBase64");function aoe(e){return e=n6(e),ts.validate(e,!0)}o(aoe,"isBase64URL");function n6(e){return e.replace(/=/g,"")}o(n6,"trimPadding");var Gt={};Hn(Gt,{decodeFirst:()=>coe,encode:()=>uoe});l();u();c();function coe(e){let t=new Uint8Array(e),r=wl.decodePartialCBOR(t,0),[n]=r;return n}o(coe,"decodeFirst");function uoe(e){return wl.encodeCBOR(e)}o(uoe,"encode");var Ln={};Hn(Ln,{digest:()=>o6,getRandomValues:()=>a6,verify:()=>g6});l();u();c();l();u();c();l();u();c();l();u();c();function s6(e){let t=e.get(Z.kty);return wA(t)&&t===Gr.OKP}o(s6,"isCOSEPublicKeyOKP");function ki(e){let t=e.get(Z.kty);return wA(t)&&t===Gr.EC2}o(ki,"isCOSEPublicKeyEC2");function kc(e){let t=e.get(Z.kty);return wA(t)&&t===Gr.RSA}o(kc,"isCOSEPublicKeyRSA");var Z;(function(e){e[e.kty=1]="kty",e[e.alg=3]="alg",e[e.crv=-1]="crv",e[e.x=-2]="x",e[e.y=-3]="y",e[e.n=-1]="n",e[e.e=-2]="e"})(Z||(Z={}));var Gr;(function(e){e[e.OKP=1]="OKP",e[e.EC2=2]="EC2",e[e.RSA=3]="RSA"})(Gr||(Gr={}));function wA(e){return Object.values(Gr).indexOf(e)>=0}o(wA,"isCOSEKty");var Wt;(function(e){e[e.P256=1]="P256",e[e.P384=2]="P384",e[e.P521=3]="P521",e[e.ED25519=6]="ED25519",e[e.SECP256K1=8]="SECP256K1"})(Wt||(Wt={}));function i6(e){return Object.values(Wt).indexOf(e)>=0}o(i6,"isCOSECrv");var oe;(function(e){e[e.ES256=-7]="ES256",e[e.EdDSA=-8]="EdDSA",e[e.ES384=-35]="ES384",e[e.ES512=-36]="ES512",e[e.PS256=-37]="PS256",e[e.PS384=-38]="PS384",e[e.PS512=-39]="PS512",e[e.ES256K=-47]="ES256K",e[e.RS256=-257]="RS256",e[e.RS384=-258]="RS384",e[e.RS512=-259]="RS512",e[e.RS1=-65535]="RS1"})(oe||(oe={}));function ls(e){return Object.values(oe).indexOf(e)>=0}o(ls,"isCOSEAlg");function Ri(e){if([oe.RS1].indexOf(e)>=0)return"SHA-1";if([oe.ES256,oe.PS256,oe.RS256].indexOf(e)>=0)return"SHA-256";if([oe.ES384,oe.PS384,oe.RS384].indexOf(e)>=0)return"SHA-384";if([oe.ES512,oe.PS512,oe.RS512,oe.EdDSA].indexOf(e)>=0)return"SHA-512";throw new Error(`Could not map COSE alg value of ${e} to a WebCrypto alg`)}o(Ri,"mapCoseAlgToWebCryptoAlg");l();u();c();var od;function hn(){return new Promise((t,r)=>{if(od)return t(od);let n=doe.stubThisGlobalThisCrypto();return n?(od=n,t(od)):r(new EA)})}o(hn,"getWebCrypto");var EA=class extends Error{static{o(this,"MissingWebCrypto")}constructor(){super("An instance of the Crypto API could not be located"),this.name="MissingWebCrypto"}},doe={stubThisGlobalThisCrypto:o(()=>globalThis.crypto,"stubThisGlobalThisCrypto"),setCachedCrypto:o(e=>{od=e},"setCachedCrypto")};async function o6(e,t){let r=await hn(),n=Ri(t),s=await r.subtle.digest(n,e);return new Uint8Array(s)}o(o6,"digest");l();u();c();async function a6(e){return(await hn()).getRandomValues(e),e}o(a6,"getRandomValues");l();u();c();l();u();c();l();u();c();async function Rc(e){let t=await hn(),{keyData:r,algorithm:n}=e;return t.subtle.importKey("jwk",r,n,!1,["verify"])}o(Rc,"importKey");async function bx(e){let{cosePublicKey:t,signature:r,data:n,shaHashOverride:s}=e,i=await hn(),a=t.get(Z.alg),d=t.get(Z.crv),p=t.get(Z.x),f=t.get(Z.y);if(!a)throw new Error("Public key was missing alg (EC2)");if(!d)throw new Error("Public key was missing crv (EC2)");if(!p)throw new Error("Public key was missing x (EC2)");if(!f)throw new Error("Public key was missing y (EC2)");let m;if(d===Wt.P256)m="P-256";else if(d===Wt.P384)m="P-384";else if(d===Wt.P521)m="P-521";else throw new Error(`Unexpected COSE crv value of ${d} (EC2)`);let h={kty:"EC",crv:m,x:Y.fromBuffer(p),y:Y.fromBuffer(f),ext:!1},y=await Rc({keyData:h,algorithm:{name:"ECDSA",namedCurve:m}}),x=Ri(a);s&&(x=Ri(s));let _={name:"ECDSA",hash:{name:x}};return i.subtle.verify(_,y,r,n)}o(bx,"verifyEC2");l();u();c();l();u();c();function CA(e){if([oe.EdDSA].indexOf(e)>=0)return"Ed25519";if([oe.ES256,oe.ES384,oe.ES512,oe.ES256K].indexOf(e)>=0)return"ECDSA";if([oe.RS256,oe.RS384,oe.RS512,oe.RS1].indexOf(e)>=0)return"RSASSA-PKCS1-v1_5";if([oe.PS256,oe.PS384,oe.PS512].indexOf(e)>=0)return"RSA-PSS";throw new Error(`Could not map COSE alg value of ${e} to a WebCrypto key alg name`)}o(CA,"mapCoseAlgToWebCryptoKeyAlgName");async function xx(e){let{cosePublicKey:t,signature:r,data:n,shaHashOverride:s}=e,i=await hn(),a=t.get(Z.alg),d=t.get(Z.n),p=t.get(Z.e);if(!a)throw new Error("Public key was missing alg (RSA)");if(!ls(a))throw new Error(`Public key had invalid alg ${a} (RSA)`);if(!d)throw new Error("Public key was missing n (RSA)");if(!p)throw new Error("Public key was missing e (RSA)");let f={kty:"RSA",alg:"",n:Y.fromBuffer(d),e:Y.fromBuffer(p),ext:!1},m={name:CA(a),hash:{name:Ri(a)}},h={name:CA(a)};if(s&&(m.hash.name=Ri(s)),m.name==="RSASSA-PKCS1-v1_5")m.hash.name==="SHA-256"?f.alg="RS256":m.hash.name==="SHA-384"?f.alg="RS384":m.hash.name==="SHA-512"?f.alg="RS512":m.hash.name==="SHA-1"&&(f.alg="RS1");else if(m.name==="RSA-PSS"){let y=0;m.hash.name==="SHA-256"?(f.alg="PS256",y=32):m.hash.name==="SHA-384"?(f.alg="PS384",y=48):m.hash.name==="SHA-512"&&(f.alg="PS512",y=64),h.saltLength=y}else throw new Error(`Unexpected RSA key algorithm ${a} (${m.name})`);let g=await Rc({keyData:f,algorithm:m});return i.subtle.verify(h,g,r,n)}o(xx,"verifyRSA");l();u();c();l();u();c();l();u();c();function ad(e){let t=J.toHex(e);return[t.slice(0,8),t.slice(8,12),t.slice(12,16),t.slice(16,20),t.slice(20,32)].join("-")}o(ad,"convertAAGUIDToString");l();u();c();function lt(e){let t;if(typeof e=="string")if(Y.isBase64URL(e))t=Y.toBase64(e);else if(Y.isBase64(e))t=e;else throw new Error("Certificate is not a valid base64 or base64url string");else t=Y.fromBuffer(e,"base64");let r="";for(let n=0;n<Math.ceil(t.length/64);n+=1){let s=64*n;r+=`${t.substr(s,64)}
`}return r=`-----BEGIN CERTIFICATE-----
${r}-----END CERTIFICATE-----
`,r}o(lt,"convertCertBufferToPEM");l();u();c();function ia(e){let t=Gt.decodeFirst(e),r=Uint8Array.from([4]),n=t.get(Z.x),s=t.get(Z.y);if(!n)throw new Error("COSE public key was missing x");return s?J.concat([r,n,s]):J.concat([r,n])}o(ia,"convertCOSEtoPKCS");l();u();c();function AA(e){return poe.stubThis(Gt.decodeFirst(e))}o(AA,"decodeAttestationObject");var poe={stubThis:o(e=>e,"stubThis")};l();u();c();function cd(e){let t=Y.toUTF8String(e),r=JSON.parse(t);return foe.stubThis(r)}o(cd,"decodeClientDataJSON");var foe={stubThis:o(e=>e,"stubThis")};l();u();c();function Ds(e){return moe.stubThis(Gt.decodeFirst(e))}o(Ds,"decodeCredentialPublicKey");var moe={stubThis:o(e=>e,"stubThis")};l();u();c();async function TA(){let e=new Uint8Array(32);return await Ln.getRandomValues(e),hoe.stubThis(e)}o(TA,"generateUserID");var hoe={stubThis:o(e=>e,"stubThis")};l();u();c();var c6={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN"};function ds(e){let t=Re.parse(e,Kt),r=t.tbsCertificate,n={combined:""};r.issuer.forEach(([a])=>{let d=c6[a.type];d&&(n[d]=a.value.toString())}),n.combined=u6(n);let s={combined:""};r.subject.forEach(([a])=>{let d=c6[a.type];d&&(s[d]=a.value.toString())}),s.combined=u6(s);let i=!1;if(r.extensions)for(let a of r.extensions)a.extnID===zC&&(i=Re.parse(a.extnValue,Yo).cA);return{issuer:n,subject:s,version:r.version,basicConstraintsCA:i,notBefore:r.validity.notBefore.getTime(),notAfter:r.validity.notAfter.getTime(),parsedCertificate:t}}o(ds,"getCertificateInfo");function u6(e){let t=[];return e.C&&t.push(e.C),e.O&&t.push(e.O),e.OU&&t.push(e.OU),e.CN&&t.push(e.CN),t.join(" : ")}o(u6,"issuerSubjectToString");l();u();c();l();u();c();function vx(e){return goe.stubThis(e)}o(vx,"fetch");var goe={stubThis:o(e=>CC(e),"stubThis")};var l6={};async function OA(e){let{extensions:t}=e.tbsCertificate;if(!t)return!1;let r,n,s;t.forEach(g=>{g.extnID===HC?r=Re.parse(g.extnValue,Ci):g.extnID===oA?n=Re.parse(g.extnValue,ed):g.extnID===GC&&(s=Re.parse(g.extnValue,Xo))});let i;r&&r.keyIdentifier?i=J.toHex(new Uint8Array(r.keyIdentifier.buffer)):n&&(i=J.toHex(new Uint8Array(n.buffer)));let a=J.toHex(new Uint8Array(e.tbsCertificate.serialNumber));if(i){let g=l6[i];if(g){let y=new Date;if(!g.nextUpdate||g.nextUpdate>y)return g.revokedCerts.indexOf(a)>=0}}let d=s?.[0].distributionPoint?.fullName?.[0].uniformResourceIdentifier;if(!d)return!1;let p;try{p=await(await vx(d)).arrayBuffer()}catch{return!1}let f;try{f=Re.parse(p,Oi)}catch{return!1}let m={revokedCerts:[],nextUpdate:void 0};f.tbsCertList.nextUpdate&&(m.nextUpdate=f.tbsCertList.nextUpdate.getTime());let h=f.tbsCertList.revokedCertificates;if(h){for(let g of h){let y=J.toHex(new Uint8Array(g.userCertificate));m.revokedCerts.push(y)}return i&&(l6[i]=m),m.revokedCerts.indexOf(a)>=0}return!1}o(OA,"isCertRevoked");l();u();c();l();u();c();function d6(e){let t;try{t=Gt.decodeFirst(e)}catch(r){let n=r;throw new Error(`Error decoding authenticator extensions: ${n.message}`)}return p6(t)}o(d6,"decodeAuthenticatorExtensions");function p6(e){let t={};for(let[r,n]of e)n instanceof Map?t[r]=p6(n):t[r]=n;return t}o(p6,"convertMapToObjectDeep");function ud(e){if(e.byteLength<37)throw new Error(`Authenticator data was ${e.byteLength} bytes, expected at least 37 bytes`);let t=0,r=J.toDataView(e),n=e.slice(t,t+=32),s=e.slice(t,t+=1),i=s[0],a={up:!!(i&1),uv:!!(i&4),be:!!(i&8),bs:!!(i&16),at:!!(i&64),ed:!!(i&128),flagsInt:i},d=e.slice(t,t+4),p=r.getUint32(t,!1);t+=4;let f,m,h;if(a.at){f=e.slice(t,t+=16);let x=r.getUint16(t);t+=2,m=e.slice(t,t+=x);let _=J.fromHex("a301634f4b500327206745643235353139"),E=e.slice(t,t+_.byteLength),T=!1;J.areEqual(_,E)&&(T=!0,e[t]=164);let k=Gt.decodeFirst(e.slice(t)),D=Uint8Array.from(Gt.encode(k));T&&(e[t]=163),h=D,t+=D.byteLength}let g,y;if(a.ed){let x=Gt.decodeFirst(e.slice(t));y=Uint8Array.from(Gt.encode(x)),g=d6(y),t+=y.byteLength}if(e.byteLength>t)throw new Error("Leftover bytes detected while parsing authenticator data");return yoe.stubThis({rpIdHash:n,flagsBuf:s,flags:a,counter:p,counterBuf:d,aaguid:f,credentialID:m,credentialPublicKey:h,extensionsData:g,extensionsDataBuffer:y})}o(ud,"parseAuthenticatorData");var yoe={stubThis:o(e=>e,"stubThis")};l();u();c();function kr(e,t=-7){return typeof e=="string"&&(e=J.fromUTF8String(e)),Ln.digest(e,t)}o(kr,"toHash");l();u();c();l();u();c();l();u();c();l();u();c();function ld(e){let t;if(e==="1.2.840.10045.4.3.2")t=oe.ES256;else if(e==="1.2.840.10045.4.3.3")t=oe.ES384;else if(e==="1.2.840.10045.4.3.4")t=oe.ES512;else if(e==="1.2.840.113549.1.1.11")t=oe.RS256;else if(e==="1.2.840.113549.1.1.12")t=oe.RS384;else if(e==="1.2.840.113549.1.1.13")t=oe.RS512;else if(e==="1.2.840.113549.1.1.5")t=oe.RS1;else throw new Error(`Unable to map X.509 signature algorithm ${e} to a COSE algorithm`);return t}o(ld,"mapX509SignatureAlgToCOSEAlg");function _x(e){let t=new Map,r=Re.parse(e,Kt),{tbsCertificate:n}=r,{subjectPublicKeyInfo:s,signature:i}=n,a=i.algorithm,d=s.algorithm.algorithm;if(d===uA){if(!s.algorithm.parameters)throw new Error("Certificate public key was missing parameters (EC2)");let p=Re.parse(new Uint8Array(s.algorithm.parameters),cs),f=-999,{namedCurve:m}=p;if(m===lA)f=Wt.P256;else if(m===dA)f=Wt.P384;else throw new Error(`Certificate public key contained unexpected namedCurve ${m} (EC2)`);let h=new Uint8Array(s.subjectPublicKey),g,y;if(h[0]===4){let _=1,E=(h.length-1)/2;g=h.slice(_,_+=E),y=h.slice(_)}else throw new Error('TODO: Figure out how to handle public keys in "compressed form"');let x=new Map;x.set(Z.kty,Gr.EC2),x.set(Z.alg,ld(a)),x.set(Z.crv,f),x.set(Z.x,g),x.set(Z.y,y),t=x}else if(d==="1.2.840.113549.1.1.1"){let p=Re.parse(s.subjectPublicKey,na),f=new Map;f.set(Z.kty,Gr.RSA),f.set(Z.alg,ld(a)),f.set(Z.n,new Uint8Array(p.modulus)),f.set(Z.e,new Uint8Array(p.publicExponent)),t=f}else throw new Error(`Certificate public key contained unexpected algorithm ID ${d}`);return t}o(_x,"convertX509PublicKeyToCOSE");function Yt(e){let{signature:t,data:r,credentialPublicKey:n,x509Certificate:s,hashAlgorithm:i}=e;if(!s&&!n)throw new Error('Must declare either "leafCert" or "credentialPublicKey"');if(s&&n)throw new Error('Must not declare both "leafCert" and "credentialPublicKey"');let a=new Map;return n?a=Ds(n):s&&(a=_x(s)),boe.stubThis(Ln.verify({cosePublicKey:a,signature:t,data:r,shaHashOverride:i}))}o(Yt,"verifySignature");var boe={stubThis:o(e=>e,"stubThis")};l();u();c();function Mc(e){let t=e.replace("-----BEGIN CERTIFICATE-----","").replace("-----END CERTIFICATE-----","").replace(/[\n ]/g,"");return Y.toBuffer(t,"base64")}o(Mc,"convertPEMToBytes");async function It(e,t=[]){if(t.length===0)return!0;let r=!1,n;for(let s of t)try{let i=e.concat([s]);await xoe(i),r=!1,n=void 0;break}catch(i){if(i instanceof dd)r=!0;else if(i instanceof oa)n=i.message;else throw i}if(r)throw new dd;if(n)throw new oa(n);return!0}o(It,"validateCertificatePath");async function xoe(e){if(new Set(e).size!==e.length)throw new Error("Invalid certificate path: found duplicate certificates");for(let t=0;t<e.length;t+=1){let r=e[t],n=t===0,s=t+1>=e.length,i="";s?i=r:i=e[t+1];let a=ds(Mc(r)),d=ds(Mc(i)),p=a.parsedCertificate;if(await OA(p))throw new Error("Found revoked certificate in certificate path");let{notBefore:m,notAfter:h}=d,g=new Date(Date.now());if(m>g||h<g)throw n?new oa(`Leaf certificate is not yet valid or expired: ${i}`):s?new oa(`Root certificate is not yet valid or expired: ${i}`):new oa(`Intermediate certificate is not yet valid or expired: ${i}`);if(a.issuer.combined!==d.subject.combined)throw new dd;let y=Ei.serialize(p.tbsCertificate),x=p.signatureValue,_=ld(p.signatureAlgorithm.algorithm),E=Mc(i);if(!await Yt({data:new Uint8Array(y),signature:new Uint8Array(x),x509Certificate:E,hashAlgorithm:_}))throw new Error("Invalid certificate path: invalid signature")}return!0}o(xoe,"_validatePath");var dd=class extends Error{static{o(this,"InvalidSubjectAndIssuer")}constructor(){super("Subject issuer did not match issuer subject"),this.name="InvalidSubjectAndIssuer"}},oa=class extends Error{static{o(this,"CertificateNotYetValidOrExpired")}constructor(t){super(t),this.name="CertificateNotYetValidOrExpired"}};async function f6(e){let{cosePublicKey:t,signature:r,data:n}=e,s=await hn(),i=t.get(Z.alg),a=t.get(Z.crv),d=t.get(Z.x);if(!i)throw new Error("Public key was missing alg (OKP)");if(!ls(i))throw new Error(`Public key had invalid alg ${i} (OKP)`);if(!a)throw new Error("Public key was missing crv (OKP)");if(!d)throw new Error("Public key was missing x (OKP)");let p;if(a===Wt.ED25519)p="Ed25519";else throw new Error(`Unexpected COSE crv value of ${a} (OKP)`);let f={kty:"OKP",crv:p,alg:"EdDSA",x:Y.fromBuffer(d),ext:!1},h=await Rc({keyData:f,algorithm:{name:p,namedCurve:p}}),g={name:p};return s.subtle.verify(g,h,r,n)}o(f6,"verifyOKP");l();u();c();function h6(e,t){let r=Re.parse(e,ta),n=new Uint8Array(r.r),s=new Uint8Array(r.s),i=voe(t),a=m6(n,i),d=m6(s,i);return J.concat([a,d])}o(h6,"unwrapEC2Signature");function voe(e){switch(e){case Wt.P256:return 32;case Wt.P384:return 48;case Wt.P521:return 66;default:throw new Error(`Unexpected COSE crv value of ${e} (EC2)`)}}o(voe,"getSignatureComponentLength");function m6(e,t){let r;if(e.length<t)r=new Uint8Array(t),r.set(e,t-e.length);else if(e.length===t)r=e;else if(e.length===t+1&&e[0]===0&&(e[1]&128)===128)r=e.subarray(1);else throw new Error(`Invalid signature component length ${e.length}, expected ${t}`);return r}o(m6,"toNormalizedBytes");function g6(e){let{cosePublicKey:t,signature:r,data:n,shaHashOverride:s}=e;if(ki(t)){let a=t.get(Z.crv);if(!i6(a))throw new Error(`unknown COSE curve ${a}`);let d=h6(r,a);return bx({cosePublicKey:t,signature:d,data:n,shaHashOverride:s})}else{if(kc(t))return xx({cosePublicKey:t,signature:r,data:n,shaHashOverride:s});if(s6(t))return f6({cosePublicKey:t,signature:r,data:n})}let i=t.get(Z.kty);throw new Error(`Signature verification with public key of kty ${i} is not supported by this method`)}o(g6,"verify");var J={};Hn(J,{areEqual:()=>_oe,concat:()=>Eoe,fromASCIIString:()=>Toe,fromHex:()=>woe,fromUTF8String:()=>Aoe,toDataView:()=>Ooe,toHex:()=>Soe,toUTF8String:()=>Coe});l();u();c();function _oe(e,t){return e.length!=t.length?!1:e.every((r,n)=>r===t[n])}o(_oe,"areEqual");function Soe(e){return Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}o(Soe,"toHex");function woe(e){if(!e)return Uint8Array.from([]);if(!(e.length!==0&&e.length%2===0&&!/[^a-fA-F0-9]/u.test(e)))throw new Error("Invalid hex string");let r=e.match(/.{1,2}/g)??[];return Uint8Array.from(r.map(n=>parseInt(n,16)))}o(woe,"fromHex");function Eoe(e){let t=0,r=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(r);return e.forEach(s=>{n.set(s,t),t+=s.length}),n}o(Eoe,"concat");function Coe(e){return new globalThis.TextDecoder("utf-8").decode(e)}o(Coe,"toUTF8String");function Aoe(e){return new globalThis.TextEncoder().encode(e)}o(Aoe,"fromUTF8String");function Toe(e){return Uint8Array.from(e.split("").map(t=>t.charCodeAt(0)))}o(Toe,"fromASCIIString");function Ooe(e){return new DataView(e.buffer,e.byteOffset,e.length)}o(Ooe,"toDataView");async function pd(){let e=new Uint8Array(32);return await Ln.getRandomValues(e),koe.stubThis(e)}o(pd,"generateChallenge");var koe={stubThis:o(e=>e,"stubThis")};var y6=[-8,-7,-36,-37,-38,-39,-257,-258,-259,-65535],Roe={residentKey:"preferred",userVerification:"preferred"},Moe=[-8,-7,-257];async function kA(e){let{rpName:t,rpID:r,userName:n,userID:s,challenge:i=await pd(),userDisplayName:a="",timeout:d=6e4,attestationType:p="none",excludeCredentials:f=[],authenticatorSelection:m=Roe,extensions:h,supportedAlgorithmIDs:g=Moe}=e,y=g.map(E=>({alg:E,type:"public-key"}));m.residentKey===void 0?m.requireResidentKey&&(m.residentKey="required"):m.requireResidentKey=m.residentKey==="required";let x=i;if(typeof x=="string"&&(x=J.fromUTF8String(x)),typeof s=="string")throw new Error("String values for `userID` are no longer supported. See https://simplewebauthn.dev/docs/advanced/server/custom-user-ids");let _=s;return _||(_=await TA()),{challenge:Y.fromBuffer(x),rp:{name:t,id:r},user:{id:Y.fromBuffer(_),name:n,displayName:a},pubKeyCredParams:y,timeout:d,attestation:p,excludeCredentials:f.map(E=>{if(!Y.isBase64URL(E.id))throw new Error(`excludeCredential id "${E.id}" is not a valid base64url string`);return{...E,id:Y.trimPadding(E.id),type:"public-key"}}),authenticatorSelection:m,extensions:{...h,credProps:!0}}}o(kA,"generateRegistrationOptions");l();u();c();l();u();c();function Sx({be:e,bs:t}){let r=t,n="singleDevice";if(e&&(n="multiDevice"),n==="singleDevice"&&r)throw new RA("Single-device credential indicated that it was backed up, which should be impossible.");return{credentialDeviceType:n,credentialBackedUp:r}}o(Sx,"parseBackupFlags");var RA=class extends Error{static{o(this,"InvalidBackupFlags")}constructor(t){super(t),this.name="InvalidBackupFlags"}};l();u();c();async function wx(e,t){try{return await Promise.any(t.map(n=>new Promise((s,i)=>{kr(J.fromASCIIString(n)).then(a=>{J.areEqual(e,a)?s(n):i()})})))}catch(r){throw r.name==="AggregateError"?new MA:r}}o(wx,"matchExpectedRPID");var MA=class extends Error{static{o(this,"UnexpectedRPIDHash")}constructor(){super("Unexpected RP ID hash"),this.name="UnexpectedRPIDHash"}};l();u();c();l();u();c();var b6=`-----BEGIN CERTIFICATE-----
MIIDdTCCAl2gAwIBAgILBAAAAAABFUtaw5QwDQYJKoZIhvcNAQEFBQAwVzELMAkG
A1UEBhMCQkUxGTAXBgNVBAoTEEdsb2JhbFNpZ24gbnYtc2ExEDAOBgNVBAsTB1Jv
b3QgQ0ExGzAZBgNVBAMTEkdsb2JhbFNpZ24gUm9vdCBDQTAeFw05ODA5MDExMjAw
MDBaFw0yODAxMjgxMjAwMDBaMFcxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9i
YWxTaWduIG52LXNhMRAwDgYDVQQLEwdSb290IENBMRswGQYDVQQDExJHbG9iYWxT
aWduIFJvb3QgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDaDuaZ
jc6j40+Kfvvxi4Mla+pIH/EqsLmVEQS98GPR4mdmzxzdzxtIK+6NiY6arymAZavp
xy0Sy6scTHAHoT0KMM0VjU/43dSMUBUc71DuxC73/OlS8pF94G3VNTCOXkNz8kHp
1Wrjsok6Vjk4bwY8iGlbKk3Fp1S4bInMm/k8yuX9ifUSPJJ4ltbcdG6TRGHRjcdG
snUOhugZitVtbNV4FpWi6cgKOOvyJBNPc1STE4U6G7weNLWLBYy5d4ux2x8gkasJ
U26Qzns3dLlwR5EiUWMWea6xrkEmCMgZK9FGqkjWZCrXgzT/LCrBbBlDSgeF59N8
9iFo7+ryUp9/k5DPAgMBAAGjQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMBAf8E
BTADAQH/MB0GA1UdDgQWBBRge2YaRQ2XyolQL30EzTSo//z9SzANBgkqhkiG9w0B
AQUFAAOCAQEA1nPnfE920I2/7LqivjTFKDK1fPxsnCwrvQmeU79rXqoRSLblCKOz
yj1hTdNGCbM+w6DjY1Ub8rrvrTnhQ7k4o+YviiY776BQVvnGCv04zcQLcFGUl5gE
38NflNUVyRRBnMRddWQVDf9VMOyGj/8N7yy5Y0b2qvzfvGn9LhJIZJrglfCm7ymP
AbEVtQwdpf5pLGkkeB6zpxxxYu7KyJesF12KwvhHhm4qxFYxldBniYUr+WymXUad
DKqC5JlR3XC321Y9YeRq4VzW9v493kHMB65jUr9TU/Qr6cf9tveCX4XSQRjbgbME
HMUfpIBvFSDJ3gyICh3WZlXi/EjJKSZp4A==
-----END CERTIFICATE-----
`;l();u();c();var x6=`-----BEGIN CERTIFICATE-----
MIIFYDCCA0igAwIBAgIJAOj6GWMU0voYMA0GCSqGSIb3DQEBCwUAMBsxGTAXBgNV
BAUTEGY5MjAwOWU4NTNiNmIwNDUwHhcNMTYwNTI2MTYyODUyWhcNMjYwNTI0MTYy
ODUyWjAbMRkwFwYDVQQFExBmOTIwMDllODUzYjZiMDQ1MIICIjANBgkqhkiG9w0B
AQEFAAOCAg8AMIICCgKCAgEAr7bHgiuxpwHsK7Qui8xUFmOr75gvMsd/dTEDDJdS
Sxtf6An7xyqpRR90PL2abxM1dEqlXnf2tqw1Ne4Xwl5jlRfdnJLmN0pTy/4lj4/7
tv0Sk3iiKkypnEUtR6WfMgH0QZfKHM1+di+y9TFRtv6y//0rb+T+W8a9nsNL/ggj
nar86461qO0rOs2cXjp3kOG1FEJ5MVmFmBGtnrKpa73XpXyTqRxB/M0n1n/W9nGq
C4FSYa04T6N5RIZGBN2z2MT5IKGbFlbC8UrW0DxW7AYImQQcHtGl/m00QLVWutHQ
oVJYnFPlXTcHYvASLu+RhhsbDmxMgJJ0mcDpvsC4PjvB+TxywElgS70vE0XmLD+O
JtvsBslHZvPBKCOdT0MS+tgSOIfga+z1Z1g7+DVagf7quvmag8jfPioyKvxnK/Eg
sTUVi2ghzq8wm27ud/mIM7AY2qEORR8Go3TVB4HzWQgpZrt3i5MIlCaY504LzSRi
igHCzAPlHws+W0rB5N+er5/2pJKnfBSDiCiFAVtCLOZ7gLiMm0jhO2B6tUXHI/+M
RPjy02i59lINMRRev56GKtcd9qO/0kUJWdZTdA2XoS82ixPvZtXQpUpuL12ab+9E
aDK8Z4RHJYYfCT3Q5vNAXaiWQ+8PTWm2QgBR/bkwSWc+NpUFgNPN9PvQi8WEg5Um
AGMCAwEAAaOBpjCBozAdBgNVHQ4EFgQUNmHhAHyIBQlRi0RsR/8aTMnqTxIwHwYD
VR0jBBgwFoAUNmHhAHyIBQlRi0RsR/8aTMnqTxIwDwYDVR0TAQH/BAUwAwEB/zAO
BgNVHQ8BAf8EBAMCAYYwQAYDVR0fBDkwNzA1oDOgMYYvaHR0cHM6Ly9hbmRyb2lk
Lmdvb2dsZWFwaXMuY29tL2F0dGVzdGF0aW9uL2NybC8wDQYJKoZIhvcNAQELBQAD
ggIBACDIw41L3KlXG0aMiS//cqrG+EShHUGo8HNsw30W1kJtjn6UBwRM6jnmiwfB
Pb8VA91chb2vssAtX2zbTvqBJ9+LBPGCdw/E53Rbf86qhxKaiAHOjpvAy5Y3m00m
qC0w/Zwvju1twb4vhLaJ5NkUJYsUS7rmJKHHBnETLi8GFqiEsqTWpG/6ibYCv7rY
DBJDcR9W62BW9jfIoBQcxUCUJouMPH25lLNcDc1ssqvC2v7iUgI9LeoM1sNovqPm
QUiG9rHli1vXxzCyaMTjwftkJLkf6724DFhuKug2jITV0QkXvaJWF4nUaHOTNA4u
JU9WDvZLI1j83A+/xnAJUucIv/zGJ1AMH2boHqF8CY16LpsYgBt6tKxxWH00XcyD
CdW2KlBCeqbQPcsFmWyWugxdcekhYsAWyoSf818NUsZdBWBaR/OukXrNLfkQ79Iy
ZohZbvabO/X+MVT3rriAoKc8oE2Uws6DF+60PV7/WIPjNvXySdqspImSN78mflxD
qwLqRBYkA3I75qppLGG9rp7UCdRjxMl8ZDBld+7yvHVgt1cVzJx9xnyGCC23Uaic
MDSXYrB4I4WHXPGjxhZuCuPBLTdOLU8YRvMYdEvYebWHMpvwGCF6bAx3JBpIeOQ1
wDB5y0USicV3YgYGmi+NZfhA4URSh77Yd6uuJOJENRaNVTzk
-----END CERTIFICATE-----
`,v6=`-----BEGIN CERTIFICATE-----
MIIFHDCCAwSgAwIBAgIJANUP8luj8tazMA0GCSqGSIb3DQEBCwUAMBsxGTAXBgNV
BAUTEGY5MjAwOWU4NTNiNmIwNDUwHhcNMTkxMTIyMjAzNzU4WhcNMzQxMTE4MjAz
NzU4WjAbMRkwFwYDVQQFExBmOTIwMDllODUzYjZiMDQ1MIICIjANBgkqhkiG9w0B
AQEFAAOCAg8AMIICCgKCAgEAr7bHgiuxpwHsK7Qui8xUFmOr75gvMsd/dTEDDJdS
Sxtf6An7xyqpRR90PL2abxM1dEqlXnf2tqw1Ne4Xwl5jlRfdnJLmN0pTy/4lj4/7
tv0Sk3iiKkypnEUtR6WfMgH0QZfKHM1+di+y9TFRtv6y//0rb+T+W8a9nsNL/ggj
nar86461qO0rOs2cXjp3kOG1FEJ5MVmFmBGtnrKpa73XpXyTqRxB/M0n1n/W9nGq
C4FSYa04T6N5RIZGBN2z2MT5IKGbFlbC8UrW0DxW7AYImQQcHtGl/m00QLVWutHQ
oVJYnFPlXTcHYvASLu+RhhsbDmxMgJJ0mcDpvsC4PjvB+TxywElgS70vE0XmLD+O
JtvsBslHZvPBKCOdT0MS+tgSOIfga+z1Z1g7+DVagf7quvmag8jfPioyKvxnK/Eg
sTUVi2ghzq8wm27ud/mIM7AY2qEORR8Go3TVB4HzWQgpZrt3i5MIlCaY504LzSRi
igHCzAPlHws+W0rB5N+er5/2pJKnfBSDiCiFAVtCLOZ7gLiMm0jhO2B6tUXHI/+M
RPjy02i59lINMRRev56GKtcd9qO/0kUJWdZTdA2XoS82ixPvZtXQpUpuL12ab+9E
aDK8Z4RHJYYfCT3Q5vNAXaiWQ+8PTWm2QgBR/bkwSWc+NpUFgNPN9PvQi8WEg5Um
AGMCAwEAAaNjMGEwHQYDVR0OBBYEFDZh4QB8iAUJUYtEbEf/GkzJ6k8SMB8GA1Ud
IwQYMBaAFDZh4QB8iAUJUYtEbEf/GkzJ6k8SMA8GA1UdEwEB/wQFMAMBAf8wDgYD
VR0PAQH/BAQDAgIEMA0GCSqGSIb3DQEBCwUAA4ICAQBOMaBc8oumXb2voc7XCWnu
XKhBBK3e2KMGz39t7lA3XXRe2ZLLAkLM5y3J7tURkf5a1SutfdOyXAmeE6SRo83U
h6WszodmMkxK5GM4JGrnt4pBisu5igXEydaW7qq2CdC6DOGjG+mEkN8/TA6p3cno
L/sPyz6evdjLlSeJ8rFBH6xWyIZCbrcpYEJzXaUOEaxxXxgYz5/cTiVKN2M1G2ok
QBUIYSY6bjEL4aUN5cfo7ogP3UvliEo3Eo0YgwuzR2v0KR6C1cZqZJSTnghIC/vA
D32KdNQ+c3N+vl2OTsUVMC1GiWkngNx1OO1+kXW+YTnnTUOtOIswUP/Vqd5SYgAI
mMAfY8U9/iIgkQj6T2W6FsScy94IN9fFhE1UtzmLoBIuUFsVXJMTz+Jucth+IqoW
Fua9v1R93/k98p41pjtFX+H8DslVgfP097vju4KDlqN64xV1grw3ZLl4CiOe/A91
oeLm2UHOq6wn3esB4r2EIQKb6jTVGu5sYCcdWpXr0AUVqcABPdgL+H7qJguBw09o
jm6xNIrw2OocrDKsudk/okr/AwqEyPKw9WnMlQgLIKw1rODG2NvU9oR3GVGdMkUB
ZutL8VuFkERQGt6vQ2OCw0sV47VMkuYbacK/xyZFiRcrPJPb41zgbQj9XAEyLKCH
ex0SdDrx+tWUDqG8At2JHA==
-----END CERTIFICATE-----
`;l();u();c();var _6=`-----BEGIN CERTIFICATE-----
MIICEjCCAZmgAwIBAgIQaB0BbHo84wIlpQGUKEdXcTAKBggqhkjOPQQDAzBLMR8w
HQYDVQQDDBZBcHBsZSBXZWJBdXRobiBSb290IENBMRMwEQYDVQQKDApBcHBsZSBJ
bmMuMRMwEQYDVQQIDApDYWxpZm9ybmlhMB4XDTIwMDMxODE4MjEzMloXDTQ1MDMx
NTAwMDAwMFowSzEfMB0GA1UEAwwWQXBwbGUgV2ViQXV0aG4gUm9vdCBDQTETMBEG
A1UECgwKQXBwbGUgSW5jLjETMBEGA1UECAwKQ2FsaWZvcm5pYTB2MBAGByqGSM49
AgEGBSuBBAAiA2IABCJCQ2pTVhzjl4Wo6IhHtMSAzO2cv+H9DQKev3//fG59G11k
xu9eI0/7o6V5uShBpe1u6l6mS19S1FEh6yGljnZAJ+2GNP1mi/YK2kSXIuTHjxA/
pcoRf7XkOtO4o1qlcaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUJtdk
2cV4wlpn0afeaxLQG2PxxtcwDgYDVR0PAQH/BAQDAgEGMAoGCCqGSM49BAMDA2cA
MGQCMFrZ+9DsJ1PW9hfNdBywZDsWDbWFp28it1d/5w2RPkRX3Bbn/UbDTNLx7Jr3
jAGGiQIwHFj+dJZYUJR786osByBelJYsVZd2GbHQu209b5RCmGQ21gpSAk9QZW4B
1bWeT0vT
-----END CERTIFICATE-----
`;l();u();c();var S6=`-----BEGIN CERTIFICATE-----
 MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
 A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
 Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
 MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
 A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
 hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
 RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
 gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
 KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
 QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
 XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
 DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
 LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
 RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
 jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
 6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
 mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
 Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
 WD9f
 -----END CERTIFICATE-----
 `;var PA=class{static{o(this,"BaseSettingsService")}constructor(){Object.defineProperty(this,"pemCertificates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pemCertificates=new Map}setRootCertificates(t){let{identifier:r,certificates:n}=t,s=[];for(let i of n)i instanceof Uint8Array?s.push(lt(i)):s.push(i);this.pemCertificates.set(r,s)}getRootCertificates(t){let{identifier:r}=t;return this.pemCertificates.get(r)??[]}},Ns=new PA;Ns.setRootCertificates({identifier:"android-key",certificates:[x6,v6]});Ns.setRootCertificates({identifier:"android-safetynet",certificates:[b6]});Ns.setRootCertificates({identifier:"apple",certificates:[_6]});Ns.setRootCertificates({identifier:"mds",certificates:[S6]});l();u();c();async function w6(e){let{attStmt:t,clientDataHash:r,rpIdHash:n,credentialID:s,credentialPublicKey:i,aaguid:a,rootCertificates:d}=e,p=Uint8Array.from([0]),f=ia(i),m=J.concat([p,n,r,s,f]),h=t.get("sig"),g=t.get("x5c");if(!g)throw new Error("No attestation certificate provided in attestation statement (FIDOU2F)");if(!h)throw new Error("No attestation signature provided in attestation statement (FIDOU2F)");let y=Number.parseInt(J.toHex(a),16);if(y!==0)throw new Error(`AAGUID "${y}" was not expected value`);try{await It(g.map(lt),d)}catch(x){let _=x;throw new Error(`${_.message} (FIDOU2F)`)}return Yt({signature:h,data:m,x509Certificate:g[0],hashAlgorithm:oe.ES256})}o(w6,"verifyAttestationFIDOU2F");l();u();c();l();u();c();l();u();c();function E6(e){return(t,...r)=>{}}o(E6,"getLogger");l();u();c();function C6(e){let t=e.split(".");return[JSON.parse(Y.toUTF8String(t[0])),JSON.parse(Y.toUTF8String(t[1])),t[2]]}o(C6,"parseJWT");l();u();c();function A6(e,t){let[r,n,s]=e.split("."),i=_x(t),a=J.fromUTF8String(`${r}.${n}`),d=Y.toBuffer(s);if(ki(i))return bx({data:a,signature:d,cosePublicKey:i,shaHashOverride:oe.ES256});if(kc(i))return xx({data:a,signature:d,cosePublicKey:i});let p=i.get(Z.kty);throw new Error(`JWT verification with public key of kty ${p} is not supported by this method`)}o(A6,"verifyJWT");var Poe="https://mds.fidoalliance.org/",Wr;(function(e){e[e.DISABLED=0]="DISABLED",e[e.REFRESHING=1]="REFRESHING",e[e.READY=2]="READY"})(Wr||(Wr={}));var Pc=E6("MetadataService"),IA=class{static{o(this,"BaseMetadataService")}constructor(){Object.defineProperty(this,"mdsCache",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"statementCache",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Wr.DISABLED}),Object.defineProperty(this,"verificationMode",{enumerable:!0,configurable:!0,writable:!0,value:"strict"})}async initialize(t={}){let{mdsServers:r=[Poe],statements:n,verificationMode:s}=t;if(this.setState(Wr.REFRESHING),n?.length){let i=0;n.forEach(a=>{a.aaguid&&(this.statementCache[a.aaguid]={entry:{metadataStatement:a,statusReports:[],timeOfLastStatusChange:"1970-01-01"},url:""},i+=1)}),Pc(`Cached ${i} local statements`)}if(r?.length){let i=Object.keys(this.statementCache).length,a=r.length;for(let f of r)try{await this.downloadBlob({url:f,no:0,nextUpdate:new Date(0)})}catch(m){Pc(`Could not download BLOB from ${f}:`,m),a-=1}let p=Object.keys(this.statementCache).length-i;Pc(`Cached ${p} statements from ${a} metadata server(s)`)}s&&(this.verificationMode=s),this.setState(Wr.READY)}async getStatement(t){if(this.state===Wr.DISABLED||!t)return;t instanceof Uint8Array&&(t=ad(t)),await this.pauseUntilReady();let r=this.statementCache[t];if(!r){if(this.verificationMode==="strict")throw new Error(`No metadata statement found for aaguid "${t}"`);return}if(r.url){let s=this.mdsCache[r.url];if(new Date>s.nextUpdate)try{this.setState(Wr.REFRESHING),await this.downloadBlob(s)}finally{this.setState(Wr.READY)}}let{entry:n}=r;for(let s of n.statusReports){let{status:i}=s;if(i==="USER_VERIFICATION_BYPASS"||i==="ATTESTATION_KEY_COMPROMISE"||i==="USER_KEY_REMOTE_COMPROMISE"||i==="USER_KEY_PHYSICAL_COMPROMISE")throw new Error(`Detected compromised aaguid "${t}"`)}return n.metadataStatement}async downloadBlob(t){let{url:r,no:n}=t,i=await(await vx(r)).text(),a=C6(i),d=a[0],p=a[1];if(p.no<=n)throw new Error(`Latest BLOB no. "${p.no}" is not greater than previous ${n}`);let f=d.x5c.map(lt);try{let _=Ns.getRootCertificates({identifier:"mds"});await It(f,_)}catch(_){let E=_;throw new Error(`BLOB certificate path could not be validated: ${E.message}`)}let m=f[0];if(!await A6(i,Mc(m)))throw new Error("BLOB signature could not be verified");for(let _ of p.entries)_.aaguid&&(this.statementCache[_.aaguid]={entry:_,url:r});let[g,y,x]=p.nextUpdate.split("-");this.mdsCache[r]={...t,no:p.no,nextUpdate:new Date(parseInt(g,10),parseInt(y,10)-1,parseInt(x,10))}}pauseUntilReady(){return this.state===Wr.READY?new Promise(r=>{r()}):new Promise((r,n)=>{let a=700,d=globalThis.setInterval(()=>{a<1?(clearInterval(d),n(`State did not become ready in ${7e4/1e3} seconds`)):this.state===Wr.READY&&(clearInterval(d),r()),a-=1},100)})}setState(t){this.state=t,t===Wr.DISABLED?Pc("MetadataService is DISABLED"):t===Wr.REFRESHING?Pc("MetadataService is REFRESHING"):t===Wr.READY&&Pc("MetadataService is READY")}},Ls=new IA;l();u();c();async function Mi({statement:e,credentialPublicKey:t,x5c:r,attestationStatementAlg:n}){let{authenticationAlgorithms:s,authenticatorGetInfo:i,attestationRootCertificates:a}=e,d=new Set;s.forEach(E=>{let T=T6[E];T&&d.add(T)});let p=Ds(t),f=p.get(Z.kty),m=p.get(Z.alg);if(!f)throw new Error("Credential public key was missing kty");if(!m)throw new Error("Credential public key was missing alg");if(!f)throw new Error("Credential public key was missing kty");let h={kty:f,alg:m};if(ki(p)){let E=p.get(Z.crv);h.crv=E}let g=!1;for(let E of d)if(E.alg===h.alg&&E.kty===h.kty&&((E.kty===Gr.EC2||E.kty===Gr.OKP)&&(E.crv,h.crv),g=!0),g)break;if(!g){let E=s.map(D=>`'${D}' (COSE info: ${O6(T6[D])})`),T=JSON.stringify(E,null,2).replace(/"/g,""),k=O6(h);throw new Error(`Public key parameters ${k} did not match any of the following metadata algorithms:
${T}`)}if(n!==void 0&&i?.algorithms!==void 0){let E=i.algorithms.map(T=>T.alg);if(E.indexOf(n)<0)throw new Error(`Attestation statement alg ${n} did not match one of ${E}`)}let y=r.map(lt),x=a.map(lt),_=!1;if(y.length===1&&x.indexOf(y[0])>=0&&(_=!0),!_)try{await It(y,x)}catch(E){let T=E;throw new Error(`Could not validate certificate path with any metadata root certificates: ${T.message}`)}return!0}o(Mi,"verifyAttestationWithMetadata");var T6={secp256r1_ecdsa_sha256_raw:{kty:2,alg:-7,crv:1},secp256r1_ecdsa_sha256_der:{kty:2,alg:-7,crv:1},rsassa_pss_sha256_raw:{kty:3,alg:-37},rsassa_pss_sha256_der:{kty:3,alg:-37},secp256k1_ecdsa_sha256_raw:{kty:2,alg:-47,crv:8},secp256k1_ecdsa_sha256_der:{kty:2,alg:-47,crv:8},rsassa_pss_sha384_raw:{kty:3,alg:-38},rsassa_pkcsv15_sha256_raw:{kty:3,alg:-257},rsassa_pkcsv15_sha384_raw:{kty:3,alg:-258},rsassa_pkcsv15_sha512_raw:{kty:3,alg:-259},rsassa_pkcsv15_sha1_raw:{kty:3,alg:-65535},secp384r1_ecdsa_sha384_raw:{kty:2,alg:-35,crv:2},secp512r1_ecdsa_sha256_raw:{kty:2,alg:-36,crv:3},ed25519_eddsa_sha512_raw:{kty:1,alg:-8,crv:6}};function O6(e){let{kty:t,alg:r,crv:n}=e,s="";return t!==Gr.RSA?s=`{ kty: ${t}, alg: ${r}, crv: ${n} }`:s=`{ kty: ${t}, alg: ${r} }`,s}o(O6,"stringifyCOSEInfo");async function k6(e){let{attStmt:t,clientDataHash:r,authData:n,credentialPublicKey:s,aaguid:i,rootCertificates:a}=e,d=t.get("sig"),p=t.get("x5c"),f=t.get("alg");if(!d)throw new Error("No attestation signature provided in attestation statement (Packed)");if(!f)throw new Error("Attestation statement did not contain alg (Packed)");if(!ls(f))throw new Error(`Attestation statement contained invalid alg ${f} (Packed)`);let m=J.concat([n,r]),h=!1;if(p){let{subject:g,basicConstraintsCA:y,version:x,notBefore:_,notAfter:E}=ds(p[0]),{OU:T,CN:k,O:D,C:I}=g;if(T!=="Authenticator Attestation")throw new Error('Certificate OU was not "Authenticator Attestation" (Packed|Full)');if(!k)throw new Error("Certificate CN was empty (Packed|Full)");if(!D)throw new Error("Certificate O was empty (Packed|Full)");if(!I||I.length!==2)throw new Error("Certificate C was not two-character ISO 3166 code (Packed|Full)");if(y)throw new Error("Certificate basic constraints CA was not `false` (Packed|Full)");if(x!==2)throw new Error("Certificate version was not `3` (ASN.1 value of 2) (Packed|Full)");let N=new Date;if(_>N)throw new Error(`Certificate not good before "${_.toString()}" (Packed|Full)`);if(N=new Date,E<N)throw new Error(`Certificate not good after "${E.toString()}" (Packed|Full)`);let G=await Ls.getStatement(i);if(G){if(G.attestationTypes.indexOf("basic_full")<0)throw new Error("Metadata does not indicate support for full attestations (Packed|Full)");try{await Mi({statement:G,credentialPublicKey:s,x5c:p,attestationStatementAlg:f})}catch(ee){let K=ee;throw new Error(`${K.message} (Packed|Full)`)}}else try{await It(p.map(lt),a)}catch(ee){let K=ee;throw new Error(`${K.message} (Packed|Full)`)}h=await Yt({signature:d,data:m,x509Certificate:p[0]})}else h=await Yt({signature:d,data:m,credentialPublicKey:s,hashAlgorithm:f});return h}o(k6,"verifyAttestationPacked");l();u();c();async function R6(e){let{attStmt:t,clientDataHash:r,authData:n,aaguid:s,rootCertificates:i,verifyTimestampMS:a=!0,credentialPublicKey:d}=e,p=t.get("alg"),f=t.get("response");if(!t.get("ver"))throw new Error("No ver value in attestation (SafetyNet)");if(!f)throw new Error("No response was included in attStmt by authenticator (SafetyNet)");let g=J.toUTF8String(f).split("."),y=JSON.parse(Y.toUTF8String(g[0])),x=JSON.parse(Y.toUTF8String(g[1])),_=g[2],{nonce:E,ctsProfileMatch:T,timestampMs:k}=x;if(a){let Dr=Date.now();if(k>Date.now())throw new Error(`Payload timestamp "${k}" was later than "${Dr}" (SafetyNet)`);let Nr=k+60*1e3;if(Dr=Date.now(),Nr<Dr)throw new Error(`Payload timestamp "${Nr}" has expired (SafetyNet)`)}let D=J.concat([n,r]),I=await kr(D),N=Y.fromBuffer(I,"base64");if(E!==N)throw new Error("Could not verify payload nonce (SafetyNet)");if(!T)throw new Error("Could not verify device integrity (SafetyNet)");let G=Y.toBuffer(y.x5c[0],"base64"),ee=ds(G),{subject:K}=ee;if(K.CN!=="attest.android.com")throw new Error('Certificate common name was not "attest.android.com" (SafetyNet)');let te=await Ls.getStatement(s);if(te)try{await Mi({statement:te,credentialPublicKey:d,x5c:y.x5c,attestationStatementAlg:p})}catch(Dr){let Nr=Dr;throw new Error(`${Nr.message} (SafetyNet)`)}else try{await It(y.x5c.map(lt),i)}catch(Dr){let Nr=Dr;throw new Error(`${Nr.message} (SafetyNet)`)}let Te=J.fromUTF8String(`${g[0]}.${g[1]}`),Ot=Y.toBuffer(_);return await Yt({signature:Ot,data:Te,x509Certificate:G})}o(R6,"verifyAttestationAndroidSafetyNet");l();u();c();l();u();c();var M6={196:"TPM_ST_RSP_COMMAND",32768:"TPM_ST_NULL",32769:"TPM_ST_NO_SESSIONS",32770:"TPM_ST_SESSIONS",32788:"TPM_ST_ATTEST_NV",32789:"TPM_ST_ATTEST_COMMAND_AUDIT",32790:"TPM_ST_ATTEST_SESSION_AUDIT",32791:"TPM_ST_ATTEST_CERTIFY",32792:"TPM_ST_ATTEST_QUOTE",32793:"TPM_ST_ATTEST_TIME",32794:"TPM_ST_ATTEST_CREATION",32801:"TPM_ST_CREATION",32802:"TPM_ST_VERIFIED",32803:"TPM_ST_AUTH_SECRET",32804:"TPM_ST_HASHCHECK",32805:"TPM_ST_AUTH_SIGNED",32809:"TPM_ST_FU_MANIFEST"},ps={0:"TPM_ALG_ERROR",1:"TPM_ALG_RSA",4:"TPM_ALG_SHA",4:"TPM_ALG_SHA1",5:"TPM_ALG_HMAC",6:"TPM_ALG_AES",7:"TPM_ALG_MGF1",8:"TPM_ALG_KEYEDHASH",10:"TPM_ALG_XOR",11:"TPM_ALG_SHA256",12:"TPM_ALG_SHA384",13:"TPM_ALG_SHA512",16:"TPM_ALG_NULL",18:"TPM_ALG_SM3_256",19:"TPM_ALG_SM4",20:"TPM_ALG_RSASSA",21:"TPM_ALG_RSAES",22:"TPM_ALG_RSAPSS",23:"TPM_ALG_OAEP",24:"TPM_ALG_ECDSA",25:"TPM_ALG_ECDH",26:"TPM_ALG_ECDAA",27:"TPM_ALG_SM2",28:"TPM_ALG_ECSCHNORR",29:"TPM_ALG_ECMQV",32:"TPM_ALG_KDF1_SP800_56A",33:"TPM_ALG_KDF2",34:"TPM_ALG_KDF1_SP800_108",35:"TPM_ALG_ECC",37:"TPM_ALG_SYMCIPHER",38:"TPM_ALG_CAMELLIA",64:"TPM_ALG_CTR",65:"TPM_ALG_OFB",66:"TPM_ALG_CBC",67:"TPM_ALG_CFB",68:"TPM_ALG_ECB"},P6={0:"TPM_ECC_NONE",1:"TPM_ECC_NIST_P192",2:"TPM_ECC_NIST_P224",3:"TPM_ECC_NIST_P256",4:"TPM_ECC_NIST_P384",5:"TPM_ECC_NIST_P521",16:"TPM_ECC_BN_P256",17:"TPM_ECC_BN_P638",32:"TPM_ECC_SM2_P256"},I6={"id:414D4400":{name:"AMD",id:"AMD"},"id:41544D4C":{name:"Atmel",id:"ATML"},"id:4252434D":{name:"Broadcom",id:"BRCM"},"id:49424d00":{name:"IBM",id:"IBM"},"id:49465800":{name:"Infineon",id:"IFX"},"id:494E5443":{name:"Intel",id:"INTC"},"id:4C454E00":{name:"Lenovo",id:"LEN"},"id:4E534D20":{name:"National Semiconductor",id:"NSM"},"id:4E545A00":{name:"Nationz",id:"NTZ"},"id:4E544300":{name:"Nuvoton Technology",id:"NTC"},"id:51434F4D":{name:"Qualcomm",id:"QCOM"},"id:534D5343":{name:"SMSC",id:"SMSC"},"id:53544D20":{name:"ST Microelectronics",id:"STM"},"id:534D534E":{name:"Samsung",id:"SMSN"},"id:534E5300":{name:"Sinosun",id:"SNS"},"id:54584E00":{name:"Texas Instruments",id:"TXN"},"id:57454300":{name:"Winbond",id:"WEC"},"id:524F4343":{name:"Fuzhouk Rockchip",id:"ROCC"},"id:FFFFF1D0":{name:"FIDO Alliance",id:"FIDO"}},B6={TPM_ECC_NIST_P256:1,TPM_ECC_NIST_P384:2,TPM_ECC_NIST_P521:3,TPM_ECC_BN_P256:1,TPM_ECC_SM2_P256:1};l();u();c();function D6(e){let t=0,r=J.toDataView(e),n=r.getUint32(t);t+=4;let s=r.getUint16(t);t+=2;let i=M6[s],a=r.getUint16(t);t+=2;let d=e.slice(t,t+=a),p=r.getUint16(t);t+=2;let f=e.slice(t,t+=p),m=e.slice(t,t+=8),h=r.getUint32(t);t+=4;let g=r.getUint32(t);t+=4;let y=!!e.slice(t,t+=1),x={clock:m,resetCount:h,restartCount:g,safe:y},_=e.slice(t,t+=8),E=r.getUint16(t);t+=2;let T=e.slice(t,t+=E),k=J.toDataView(T),D=r.getUint16(t);t+=2;let I=e.slice(t,t+=D),N={nameAlg:ps[k.getUint16(0)],nameAlgBuffer:T.slice(0,2),name:T,qualifiedName:I};return{magic:n,type:i,qualifiedSigner:d,extraData:f,clockInfo:x,firmwareVersion:_,attested:N}}o(D6,"parseCertInfo");l();u();c();function N6(e){let t=0,r=J.toDataView(e),n=ps[r.getUint16(t)];t+=2;let s=ps[r.getUint16(t)];t+=2;let i=r.getUint32(t);t+=4;let a={fixedTPM:!!(i&1),stClear:!!(i&2),fixedParent:!!(i&8),sensitiveDataOrigin:!!(i&16),userWithAuth:!!(i&32),adminWithPolicy:!!(i&64),noDA:!!(i&512),encryptedDuplication:!!(i&1024),restricted:!!(i&32768),decrypt:!!(i&65536),signOrEncrypt:!!(i&131072)},d=r.getUint16(t);t+=2;let p=e.slice(t,t+=d),f={},m=Uint8Array.from([]);if(n==="TPM_ALG_RSA"){let h=ps[r.getUint16(t)];t+=2;let g=ps[r.getUint16(t)];t+=2;let y=r.getUint16(t);t+=2;let x=r.getUint32(t);t+=4,f.rsa={symmetric:h,scheme:g,keyBits:y,exponent:x};let _=r.getUint16(t);t+=2,m=e.slice(t,t+=_)}else if(n==="TPM_ALG_ECC"){let h=ps[r.getUint16(t)];t+=2;let g=ps[r.getUint16(t)];t+=2;let y=P6[r.getUint16(t)];t+=2;let x=ps[r.getUint16(t)];t+=2,f.ecc={symmetric:h,scheme:g,curveID:y,kdf:x};let _=r.getUint16(t);t+=2;let E=e.slice(t,t+=_),T=r.getUint16(t);t+=2;let k=e.slice(t,t+=T);m=J.concat([E,k])}else throw new Error(`Unexpected type "${n}" (TPM)`);return{type:n,nameAlg:s,objectAttributes:a,authPolicy:p,parameters:f,unique:m}}o(N6,"parsePubArea");async function L6(e){let{aaguid:t,attStmt:r,authData:n,credentialPublicKey:s,clientDataHash:i,rootCertificates:a}=e,d=r.get("ver"),p=r.get("sig"),f=r.get("alg"),m=r.get("x5c"),h=r.get("pubArea"),g=r.get("certInfo");if(d!=="2.0")throw new Error(`Unexpected ver "${d}", expected "2.0" (TPM)`);if(!p)throw new Error("No attestation signature provided in attestation statement (TPM)");if(!f)throw new Error("Attestation statement did not contain alg (TPM)");if(!ls(f))throw new Error(`Attestation statement contained invalid alg ${f} (TPM)`);if(!m)throw new Error("No attestation certificate provided in attestation statement (TPM)");if(!h)throw new Error("Attestation statement did not contain pubArea (TPM)");if(!g)throw new Error("Attestation statement did not contain certInfo (TPM)");let y=N6(h),{unique:x,type:_,parameters:E}=y,T=Ds(s);if(_==="TPM_ALG_RSA"){if(!kc(T))throw new Error(`Credential public key with kty ${T.get(Z.kty)} did not match ${_}`);let er=T.get(Z.n),hs=T.get(Z.e);if(!er)throw new Error("COSE public key missing n (TPM|RSA)");if(!hs)throw new Error("COSE public key missing e (TPM|RSA)");if(!J.areEqual(x,er))throw new Error("PubArea unique is not same as credentialPublicKey (TPM|RSA)");if(!E.rsa)throw new Error("Parsed pubArea type is RSA, but missing parameters.rsa (TPM|RSA)");let ga=hs,Vc=E.rsa.exponent||65537,Kc=ga[0]+(ga[1]<<8)+(ga[2]<<16);if(Vc!==Kc)throw new Error(`Unexpected public key exp ${Kc}, expected ${Vc} (TPM|RSA)`)}else if(_==="TPM_ALG_ECC"){if(!ki(T))throw new Error(`Credential public key with kty ${T.get(Z.kty)} did not match ${_}`);let er=T.get(Z.crv),hs=T.get(Z.x),ga=T.get(Z.y);if(!er)throw new Error("COSE public key missing crv (TPM|ECC)");if(!hs)throw new Error("COSE public key missing x (TPM|ECC)");if(!ga)throw new Error("COSE public key missing y (TPM|ECC)");if(!J.areEqual(x,J.concat([hs,ga])))throw new Error("PubArea unique is not same as public key x and y (TPM|ECC)");if(!E.ecc)throw new Error("Parsed pubArea type is ECC, but missing parameters.ecc (TPM|ECC)");let Vc=E.ecc.curveID,Kc=B6[Vc];if(Kc!==er)throw new Error(`Public area key curve ID "${Vc}" mapped to "${Kc}" which did not match public key crv of "${er}" (TPM|ECC)`)}else throw new Error(`Unsupported pubArea.type "${_}"`);let k=D6(g),{magic:D,type:I,attested:N,extraData:G}=k;if(D!==4283712327)throw new Error(`Unexpected magic value "${D}", expected "0xff544347" (TPM)`);if(I!=="TPM_ST_ATTEST_CERTIFY")throw new Error(`Unexpected type "${I}", expected "TPM_ST_ATTEST_CERTIFY" (TPM)`);let ee=await kr(h,Boe(N.nameAlg)),K=J.concat([N.nameAlgBuffer,ee]);if(!J.areEqual(N.name,K))throw new Error("Attested name comparison failed (TPM)");let te=J.concat([n,i]),Te=await kr(te,f);if(!J.areEqual(G,Te))throw new Error("CertInfo extra data did not equal hashed attestation (TPM)");if(m.length<1)throw new Error("No certificates present in x5c array (TPM)");let Ot=ds(m[0]),{basicConstraintsCA:Zt,version:Dr,subject:Nr,notAfter:Cd,notBefore:fr}=Ot;if(Zt)throw new Error("Certificate basic constraints CA was not `false` (TPM)");if(Dr!==2)throw new Error("Certificate version was not `3` (ASN.1 value of 2) (TPM)");if(Nr.combined.length>0)throw new Error("Certificate subject was not empty (TPM)");let Jc=new Date;if(fr>Jc)throw new Error(`Certificate not good before "${fr.toString()}" (TPM)`);if(Jc=new Date,Cd<Jc)throw new Error(`Certificate not good after "${Cd.toString()}" (TPM)`);let Ad=Re.parse(m[0],Kt);if(!Ad.tbsCertificate.extensions)throw new Error("Certificate was missing extensions (TPM)");let xn,Lr;if(Ad.tbsCertificate.extensions.forEach(er=>{er.extnID===sA?xn=Re.parse(er.extnValue,Zl):er.extnID===ox&&(Lr=Re.parse(er.extnValue,Ql))}),!xn)throw new Error("Certificate did not contain subjectAltName extension (TPM)");if(!xn[0].directoryName?.[0].length)throw new Error("Certificate subjectAltName extension directoryName was empty (TPM)");let{tcgAtTpmManufacturer:Li,tcgAtTpmModel:vn,tcgAtTpmVersion:Fv}=Ioe(xn[0].directoryName);if(!Li||!vn||!Fv)throw new Error("Certificate contained incomplete subjectAltName data (TPM)");if(!Lr)throw new Error("Certificate did not contain ExtendedKeyUsage extension (TPM)");if(!I6[Li])throw new Error(`Could not match TPM manufacturer "${Li}" (TPM)`);if(Lr[0]!=="2.23.133.8.3")throw new Error(`Unexpected extKeyUsage "${Lr[0]}", expected "2.23.133.8.3" (TPM)`);let LT=await Ls.getStatement(t);if(LT)try{await Mi({statement:LT,credentialPublicKey:s,x5c:m,attestationStatementAlg:f})}catch(er){let hs=er;throw new Error(`${hs.message} (TPM)`)}else try{await It(m.map(lt),a)}catch(er){let hs=er;throw new Error(`${hs.message} (TPM)`)}return Yt({signature:p,data:g,x509Certificate:m[0],hashAlgorithm:f})}o(L6,"verifyAttestationTPM");function Ioe(e){let t="2.23.133.2.1",r="2.23.133.2.2",n="2.23.133.2.3",s,i,a;return e.forEach(d=>{d.forEach(p=>{p.type===t?s=p.value.toString():p.type===r?i=p.value.toString():p.type===n&&(a=p.value.toString())})}),{tcgAtTpmManufacturer:s,tcgAtTpmModel:i,tcgAtTpmVersion:a}}o(Ioe,"getTcgAtTpmValues");function Boe(e){if(e==="TPM_ALG_SHA256")return oe.ES256;if(e==="TPM_ALG_SHA384")return oe.ES384;if(e==="TPM_ALG_SHA512")return oe.ES512;throw new Error(`Unexpected TPM attested name alg ${e}`)}o(Boe,"attestedNameAlgToCOSEAlg");l();u();c();async function F6(e){let{authData:t,clientDataHash:r,attStmt:n,credentialPublicKey:s,aaguid:i,rootCertificates:a}=e,d=n.get("x5c"),p=n.get("sig"),f=n.get("alg");if(!d)throw new Error("No attestation certificate provided in attestation statement (AndroidKey)");if(!p)throw new Error("No attestation signature provided in attestation statement (AndroidKey)");if(!f)throw new Error("Attestation statement did not contain alg (AndroidKey)");if(!ls(f))throw new Error(`Attestation statement contained invalid alg ${f} (AndroidKey)`);let m=Re.parse(d[0],Kt),h=new Uint8Array(m.tbsCertificate.subjectPublicKeyInfo.subjectPublicKey),g=ia(s);if(!J.areEqual(g,h))throw new Error("Credential public key does not equal leaf cert public key (AndroidKey)");let y=m.tbsCertificate.extensions?.find(I=>I.extnID===vA);if(!y)throw new Error("Certificate did not contain extKeyStore (AndroidKey)");let x=Re.parse(y.extnValue,Or),{attestationChallenge:_,teeEnforced:E,softwareEnforced:T}=x;if(!J.areEqual(new Uint8Array(_.buffer),r))throw new Error("Attestation challenge was not equal to client data hash (AndroidKey)");if(E.allApplications!==void 0)throw new Error('teeEnforced contained "allApplications [600]" tag (AndroidKey)');if(T.allApplications!==void 0)throw new Error('teeEnforced contained "allApplications [600]" tag (AndroidKey)');let k=await Ls.getStatement(i);if(k)try{await Mi({statement:k,credentialPublicKey:s,x5c:d,attestationStatementAlg:f})}catch(I){let N=I;throw new Error(`${N.message} (AndroidKey)`)}else try{await It(d.map(lt),a)}catch(I){let N=I;throw new Error(`${N.message} (AndroidKey)`)}let D=J.concat([t,r]);return Yt({signature:p,data:D,x509Certificate:d[0],hashAlgorithm:f})}o(F6,"verifyAttestationAndroidKey");l();u();c();async function j6(e){let{attStmt:t,authData:r,clientDataHash:n,credentialPublicKey:s,rootCertificates:i}=e,a=t.get("x5c");if(!a)throw new Error("No attestation certificate provided in attestation statement (Apple)");try{await It(a.map(lt),i)}catch(E){let T=E;throw new Error(`${T.message} (Apple)`)}let d=Re.parse(a[0],Kt),{extensions:p,subjectPublicKeyInfo:f}=d.tbsCertificate;if(!p)throw new Error("credCert missing extensions (Apple)");let m=p.find(E=>E.extnID==="1.2.840.113635.100.8.2");if(!m)throw new Error('credCert missing "1.2.840.113635.100.8.2" extension (Apple)');let h=J.concat([r,n]),g=await kr(h),y=new Uint8Array(m.extnValue.buffer).slice(6);if(!J.areEqual(g,y))throw new Error("credCert nonce was not expected value (Apple)");let x=ia(s),_=new Uint8Array(f.subjectPublicKey);if(!J.areEqual(x,_))throw new Error("Credential public key does not equal credCert public key (Apple)");return!0}o(j6,"verifyAttestationApple");async function BA(e){let{response:t,expectedChallenge:r,expectedOrigin:n,expectedRPID:s,expectedType:i,requireUserVerification:a=!0,supportedAlgorithmIDs:d=y6}=e,{id:p,rawId:f,type:m,response:h}=t;if(!p)throw new Error("Missing credential ID");if(p!==f)throw new Error("Credential ID was not base64url-encoded");if(m!=="public-key")throw new Error(`Unexpected credential type ${m}, expected "public-key"`);let g=cd(h.clientDataJSON),{type:y,origin:x,challenge:_,tokenBinding:E}=g;if(Array.isArray(i)){if(!i.includes(y)){let vn=i.join(", ");throw new Error(`Unexpected registration response type "${y}", expected one of: ${vn}`)}}else if(i){if(y!==i)throw new Error(`Unexpected registration response type "${y}", expected "${i}"`)}else if(y!=="webauthn.create")throw new Error(`Unexpected registration response type: ${y}`);if(typeof r=="function"){if(!await r(_))throw new Error(`Custom challenge verifier returned false for registration response challenge "${_}"`)}else if(_!==r)throw new Error(`Unexpected registration response challenge "${_}", expected "${r}"`);if(Array.isArray(n)){if(!n.includes(x))throw new Error(`Unexpected registration response origin "${x}", expected one of: ${n.join(", ")}`)}else if(x!==n)throw new Error(`Unexpected registration response origin "${x}", expected "${n}"`);if(E){if(typeof E!="object")throw new Error(`Unexpected value for TokenBinding "${E}"`);if(["present","supported","not-supported"].indexOf(E.status)<0)throw new Error(`Unexpected tokenBinding.status value of "${E.status}"`)}let T=Y.toBuffer(h.attestationObject),k=AA(T),D=k.get("fmt"),I=k.get("authData"),N=k.get("attStmt"),G=ud(I),{aaguid:ee,rpIdHash:K,flags:te,credentialID:Te,counter:Ot,credentialPublicKey:Zt,extensionsData:Dr}=G,Nr;if(s){let vn=[];typeof s=="string"?vn=[s]:vn=s,Nr=await wx(K,vn)}if(!te.up)throw new Error("User not present during registration");if(a&&!te.uv)throw new Error("User verification required, but user could not be verified");if(!Te)throw new Error("No credential ID was provided by authenticator");if(!Zt)throw new Error("No public key was provided by authenticator");if(!ee)throw new Error("No AAGUID was present during registration");let fr=Ds(Zt).get(Z.alg);if(typeof fr!="number")throw new Error("Credential public key was missing numeric alg");if(!d.includes(fr)){let vn=d.join(", ");throw new Error(`Unexpected public key alg "${fr}", expected one of "${vn}"`)}let Jc=await kr(Y.toBuffer(h.clientDataJSON)),Ad=Ns.getRootCertificates({identifier:D}),xn={aaguid:ee,attStmt:N,authData:I,clientDataHash:Jc,credentialID:Te,credentialPublicKey:Zt,rootCertificates:Ad,rpIdHash:K},Lr=!1;if(D==="fido-u2f")Lr=await w6(xn);else if(D==="packed")Lr=await k6(xn);else if(D==="android-safetynet")Lr=await R6(xn);else if(D==="android-key")Lr=await F6(xn);else if(D==="tpm")Lr=await L6(xn);else if(D==="apple")Lr=await j6(xn);else if(D==="none"){if(N.size>0)throw new Error("None attestation had unexpected attestation statement");Lr=!0}else throw new Error(`Unsupported Attestation Format: ${D}`);let Li={verified:Lr};if(Li.verified){let{credentialDeviceType:vn,credentialBackedUp:Fv}=Sx(te);Li.registrationInfo={fmt:D,counter:Ot,aaguid:ad(ee),credentialID:Y.fromBuffer(Te),credentialPublicKey:Zt,credentialType:m,attestationObject:T,userVerified:te.uv,credentialDeviceType:vn,credentialBackedUp:Fv,origin:g.origin,rpID:Nr,authenticatorExtensionResults:Dr}}return Li}o(BA,"verifyRegistrationResponse");l();u();c();async function DA(e){let{allowCredentials:t,challenge:r=await pd(),timeout:n=6e4,userVerification:s="preferred",extensions:i,rpID:a}=e,d=r;return typeof d=="string"&&(d=J.fromUTF8String(d)),{rpId:a,challenge:Y.fromBuffer(d),allowCredentials:t?.map(p=>{if(!Y.isBase64URL(p.id))throw new Error(`excludeCredential id "${p.id}" is not a valid base64url string`);return{...p,id:Y.trimPadding(p.id),type:"public-key"}}),timeout:n,userVerification:s,extensions:i}}o(DA,"generateAuthenticationOptions");l();u();c();async function NA(e){let{response:t,expectedChallenge:r,expectedOrigin:n,expectedRPID:s,expectedType:i,authenticator:a,requireUserVerification:d=!0,advancedFIDOConfig:p}=e,{id:f,rawId:m,type:h,response:g}=t;if(!f)throw new Error("Missing credential ID");if(f!==m)throw new Error("Credential ID was not base64url-encoded");if(h!=="public-key")throw new Error(`Unexpected credential type ${h}, expected "public-key"`);if(!t)throw new Error("Credential missing response");if(typeof g?.clientDataJSON!="string")throw new Error("Credential response clientDataJSON was not a string");let y=cd(g.clientDataJSON),{type:x,origin:_,challenge:E,tokenBinding:T}=y;if(Array.isArray(i)){if(!i.includes(x)){let fr=i.join(", ");throw new Error(`Unexpected authentication response type "${x}", expected one of: ${fr}`)}}else if(i){if(x!==i)throw new Error(`Unexpected authentication response type "${x}", expected "${i}"`)}else if(x!=="webauthn.get")throw new Error(`Unexpected authentication response type: ${x}`);if(typeof r=="function"){if(!await r(E))throw new Error(`Custom challenge verifier returned false for registration response challenge "${E}"`)}else if(E!==r)throw new Error(`Unexpected authentication response challenge "${E}", expected "${r}"`);if(Array.isArray(n)){if(!n.includes(_)){let fr=n.join(", ");throw new Error(`Unexpected authentication response origin "${_}", expected one of: ${fr}`)}}else if(_!==n)throw new Error(`Unexpected authentication response origin "${_}", expected "${n}"`);if(!Y.isBase64URL(g.authenticatorData))throw new Error("Credential response authenticatorData was not a base64url string");if(!Y.isBase64URL(g.signature))throw new Error("Credential response signature was not a base64url string");if(g.userHandle&&typeof g.userHandle!="string")throw new Error("Credential response userHandle was not a string");if(T){if(typeof T!="object")throw new Error("ClientDataJSON tokenBinding was not an object");if(["present","supported","notSupported"].indexOf(T.status)<0)throw new Error(`Unexpected tokenBinding status ${T.status}`)}let k=Y.toBuffer(g.authenticatorData),D=ud(k),{rpIdHash:I,flags:N,counter:G,extensionsData:ee}=D,K=[];typeof s=="string"?K=[s]:K=s;let te=await wx(I,K);if(p!==void 0){let{userVerification:fr}=p;if(fr==="required"&&!N.uv)throw new Error("User verification required, but user could not be verified")}else{if(!N.up)throw new Error("User not present during authentication");if(d&&!N.uv)throw new Error("User verification required, but user could not be verified")}let Te=await kr(Y.toBuffer(g.clientDataJSON)),Ot=J.concat([k,Te]),Zt=Y.toBuffer(g.signature);if((G>0||a.counter>0)&&G<=a.counter)throw new Error(`Response counter value ${G} was lower than expected ${a.counter}`);let{credentialDeviceType:Dr,credentialBackedUp:Nr}=Sx(N);return{verified:await Yt({signature:Zt,data:Ot,credentialPublicKey:a.credentialPublicKey}),authenticationInfo:{newCounter:G,credentialID:a.credentialID,userVerified:N.uv,credentialDeviceType:Dr,credentialBackedUp:Nr,authenticatorExtensionResults:ee,origin:y.origin,rpID:te}}}o(NA,"verifyAuthenticationResponse");var Pi={getPassKeys:o(async e=>{let t=e.get("userPayload"),{results:r}=await e.env.DB.prepare("SELECT passkey_name, passkey_id, created_at, updated_at FROM user_passkeys WHERE user_id = ?").bind(t.user_id).all();return e.json(r)},"getPassKeys"),renamePassKey:o(async e=>{let t=j.getMessagesbyContext(e),r=e.get("userPayload"),{passkey_id:n,passkey_name:s}=await e.req.json();if(!s||s.length>255)return e.text(t.InvalidPasskeyNameMsg,400);let{success:i}=await e.env.DB.prepare("UPDATE user_passkeys SET passkey_name = ? WHERE user_id = ? AND passkey_id = ?").bind(s,r.user_id,n).run();return e.json({success:i})},"renamePassKey"),deletePassKey:o(async e=>{let t=e.get("userPayload"),{passkey_id:r}=e.req.param(),{success:n}=await e.env.DB.prepare("DELETE FROM user_passkeys WHERE user_id = ? AND passkey_id = ?").bind(t.user_id,r).run();return e.json({success:n})},"deletePassKey"),registerRequest:o(async e=>{let t=e.get("userPayload"),{domain:r}=await e.req.json(),{results:n}=await e.env.DB.prepare("SELECT passkey FROM user_passkeys WHERE user_id = ?").bind(t.user_id).all(),s=n.map(d=>JSON.parse(d.passkey)).map(d=>({id:d.id,transports:d.transports})),i=await le.sign({user_email:t.user_email,user_id:t.user_id,iat:Math.floor(Date.now()/1e3)},e.env.JWT_SECRET,"HS256"),a=await kA({rpName:e.env.TITLE||"Temp Mail",rpID:r,userID:new TextEncoder().encode(t.user_id.toString()),userName:t.user_email,userDisplayName:t.user_email,attestationType:"none",excludeCredentials:s,challenge:i});return e.json(a)},"registerRequest"),registerResponse:o(async e=>{let t=j.getMessagesbyContext(e),r=e.get("userPayload"),{credential:n,origin:s,passkey_name:i}=await e.req.json(),a=await BA({response:n,expectedChallenge:o(async T=>{let k=await le.verify(atob(T),e.env.JWT_SECRET,"HS256");return!(!k||!k.iat||Math.floor(Date.now()/1e3)-k.iat>300||k.user_id!==r.user_id)},"expectedChallenge"),expectedOrigin:s,requireUserVerification:!0}),{verified:d,registrationInfo:p}=a;if(!d||!p)return e.text(t.RegistrationFailedMsg,400);let{credentialID:f,credentialPublicKey:m,counter:h,credentialDeviceType:g,credentialBackedUp:y}=p,x=Y.fromBuffer(m),_={id:f,publicKey:x,counter:h,deviceType:g,backedUp:y,transports:n?.response?.transports},{success:E}=await e.env.DB.prepare("INSERT INTO user_passkeys (user_id, passkey_name, passkey_id, passkey, counter) VALUES (?, ?, ?, ?, ?)").bind(r.user_id,i,f,JSON.stringify(_),h).run();return e.json({success:E})},"registerResponse"),authenticateRequest:o(async e=>{let{domain:t}=await e.req.json(),r=await le.sign({domain:t,iat:Math.floor(Date.now()/1e3)},e.env.JWT_SECRET,"HS256"),n=await DA({rpID:t,challenge:r,allowCredentials:[]});return e.json(n)},"authenticateRequest"),authenticateResponse:o(async e=>{let t=j.getMessagesbyContext(e),{domain:r,credential:n,origin:s}=await e.req.json(),i=n?.id;if(!i)return e.text(t.InvalidInputMsg,400);let{user_id:a,counter:d,passkey:p}=await e.env.DB.prepare("SELECT user_id, counter, passkey FROM user_passkeys WHERE passkey_id = ?").bind(i).first()||{};if(!p)return e.text(t.PasskeyNotFoundMsg,404);let f=JSON.parse(p),m=await NA({response:n,expectedChallenge:o(async _=>{let E=await le.verify(atob(_),e.env.JWT_SECRET,"HS256");return!(!E||!E.iat||Math.floor(Date.now()/1e3)-E.iat>300)},"expectedChallenge"),expectedOrigin:s,expectedRPID:r,authenticator:{credentialID:f.id,credentialPublicKey:Y.toBuffer(f.publicKey),counter:d||f.counter,transports:f.transports}}),{verified:h,authenticationInfo:g}=m;if(!h)return e.text(t.AuthenticationFailedMsg,400);if(g){let{newCounter:_}=g;await e.env.DB.prepare("UPDATE user_passkeys SET counter = ? WHERE passkey_id = ?").bind(_,i).run()}await e.env.DB.prepare("UPDATE user_passkeys SET updated_at = datetime('now') WHERE passkey_id = ?").bind(i).run();let{user_email:y}=await e.env.DB.prepare("SELECT user_email FROM users WHERE id = ?").bind(a).first()||{};if(!y)return e.text(t.UserNotFoundMsg,404);let x=await le.sign({user_email:y,user_id:a,exp:Math.floor(Date.now()/1e3)+720*60*60,iat:Math.floor(Date.now()/1e3)},e.env.JWT_SECRET,"HS256");return e.json({jwt:x})},"authenticateResponse")};l();u();c();var $A={getOauth2LoginUrl:o(async e=>{let t=await Q(e,R.OAUTH2_SETTINGS_KEY),{clientID:r,state:n}=e.req.query(),s=j.getMessagesbyContext(e),i=t?.find(d=>d.clientID===r);if(!i)return e.text(s.Oauth2ClientIDNotFoundMsg,400);let a=`${i.authorizationURL}?client_id=${i.clientID}&response_type=code&redirect_uri=${i.redirectURL}&scope=${i.scope}&state=${n}`;return e.json({url:a})},"getOauth2LoginUrl"),oauth2Login:o(async e=>{let{clientID:t,code:r}=await e.req.json(),n=j.getMessagesbyContext(e);if(!t||!r)return e.text(n.Oauth2CliendIDOrCodeMissingMsg,400);let i=(await Q(e,R.OAUTH2_SETTINGS_KEY))?.find(D=>D.clientID===t);if(!i)return e.text(n.Oauth2ClientIDNotFoundMsg,400);let a={code:r,client_id:i.clientID,client_secret:i.clientSecret,grant_type:"authorization_code",redirect_uri:i.redirectURL},d=await fetch(i.accessTokenURL,{method:"POST",body:i.accessTokenFormat==="json"?JSON.stringify(a):new URLSearchParams(a).toString(),headers:{"Content-Type":i.accessTokenFormat==="json"?"application/json":"application/x-www-form-urlencoded",Accept:"application/json"}});if(!d.ok)return console.error(`Failed to get access token: ${d.status} ${d.statusText} ${await d.text()}`),e.text(n.Oauth2FailedGetAccessTokenMsg,400);let p=await d.json(),{access_token:f,token_type:m}=p,h=await fetch(i.userInfoURL,{headers:{Authorization:`${m||"Bearer"} ${f}`,Accept:"application/json","User-Agent":"Cloudflare Workers"}});if(!h.ok)return console.error(`Failed to get user info: ${h.status} ${h.statusText} ${await h.text()}`),e.text(n.Oauth2FailedGetUserInfoMsg,400);let g=await h.json(),y=await(async()=>{if(i.userEmailKey.startsWith("$")){let{JSONPath:I}=await Promise.resolve().then(()=>(H6(),q6)),N=I({path:i.userEmailKey,json:g});if(N&&Array.isArray(N)&&N.length>0)return N[0]}let{[i.userEmailKey]:D}=g;return D})();if(!y)return e.text(n.Oauth2FailedGetUserEmailMsg,400);let x=y.split("@")[1];if(i.enableMailAllowList&&!i.mailAllowList?.includes(x))return e.text(`${n.UserMailDomainMustInMsg} ${JSON.stringify(i.mailAllowList,null,2)}`,400);let{success:_}=await e.env.DB.prepare("INSERT INTO users (user_email, password, user_info) VALUES (?, '', ?) ON CONFLICT(user_email) DO UPDATE SET updated_at = datetime('now')").bind(y,JSON.stringify(g)).run();if(!_)return e.text(n.FailedToRegisterMsg,500);let{id:E}=await e.env.DB.prepare("SELECT id FROM users where user_email = ?").bind(y).first()||{};if(!E)return e.text(n.UserNotFoundMsg,400);let T=hr(e.env.USER_DEFAULT_ROLE);if(T){if(!An(e).find(N=>N.role===T))return e.text(n.InvalidUserDefaultRoleMsg,500);let{success:I}=await e.env.DB.prepare("INSERT INTO user_roles (user_id, role_text) VALUES (?, ?) ON CONFLICT(user_id) DO NOTHING").bind(E,T).run();if(!I)return e.text(n.FailedUpdateUserDefaultRoleMsg,500)}let k=await le.sign({user_email:y,user_id:E,exp:Math.floor(Date.now()/1e3)+720*60*60,iat:Math.floor(Date.now()/1e3)},e.env.JWT_SECRET,"HS256");return e.json({jwt:k})},"oauth2Login")};l();u();c();var JA={getMails:o(async e=>{let{user_id:t}=e.get("userPayload"),{address:r,limit:n,offset:s}=e.req.query(),i=await an.getBindedAddressListById(e,t),a=r?i.filter(g=>g==r):i,d=`address IN (${a.map(()=>"?").join(",")})`,p=a;if(a.length<=0)return e.json({results:[],count:0});let f=[d].filter(g=>g).join(" and "),m=f.length>0?`where ${f}`:"",h=[...p];return await mt(e,`SELECT * FROM raw_mails ${m}`,`SELECT count(*) as count FROM raw_mails ${m}`,h,n,s)},"getMails"),deleteMail:o(async e=>{let{id:t}=e.req.param(),{user_id:r}=e.get("userPayload"),n=await an.getBindedAddressListById(e,r),{success:s}=await e.env.DB.prepare(`DELETE FROM raw_mails WHERE id = ? and address IN (${n.map(()=>"?").join(",")})`).bind(t,...n).run();return e.json({success:s})},"deleteMail")};var Ke=new tr;Ke.get("/user_api/open_settings",Vw.openSettings);Ke.get("/user_api/settings",Vw.settings);Ke.get("/user_api/mails",JA.getMails);Ke.delete("/user_api/mails/:id",JA.deleteMail);Ke.post("/user_api/login",Pb.login);Ke.post("/user_api/verify_code",Pb.verifyCode);Ke.post("/user_api/register",Pb.register);Ke.get("/user_api/oauth2/login_url",$A.getOauth2LoginUrl);Ke.post("/user_api/oauth2/callback",$A.oauth2Login);Ke.get("/user_api/bind_address",an.getBindedAddresses);Ke.post("/user_api/bind_address",an.bind);Ke.get("/user_api/bind_address_jwt/:address_id",an.getBindedAddressJwt);Ke.post("/user_api/unbind_address",an.unbind);Ke.post("/user_api/transfer_address",an.transferAddress);Ke.get("/user_api/passkey",Pi.getPassKeys);Ke.post("/user_api/passkey/rename",Pi.renamePassKey);Ke.delete("/user_api/passkey/:passkey_id",Pi.deletePassKey);Ke.post("/user_api/passkey/register_request",Pi.registerRequest);Ke.post("/user_api/passkey/register_response",Pi.registerResponse);Ke.post("/user_api/passkey/authenticate_request",Pi.authenticateRequest);Ke.post("/user_api/passkey/authenticate_response",Pi.authenticateResponse);l();u();c();l();u();c();var z6=o(e=>{let t=e.trim();return t.endsWith(";")&&(t=t.slice(0,-1).trim()),t},"normalizeSql"),$6=o((e,t)=>{switch(e){case"empty":return t.SqlEmptyMsg;case"too_long":return t.SqlTooLongMsg;case"not_delete":return t.SqlOnlyDeleteMsg;case"multiple_statements":return t.SqlSingleStatementMsg;case"has_comments":return t.SqlNoCommentsMsg}},"getValidationErrorMsg"),J6=o(e=>{if(!e||!e.trim())return{valid:!1,errorType:"empty"};let t=z6(e);return t.length>1e3?{valid:!1,errorType:"too_long"}:t.toUpperCase().startsWith("DELETE ")?t.includes(";")?{valid:!1,errorType:"multiple_statements"}:/--/.test(t)||/\/\*/.test(t)?{valid:!1,errorType:"has_comments"}:{valid:!0}:{valid:!1,errorType:"not_delete"}},"validateCustomSql"),V6=o(async(e,t)=>{let r=j.getMessagesbyContext(e);if(!t||!t.sql)return{success:!1,error:r.InvalidCleanupConfigMsg};let n=J6(t.sql);if(!n.valid)return{success:!1,error:$6(n.errorType,r)};let s=z6(t.sql);try{console.log(`Executing custom SQL cleanup [${t.name}]: ${s}`);let a=(await e.env.DB.prepare(s).run()).meta?.changes??0;return console.log(`Custom SQL cleanup [${t.name}] completed, rows affected: ${a}`),{success:!0,rowsAffected:a}}catch(i){let a=i.message||"Unknown error";return console.error(`Custom SQL cleanup [${t.name}] failed:`,a),{success:!1,error:a}}},"executeCustomSqlCleanup"),Ex={cleanup:o(async e=>{let t=j.getMessagesbyContext(e),{cleanType:r,cleanDays:n}=await e.req.json();try{await Qn(e,r,n)}catch(s){return console.error(s),e.text(`${t.OperationFailedMsg}: ${s.message}`,500)}return e.json({success:!0})},"cleanup"),getCleanup:o(async e=>{let t=await Q(e,R.AUTO_CLEANUP_KEY);return e.json(t)},"getCleanup"),saveCleanup:o(async e=>{let t=j.getMessagesbyContext(e),r=await e.req.json();if(r.customSqlCleanupList&&r.customSqlCleanupList.length>0){for(let n of r.customSqlCleanupList)if(n.sql){let s=J6(n.sql);if(!s.valid){let i=$6(s.errorType,t);return e.text(`[${n.name||"unnamed"}]: ${i}`,400)}}}return await bt(e,R.AUTO_CLEANUP_KEY,JSON.stringify(r)),e.json({success:!0})},"saveCleanup")};l();u();c();var gn={getSetting:o(async e=>{let t=await Q(e,R.USER_SETTINGS_KEY),r=new $r(t);return e.json(r)},"getSetting"),saveSetting:o(async e=>{let t=j.getMessagesbyContext(e),r=await e.req.json(),n=new $r(r);if(n.enableMailVerify&&!e.env.KV)return e.text(t.EnableKVForMailVerifyMsg,403);if(n.enableMailVerify&&!n.verifyMailSender)return e.text(t.VerifyMailSenderNotSetMsg,400);if(n.enableMailVerify&&n.verifyMailSender){let s=n.verifyMailSender.split("@")[1],i=En(e);if(!i.includes(s))return e.text(`${t.VerifyMailDomainInvalidMsg} ${JSON.stringify(i,null,2)}`,400)}return n.maxAddressCount<0?e.text(t.InvalidMaxAddressCountMsg,400):(await bt(e,R.USER_SETTINGS_KEY,JSON.stringify(n)),e.json({success:!0}))},"saveSetting"),getUsers:o(async e=>{let{limit:t,offset:r,query:n}=e.req.query();return n?await mt(e,"SELECT u.id as id, u.user_email, u.created_at, u.updated_at, ur.role_text as role_text, (SELECT COUNT(*) FROM users_address WHERE user_id = u.id) AS address_count FROM users u LEFT JOIN user_roles ur ON u.id = ur.user_id where u.user_email like ?","SELECT count(*) as count FROM users where user_email like ?",[`%${n}%`],t,r):await mt(e,"SELECT u.id as id, u.user_email, u.created_at, u.updated_at, ur.role_text as role_text, (SELECT COUNT(*) FROM users_address WHERE user_id = u.id) AS address_count FROM users u LEFT JOIN user_roles ur ON u.id = ur.user_id","SELECT count(*) as count FROM users",[],t,r)},"getUsers"),createUser:o(async e=>{let t=j.getMessagesbyContext(e),{email:r,password:n}=await e.req.json();if(!r||!n)return e.text(t.InvalidEmailOrPasswordMsg,400);let s=e.req.raw.headers.get("cf-connecting-ip"),i=new pi(s,e.req.raw.cf),a=new Qa(i,r);try{Ea(n);let{success:d}=await e.env.DB.prepare("INSERT INTO users (user_email, password, user_info) VALUES (?, ?, ?)").bind(r,n,JSON.stringify(a)).run();if(!d)return e.text(t.FailedToRegisterMsg,500)}catch(d){let p=d.message;return p&&p.includes("UNIQUE")?e.text(t.UserAlreadyExistsMsg,400):e.text(`${t.FailedToRegisterMsg}: ${p}`,500)}return e.json({success:!0})},"createUser"),deleteUser:o(async e=>{let{user_id:t}=e.req.param(),r=j.getMessagesbyContext(e);if(!t)return e.text(r.UserNotFoundMsg,400);let{success:n}=await e.env.DB.prepare("DELETE FROM users WHERE id = ?").bind(t).run(),{success:s}=await e.env.DB.prepare("DELETE FROM users_address WHERE user_id = ?").bind(t).run();return!n||!s?e.text(r.FailedDeleteUserMsg,500):e.json({success:!0})},"deleteUser"),resetPassword:o(async e=>{let{user_id:t}=e.req.param(),{password:r}=await e.req.json(),n=j.getMessagesbyContext(e);if(!t)return e.text(n.UserNotFoundMsg,400);try{Ea(r);let{success:s}=await e.env.DB.prepare("UPDATE users SET password = ? WHERE id = ?").bind(r,t).run();if(!s)return e.text(n.FailedUpdatePasswordMsg,500)}catch(s){return e.text(`${n.FailedUpdatePasswordMsg}: ${s.message}`,500)}return e.json({success:!0})},"resetPassword"),updateUserRoles:o(async e=>{let t=j.getMessagesbyContext(e),{user_id:r,role_text:n}=await e.req.json();if(!r)return e.text(t.InvalidUserIdMsg,400);if(!n){let{success:a}=await e.env.DB.prepare("DELETE FROM user_roles WHERE user_id = ?").bind(r).run();return a?e.json({success:!0}):e.text(t.FailedUpdateUserDefaultRoleMsg,500)}if(!An(e).find(a=>a.role===n))return e.text(t.InvalidRoleTextMsg,400);let{success:i}=await e.env.DB.prepare("INSERT INTO user_roles (user_id, role_text) VALUES (?, ?) ON CONFLICT(user_id) DO UPDATE SET role_text = ?, updated_at = datetime('now')").bind(r,n,n).run();return i?e.json({success:!0}):e.text(t.FailedUpdateUserDefaultRoleMsg,500)},"updateUserRoles"),bindAddress:o(async e=>{let{user_email:t,address:r,user_id:n,address_id:s}=await e.req.json(),i=n??await e.env.DB.prepare("SELECT id FROM users WHERE user_email = ?").bind(t).first("id"),a=s??await e.env.DB.prepare("SELECT id FROM address WHERE name = ?").bind(r).first("id");return await an.bindByID(e,i,a)},"bindAddress"),getBindedAddresses:o(async e=>{let{user_id:t}=e.req.param(),r=await an.getBindedAddressesById(e,t);return e.json({results:r})},"getBindedAddresses"),getRoleAddressConfig:o(async e=>{let r=await Q(e,R.ROLE_ADDRESS_CONFIG_KEY)||{};return e.json({configs:r})},"getRoleAddressConfig"),saveRoleAddressConfig:o(async e=>{let{configs:t}=await e.req.json();return await bt(e,R.ROLE_ADDRESS_CONFIG_KEY,JSON.stringify(t)),e.json({success:!0})},"saveRoleAddressConfig")};l();u();c();async function $oe(e){let t=await e.env.KV.get(R.WEBHOOK_KV_SETTINGS_KEY,"json");return e.json(t||new bm(!1,[]))}o($oe,"getWebhookSettings");async function Joe(e){let t=await e.req.json();return await e.env.KV.put(R.WEBHOOK_KV_SETTINGS_KEY,JSON.stringify(t)),e.json({success:!0})}o(Joe,"saveWebhookSettings");var VA={getWebhookSettings:$oe,saveWebhookSettings:Joe};l();u();c();async function Voe(e){let t=await e.env.KV.get(R.WEBHOOK_KV_ADMIN_MAIL_SETTINGS_KEY,"json")||new Xa;return e.json(t)}o(Voe,"getWebhookSettings");async function Koe(e){let t=await e.req.json();return await e.env.KV.put(R.WEBHOOK_KV_ADMIN_MAIL_SETTINGS_KEY,JSON.stringify(t)),e.json({success:!0})}o(Koe,"saveWebhookSettings");async function Goe(e){let t=await e.req.json(),{id:r,raw:n}=await e.env.DB.prepare("SELECT id, raw FROM raw_mails ORDER BY RANDOM() LIMIT 1").first()||{},i=await cr({rawEmail:n||""}),a=await ll(t,{id:r||"0",url:e.env.FRONTEND_URL?`${e.env.FRONTEND_URL}?mail_id=${r}`:"",from:i?.sender||"test@test.com",to:"admin@test.com",subject:i?.subject||"test subject",raw:n||"test raw email",parsedText:i?.text||"test parsed text",parsedHtml:i?.html||"test parsed html"});return a.success?e.json({success:!0}):e.text(a.message||"send webhook error",400)}o(Goe,"testWebhookSettings");var Cx={getWebhookSettings:Voe,saveWebhookSettings:Koe,testWebhookSettings:Goe};l();u();c();async function Woe(e){let t=await Q(e,R.OAUTH2_SETTINGS_KEY);return e.json(t||[])}o(Woe,"getUserOauth2Settings");async function Yoe(e){let t=await e.req.json();for(let r of t){if(!r.name||!r.clientID||!r.clientSecret||!r.authorizationURL||!r.accessTokenURL||!r.accessTokenFormat||!r.userInfoURL||!r.redirectURL||!r.userEmailKey||!r.scope)return e.text(`${r.name} is missing required fields`,400);if(r.enableMailAllowList&&(r.mailAllowList?.length||0)<1)return e.text(`${r.name} is missing mail allow list`,400)}return await bt(e,R.OAUTH2_SETTINGS_KEY,JSON.stringify(t)),e.json({success:!0})}o(Yoe,"saveUserOauth2Settings");var KA={getUserOauth2Settings:Woe,saveUserOauth2Settings:Yoe};l();u();c();var K6={getConfig:o(async e=>e.json({DEFAULT_LANG:e.env.DEFAULT_LANG,TITLE:e.env.TITLE,HAS_PASSWORD:V.getPasswords(e).length,HAS_ADMIN_PASSWORDS:V.getAdminPasswords(e).length,ANNOUNCEMENT:V.getStringValue(e.env.ANNOUNCEMENT),ALWAYS_SHOW_ANNOUNCEMENT:V.getBooleanValue(e.env.ALWAYS_SHOW_ANNOUNCEMENT),PREFIX:V.getStringValue(e.env.PREFIX),ADDRESS_CHECK_REGEX:V.getStringValue(e.env.ADDRESS_CHECK_REGEX),ADDRESS_REGEX:V.getStringValue(e.env.ADDRESS_REGEX),MIN_ADDRESS_LEN:V.getIntValue(e.env.MIN_ADDRESS_LEN,1),MAX_ADDRESS_LEN:V.getIntValue(e.env.MAX_ADDRESS_LEN,30),FORWARD_ADDRESS_LIST:V.getStringArray(e.env.FORWARD_ADDRESS_LIST),SUBDOMAIN_FORWARD_ADDRESS_LIST:V.getJsonObjectValue(e.env.SUBDOMAIN_FORWARD_ADDRESS_LIST),DEFAULT_DOMAINS:V.getDefaultDomains(e),DOMAINS:V.getDomains(e),DOMAIN_LABELS:V.getStringArray(e.env.DOMAIN_LABELS),HAS_JWT_SECRET:!!V.getStringValue(e.env.JWT_SECRET),ADMIN_USER_ROLE:V.getStringValue(e.env.ADMIN_USER_ROLE),USER_DEFAULT_ROLE:V.getStringValue(e.env.USER_DEFAULT_ROLE),USER_ROLES:V.getUserRoles(e),NO_LIMIT_SEND_ROLE:V.getSplitStringListValue(e.env.NO_LIMIT_SEND_ROLE),ADMIN_CONTACT:e.env.ADMIN_CONTACT,ENABLE_USER_CREATE_EMAIL:V.getBooleanValue(e.env.ENABLE_USER_CREATE_EMAIL),DISABLE_ANONYMOUS_USER_CREATE_EMAIL:V.getBooleanValue(e.env.DISABLE_ANONYMOUS_USER_CREATE_EMAIL),ENABLE_USER_DELETE_EMAIL:V.getBooleanValue(e.env.ENABLE_USER_DELETE_EMAIL),ENABLE_AUTO_REPLY:V.getBooleanValue(e.env.ENABLE_AUTO_REPLY),COPYRIGHT:e.env.COPYRIGHT,ENABLE_WEBHOOK:V.getBooleanValue(e.env.ENABLE_WEBHOOK),S3_ENABLED:um(e),VERSION:R.VERSION,DISABLE_SHOW_GITHUB:!V.getBooleanValue(e.env.DISABLE_SHOW_GITHUB),DISABLE_ADMIN_PASSWORD_CHECK:V.getBooleanValue(e.env.DISABLE_ADMIN_PASSWORD_CHECK),ENABLE_CHECK_JUNK_MAIL:V.getBooleanValue(e.env.ENABLE_CHECK_JUNK_MAIL),JUNK_MAIL_CHECK_LIST:V.getStringArray(e.env.JUNK_MAIL_CHECK_LIST),JUNK_MAIL_FORCE_PASS_LIST:V.getStringArray(e.env.JUNK_MAIL_FORCE_PASS_LIST),REMOVE_EXCEED_SIZE_ATTACHMENT:V.getBooleanValue(e.env.REMOVE_EXCEED_SIZE_ATTACHMENT),REMOVE_ALL_ATTACHMENT:V.getBooleanValue(e.env.REMOVE_ALL_ATTACHMENT),ENABLE_ANOTHER_WORKER:V.getBooleanValue(e.env.ENABLE_ANOTHER_WORKER),ANOTHER_WORKER_LIST:V.getAnotherWorkerList(e)}),"getConfig")};l();u();c();var Ax={getMails:o(async e=>{let{address:t,limit:r,offset:n}=e.req.query(),s=t?"address = ?":"",i=t?[t]:[],a=[s].filter(f=>f).join(" and "),d=a.length>0?`where ${a}`:"",p=[...i];return await mt(e,`SELECT * FROM raw_mails ${d}`,`SELECT count(*) as count FROM raw_mails ${d}`,p,r,n)},"getMails"),getUnknowMails:o(async e=>{let{limit:t,offset:r}=e.req.query();return await mt(e,"SELECT * FROM raw_mails where address NOT IN (select name from address) ","SELECT count(*) as count FROM raw_mails where address NOT IN (select name from address) ",[],t,r)},"getUnknowMails"),deleteMail:o(async e=>{let{id:t}=e.req.param(),{success:r}=await e.env.DB.prepare("DELETE FROM raw_mails WHERE id = ? ").bind(t).run();return e.json({success:r})},"deleteMail")};l();u();c();var G6=o(async e=>{let{from_name:t,from_mail:r,to_mail:n,to_name:s,subject:i,content:a,is_html:d}=await e.req.json();return await uc(e,r,{from_name:t,to_name:s,to_mail:n,subject:i,content:a,is_html:d},{isAdmin:!0}),e.json({status:"ok"})},"sendMailbyAdmin");l();u();c();var W6=`
CREATE TABLE IF NOT EXISTS raw_mails (
    id INTEGER PRIMARY KEY,
    message_id TEXT,
    source TEXT,
    address TEXT,
    raw TEXT,
    metadata TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX IF NOT EXISTS idx_raw_mails_address ON raw_mails(address);

CREATE INDEX IF NOT EXISTS idx_raw_mails_created_at ON raw_mails(created_at);

CREATE TABLE IF NOT EXISTS address (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT UNIQUE,
    password TEXT,
    source_meta TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX IF NOT EXISTS idx_address_name ON address(name);

CREATE INDEX IF NOT EXISTS idx_address_created_at ON address(created_at);

CREATE INDEX IF NOT EXISTS idx_address_updated_at ON address(updated_at);

CREATE INDEX IF NOT EXISTS idx_address_source_meta ON address(source_meta);

CREATE TABLE IF NOT EXISTS auto_reply_mails (
    id INTEGER PRIMARY KEY,
    source_prefix TEXT,
    name TEXT,
    address TEXT UNIQUE,
    subject TEXT,
    message TEXT,
    enabled INTEGER DEFAULT 1,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX IF NOT EXISTS idx_auto_reply_mails_address ON auto_reply_mails(address);

CREATE TABLE IF NOT EXISTS address_sender (
    id INTEGER PRIMARY KEY,
    address TEXT UNIQUE,
    balance INTEGER DEFAULT 0,
    enabled INTEGER DEFAULT 1,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX IF NOT EXISTS idx_address_sender_address ON address_sender(address);

CREATE TABLE IF NOT EXISTS sendbox (
    id INTEGER PRIMARY KEY,
    address TEXT,
    raw TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX IF NOT EXISTS idx_sendbox_address ON sendbox(address);
CREATE INDEX IF NOT EXISTS idx_sendbox_created_at ON sendbox(created_at);

CREATE TABLE IF NOT EXISTS settings (
    key TEXT PRIMARY KEY,
    value TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS users (
    id INTEGER PRIMARY KEY,
    user_email TEXT UNIQUE NOT NULL,
    password TEXT NOT NULL,
    user_info TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX IF NOT EXISTS idx_users_user_email ON users(user_email);

CREATE TABLE IF NOT EXISTS users_address (
    id INTEGER PRIMARY KEY,
    user_id INTEGER,
    address_id INTEGER UNIQUE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX IF NOT EXISTS idx_users_address_user_id ON users_address(user_id);

CREATE INDEX IF NOT EXISTS idx_users_address_address_id ON users_address(address_id);

CREATE TABLE IF NOT EXISTS user_roles (
    id INTEGER PRIMARY KEY,
    user_id INTEGER UNIQUE NOT NULL,
    role_text TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX IF NOT EXISTS idx_user_roles_user_id ON user_roles(user_id);

CREATE TABLE IF NOT EXISTS user_passkeys (
    id INTEGER PRIMARY KEY,
    user_id INTEGER NOT NULL,
    passkey_name TEXT NOT NULL,
    passkey_id TEXT NOT NULL,
    passkey TEXT NOT NULL,
    counter INTEGER DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX IF NOT EXISTS idx_user_passkeys_user_id ON user_passkeys(user_id);

CREATE UNIQUE INDEX IF NOT EXISTS idx_user_passkeys_user_id_passkey_id ON user_passkeys(user_id, passkey_id);
`,Tx={initialize:o(async e=>{let t=W6.replace(/[\r\n]/g,"").split(";").map(n=>n.trim()).join(`;
`);return await e.env.DB.exec(t),await V.getSetting(e,R.DB_VERSION_KEY)?e.json({message:"Database already initialized"}):(await V.saveSetting(e,R.DB_VERSION_KEY,R.DB_VERSION),e.json({message:"Database initialized"}))},"initialize"),migrate:o(async e=>{let t=await V.getSetting(e,R.DB_VERSION_KEY);if(t&&t<="v0.0.2"&&((await e.env.DB.prepare("PRAGMA table_info(address)").all()).results?.some(s=>s.name==="password")||await e.env.DB.exec("ALTER TABLE address ADD COLUMN password TEXT;")),t&&t<="v0.0.3"&&((await e.env.DB.prepare("PRAGMA table_info(raw_mails)").all()).results?.some(s=>s.name==="metadata")||await e.env.DB.exec("ALTER TABLE raw_mails ADD COLUMN metadata TEXT;")),t&&t<="v0.0.4"&&((await e.env.DB.prepare("PRAGMA table_info(address)").all()).results?.some(s=>s.name==="source_meta")||(await e.env.DB.exec("ALTER TABLE address ADD COLUMN source_meta TEXT;"),await e.env.DB.exec("CREATE INDEX IF NOT EXISTS idx_address_source_meta ON address(source_meta);"))),t!=R.DB_VERSION){let r=W6.replace(/[\r\n]/g,"").split(";").map(n=>n.trim()).join(`;
`);return await e.env.DB.exec(r),await V.saveSetting(e,R.DB_VERSION_KEY,R.DB_VERSION),e.json({success:!0,message:"Database migrated"})}return e.json({success:!0,message:"Database does not need migration"})},"migrate"),getVersion:o(async e=>{let t=await V.getSetting(e,R.DB_VERSION_KEY);return e.json({need_initialization:!t,need_migration:t&&t!=R.DB_VERSION,current_db_version:t,code_db_version:R.DB_VERSION})},"getVersion")};l();u();c();async function Qoe(e){let t=await Q(e,R.IP_BLACKLIST_SETTINGS_KEY);return e.json(t||{enabled:!1,blacklist:[],asnBlacklist:[],fingerprintBlacklist:[],enableDailyLimit:!1,dailyRequestLimit:1e3})}o(Qoe,"getIpBlacklistSettings");async function Xoe(e){let t=j.getMessagesbyContext(e),r=await e.req.json();if(typeof r.enabled!="boolean")return e.text(`${t.InvalidIpBlacklistSettingMsg}: enabled`,400);if(!Array.isArray(r.blacklist))return e.text(`${t.InvalidIpBlacklistSettingMsg}: blacklist`,400);if(!Array.isArray(r.asnBlacklist))return e.text(`${t.InvalidIpBlacklistSettingMsg}: asnBlacklist`,400);if(!Array.isArray(r.fingerprintBlacklist))return e.text(`${t.InvalidIpBlacklistSettingMsg}: fingerprintBlacklist`,400);if(typeof r.enableDailyLimit!="boolean")return e.text(`${t.InvalidIpBlacklistSettingMsg}: enableDailyLimit`,400);let n=Number(r.dailyRequestLimit);if(isNaN(n)||n<1||n>1e6)return e.text(`${t.InvalidIpBlacklistSettingMsg}: dailyRequestLimit (1-1000000)`,400);let s=1e3;if(r.blacklist.length>s)return e.text(`${t.BlacklistExceedsMaxSizeMsg}: blacklist (${s})`,400);if(r.asnBlacklist.length>s)return e.text(`${t.BlacklistExceedsMaxSizeMsg}: asnBlacklist (${s})`,400);if(r.fingerprintBlacklist.length>s)return e.text(`${t.BlacklistExceedsMaxSizeMsg}: fingerprintBlacklist (${s})`,400);let i=r.blacklist.map(f=>f.trim()).filter(f=>f.length>0),a=r.asnBlacklist.map(f=>f.trim()).filter(f=>f.length>0),d=r.fingerprintBlacklist.map(f=>f.trim()).filter(f=>f.length>0),p={enabled:r.enabled,blacklist:i,asnBlacklist:a,fingerprintBlacklist:d,enableDailyLimit:r.enableDailyLimit,dailyRequestLimit:r.dailyRequestLimit};return await bt(e,R.IP_BLACKLIST_SETTINGS_KEY,JSON.stringify(p)),e.json({success:!0})}o(Xoe,"saveIpBlacklistSettings");var GA={getIpBlacklistSettings:Qoe,saveIpBlacklistSettings:Xoe};l();u();c();async function Zoe(e){let t=await Q(e,R.AI_EXTRACT_SETTINGS_KEY)||{enableAllowList:!1,allowList:[]};return e.json(t)}o(Zoe,"getAiExtractSettings");async function eae(e){let t=await e.req.json();return await bt(e,R.AI_EXTRACT_SETTINGS_KEY,JSON.stringify(t)),e.json({success:!0})}o(eae,"saveAiExtractSettings");var WA={getAiExtractSettings:Zoe,saveAiExtractSettings:eae};var X=new tr;X.get("/admin/address",async e=>{let{limit:t,offset:r,query:n}=e.req.query();return n?await mt(e,"SELECT a.*, (SELECT COUNT(*) FROM raw_mails WHERE address = a.name) AS mail_count, (SELECT COUNT(*) FROM sendbox WHERE address = a.name) AS send_count FROM address a where name like ?","SELECT count(*) as count FROM address where name like ?",[`%${n}%`],t,r):await mt(e,"SELECT a.*, (SELECT COUNT(*) FROM raw_mails WHERE address = a.name) AS mail_count, (SELECT COUNT(*) FROM sendbox WHERE address = a.name) AS send_count FROM address a","SELECT count(*) as count FROM address",[],t,r)});X.post("/admin/new_address",async e=>{let{name:t,domain:r,enablePrefix:n}=await e.req.json(),s=j.getMessagesbyContext(e);if(!t)return e.text(s.RequiredFieldMsg,400);try{let i=await Ka(e,{name:t,domain:r,enablePrefix:n,checkLengthByConfig:!1,addressPrefix:null,checkAllowDomains:!1,enableCheckNameRegex:!1,sourceMeta:"admin"});return e.json(i)}catch(i){return e.text(`${s.FailedCreateAddressMsg}: ${i.message}`,400)}});X.delete("/admin/delete_address/:id",async e=>{let t=j.getMessagesbyContext(e),{id:r}=e.req.param(),{success:n}=await e.env.DB.prepare("DELETE FROM address WHERE id = ? ").bind(r).run();if(!n)return e.text(t.OperationFailedMsg,500);let{success:s}=await e.env.DB.prepare("DELETE FROM raw_mails WHERE address IN (select name from address where id = ?) ").bind(r).run();if(!s)return e.text(t.OperationFailedMsg,500);let{success:i}=await e.env.DB.prepare("DELETE FROM address_sender WHERE address IN (select name from address where id = ?) ").bind(r).run(),{success:a}=await e.env.DB.prepare("DELETE FROM users_address WHERE address_id = ?").bind(r).run();return e.json({success:n&&s&&i&&a})});X.delete("/admin/clear_inbox/:id",async e=>{let t=j.getMessagesbyContext(e),{id:r}=e.req.param(),{success:n}=await e.env.DB.prepare("DELETE FROM raw_mails WHERE address IN (select name from address where id = ?) ").bind(r).run();return n?e.json({success:n}):e.text(t.OperationFailedMsg,500)});X.delete("/admin/clear_sent_items/:id",async e=>{let t=j.getMessagesbyContext(e),{id:r}=e.req.param(),{success:n}=await e.env.DB.prepare("DELETE FROM sendbox WHERE address IN (select name from address where id = ?) ").bind(r).run();return n?e.json({success:n}):e.text(t.OperationFailedMsg,500)});X.get("/admin/show_password/:id",async e=>{let{id:t}=e.req.param(),r=await e.env.DB.prepare("SELECT name FROM address WHERE id = ? ").bind(t).first("name"),n=await le.sign({address:r,address_id:t},e.env.JWT_SECRET,"HS256");return e.json({jwt:n})});X.post("/admin/address/:id/reset_password",async e=>{let t=j.getMessagesbyContext(e),{id:r}=e.req.param(),{password:n}=await e.req.json();if(!ae(e.env.ENABLE_ADDRESS_PASSWORD))return e.text(t.PasswordChangeDisabledMsg,403);if(!n)return e.text(t.NewPasswordRequiredMsg,400);let s=await sp(n),{success:i}=await e.env.DB.prepare("UPDATE address SET password = ?, updated_at = datetime('now') WHERE id = ?").bind(s,r).run();return i?e.json({success:!0}):e.text(t.FailedUpdatePasswordMsg,500)});X.get("/admin/mails",Ax.getMails);X.get("/admin/mails_unknow",Ax.getUnknowMails);X.delete("/admin/mails/:id",Ax.deleteMail);X.get("/admin/address_sender",async e=>{let{address:t,limit:r,offset:n}=e.req.query();return t?await mt(e,"SELECT * FROM address_sender where address = ? ","SELECT count(*) as count FROM address_sender where address = ? ",[t],r,n):await mt(e,"SELECT * FROM address_sender ","SELECT count(*) as count FROM address_sender ",[],r,n)});X.post("/admin/address_sender",async e=>{let t=j.getMessagesbyContext(e),{address:r,address_id:n,balance:s,enabled:i}=await e.req.json();if(!n)return e.text(t.InvalidAddressIdMsg,400);i=i?1:0;let{success:a}=await e.env.DB.prepare("UPDATE address_sender SET enabled = ?, balance = ? WHERE id = ? ").bind(i,s,n).run();return a?(await s0(e,r,"Account Send Access Updated",`Your send access has been ${i?"enabled":"disabled"}, balance: ${s}`),e.json({success:a})):e.text(t.OperationFailedMsg,500)});X.delete("/admin/address_sender/:id",async e=>{let{id:t}=e.req.param(),{success:r}=await e.env.DB.prepare("DELETE FROM address_sender WHERE id = ? ").bind(t).run();return e.json({success:r})});X.get("/admin/sendbox",async e=>{let{address:t,limit:r,offset:n}=e.req.query();return t?await mt(e,"SELECT * FROM sendbox where address = ? ","SELECT count(*) as count FROM sendbox where address = ? ",[t],r,n):await mt(e,"SELECT * FROM sendbox ","SELECT count(*) as count FROM sendbox ",[],r,n)});X.delete("/admin/sendbox/:id",async e=>{let{id:t}=e.req.param(),{success:r}=await e.env.DB.prepare("DELETE FROM sendbox WHERE id = ? ").bind(t).run();return e.json({success:r})});X.get("/admin/statistics",async e=>{let{count:t}=await e.env.DB.prepare("SELECT count(*) as count FROM raw_mails").first()||{},{count:r}=await e.env.DB.prepare("SELECT count(*) as count FROM address").first()||{},{count:n}=await e.env.DB.prepare("SELECT count(*) as count FROM address where updated_at > datetime('now', '-7 day')").first()||{},{count:s}=await e.env.DB.prepare("SELECT count(*) as count FROM address where updated_at > datetime('now', '-30 day')").first()||{},{count:i}=await e.env.DB.prepare("SELECT count(*) as count FROM sendbox").first()||{},{count:a}=await e.env.DB.prepare("SELECT count(*) as count FROM users").first()||{};return e.json({mailCount:t,addressCount:r,activeAddressCount7days:n,activeAddressCount30days:s,userCount:a,sendMailCount:i})});X.get("/admin/account_settings",async e=>{try{let t=await Q(e,R.ADDRESS_BLOCK_LIST_KEY),r=await Q(e,R.SEND_BLOCK_LIST_KEY),n=await Q(e,R.VERIFIED_ADDRESS_LIST_KEY),s=e.env.KV?await e.env.KV.get(R.EMAIL_KV_BLACK_LIST,"json"):[],i=await Q(e,R.EMAIL_RULE_SETTINGS_KEY),a=await Q(e,R.NO_LIMIT_SEND_ADDRESS_LIST_KEY);return e.json({blockList:t||[],sendBlockList:r||[],verifiedAddressList:n||[],fromBlockList:s||[],noLimitSendAddressList:a||[],emailRuleSettings:i||{}})}catch(t){return console.error(t),e.json({})}});X.post("/admin/account_settings",async e=>{let t=j.getMessagesbyContext(e),{blockList:r,sendBlockList:n,noLimitSendAddressList:s,verifiedAddressList:i,fromBlockList:a,emailRuleSettings:d}=await e.req.json();return!r||!n||!i?e.text(t.InvalidInputMsg,400):!e.env.SEND_MAIL&&i.length>0?e.text(t.EnableSendMailMsg,400):(await bt(e,R.ADDRESS_BLOCK_LIST_KEY,JSON.stringify(r)),await bt(e,R.SEND_BLOCK_LIST_KEY,JSON.stringify(n)),await bt(e,R.VERIFIED_ADDRESS_LIST_KEY,JSON.stringify(i)),a?.length>0&&!e.env.KV?e.text(t.EnableKVMsg,400):(a&&await e.env.KV.put(R.EMAIL_KV_BLACK_LIST,JSON.stringify(a||[])),await bt(e,R.NO_LIMIT_SEND_ADDRESS_LIST_KEY,JSON.stringify(s||[])),await bt(e,R.EMAIL_RULE_SETTINGS_KEY,JSON.stringify(d||{})),e.json({success:!0})))});X.post("/admin/cleanup",Ex.cleanup);X.get("/admin/auto_cleanup",Ex.getCleanup);X.post("/admin/auto_cleanup",Ex.saveCleanup);X.get("/admin/user_settings",gn.getSetting);X.post("/admin/user_settings",gn.saveSetting);X.get("/admin/users",gn.getUsers);X.delete("/admin/users/:user_id",gn.deleteUser);X.post("/admin/users",gn.createUser);X.post("/admin/users/:user_id/reset_password",gn.resetPassword);X.get("/admin/user_roles",async e=>e.json(An(e)));X.post("/admin/user_roles",gn.updateUserRoles);X.get("/admin/role_address_config",gn.getRoleAddressConfig);X.post("/admin/role_address_config",gn.saveRoleAddressConfig);X.get("/admin/users/bind_address/:user_id",gn.getBindedAddresses);X.post("/admin/users/bind_address",gn.bindAddress);X.get("/admin/user_oauth2_settings",KA.getUserOauth2Settings);X.post("/admin/user_oauth2_settings",KA.saveUserOauth2Settings);X.get("/admin/webhook/settings",VA.getWebhookSettings);X.post("/admin/webhook/settings",VA.saveWebhookSettings);X.get("/admin/mail_webhook/settings",Cx.getWebhookSettings);X.post("/admin/mail_webhook/settings",Cx.saveWebhookSettings);X.post("/admin/mail_webhook/test",Cx.testWebhookSettings);X.get("/admin/worker/configs",K6.getConfig);X.post("/admin/send_mail",G6);X.get("admin/db_version",Tx.getVersion);X.post("admin/db_initialize",Tx.initialize);X.post("admin/db_migration",Tx.migrate);X.get("/admin/ip_blacklist/settings",GA.getIpBlacklistSettings);X.post("/admin/ip_blacklist/settings",GA.saveIpBlacklistSettings);X.get("/admin/ai_extract/settings",WA.getAiExtractSettings);X.post("/admin/ai_extract/settings",WA.saveAiExtractSettings);l();u();c();import{Writable as Dde}from"node:stream";l();u();c();var bn=Fr(_$(),1),C$=Fr(w$(),1);var pr=o(async(e,t,r)=>{if(!ae(e.env.TG_ALLOW_USER_LANG))return j.getMessages(e.env.DEFAULT_LANG||"zh");let n=r||t?.message?.from?.id?.toString()||t?.callbackQuery?.from?.id?.toString();if(n){let s=await e.env.KV.get(`${R.TG_KV_PREFIX}:lang:${n}`);if(s)return j.getMessages(s)}return j.getMessages(e.env.DEFAULT_LANG||"zh")},"getTgMessages"),E$=[{command:"start",description:"\u5F00\u59CB\u4F7F\u7528 | Get started"},{command:"new",description:"\u65B0\u5EFA\u90AE\u7BB1, /new <name>@<domain>, name[a-z0-9]\u6709\u6548, \u4E3A\u7A7A\u968F\u673A\u751F\u6210, @domain\u53EF\u9009 | Create address, /new <name>@<domain>, name[a-z0-9] valid, empty=random, @domain optional"},{command:"address",description:"\u67E5\u770B\u90AE\u7BB1\u5730\u5740\u5217\u8868 | View address list"},{command:"bind",description:"\u7ED1\u5B9A\u90AE\u7BB1, /bind <\u90AE\u7BB1\u5730\u5740\u51ED\u8BC1> | Bind address, /bind <credential>"},{command:"unbind",description:"\u89E3\u7ED1\u90AE\u7BB1, /unbind <\u90AE\u7BB1\u5730\u5740> | Unbind address, /unbind <address>"},{command:"delete",description:"\u5220\u9664\u90AE\u7BB1, /delete <\u90AE\u7BB1\u5730\u5740> | Delete address, /delete <address>"},{command:"mails",description:"\u67E5\u770B\u90AE\u4EF6, /mails <\u90AE\u7BB1\u5730\u5740>, \u4E0D\u8F93\u5165\u5730\u5740\u9ED8\u8BA4\u7B2C\u4E00\u4E2A | View mails, /mails <address>, default first if empty"},{command:"cleaninvalidaddress",description:"\u6E05\u7406\u65E0\u6548\u5730\u5740 | Clean invalid addresses"},{command:"lang",description:"\u8BBE\u7F6E\u8BED\u8A00 /lang <zh|en> | Set language /lang <zh|en>"}],A$=o(e=>ae(e.env.TG_ALLOW_USER_LANG)?E$:E$.filter(t=>t.command!=="lang"),"getTelegramCommands");function wd(e,t){let r=new bn.Telegraf(t),n=Vs(e.env.TG_BOT_INFO);n&&(r.botInfo=n),r.use(async(i,a)=>{if(i.chat?.type!=="private")return;let d=i?.message?.from?.id||i.callbackQuery?.message?.chat?.id;if(!d){let f=await pr(e,i);return await i.reply(f.TgUnableGetUserInfoMsg)}let p=await e.env.KV.get(R.TG_KV_SETTINGS_KEY,"json");if(p?.enableAllowList&&!p.allowList.includes(d.toString())){let f=await pr(e,i);return await i.reply(f.TgNoPermissionMsg)}try{await a()}catch(f){return console.error(`Error: ${f}`),await i.reply(`Error: ${f}`)}}),r.command("start",async i=>{let a=await pr(e,i),d=hr(e.env.PREFIX),p=En(e),f=A$(e);return await i.reply(`${a.TgWelcomeMsg}

`+(d?`${a.TgCurrentPrefixMsg} ${d}
`:"")+`${a.TgCurrentDomainsMsg} ${JSON.stringify(p)}
${a.TgAvailableCommandsMsg}
`+f.map(m=>`/${m.command}: ${m.description}`).join(`
`))}),r.command("new",async i=>{let a=await pr(e,i),d=i?.message?.from?.id;if(!d)return await i.reply(a.TgUnableGetUserInfoMsg);try{let p=i?.message?.text.slice(4).trim(),f=await lm(e,d.toString(),p,a);return await i.reply(`${a.TgCreateSuccessMsg}
${a.TgAddressMsg} ${f.address}
`+(f.password?`${a.TgPasswordMsg} \`${f.password}\`
`:"")+`${a.TgCredentialMsg} \`${f.jwt}\`
`,{parse_mode:"Markdown"})}catch(p){return await i.reply(`${a.TgCreateFailedMsg} ${p.message}`)}}),r.command("bind",async i=>{let a=await pr(e,i),d=i?.message?.from?.id;if(!d)return await i.reply(a.TgUnableGetUserInfoMsg);try{let p=i?.message?.text.slice(5).trim();if(!p)return await i.reply(a.TgPleaseInputCredentialMsg);let f=await dm(e,d.toString(),p,a);return await i.reply(`${a.TgBindSuccessMsg}
${a.TgAddressMsg} ${f}`)}catch(p){return await i.reply(`${a.TgBindFailedMsg} ${p.message}`)}}),r.command("unbind",async i=>{let a=await pr(e,i),d=i?.message?.from?.id;if(!d)return await i.reply(a.TgUnableGetUserInfoMsg);try{let p=i?.message?.text.slice(7).trim();return p?(await nl(e,d.toString(),p),await i.reply(`${a.TgUnbindSuccessMsg}
${a.TgAddressMsg} ${p}`)):await i.reply(a.TgPleaseInputAddressMsg)}catch(p){return await i.reply(`${a.TgUnbindFailedMsg} ${p.message}`)}}),r.command("delete",async i=>{let a=await pr(e,i),d=i?.message?.from?.id;if(!d)return await i.reply(a.TgUnableGetUserInfoMsg);try{let p=i?.message?.text.slice(7).trim();return p?(await FN(e,d.toString(),p,a),await i.reply(`${a.TgDeleteSuccessMsg} ${p}`)):await i.reply(a.TgPleaseInputAddressMsg)}catch(p){return await i.reply(`${a.TgDeleteFailedMsg} ${p.message}`)}}),r.command("address",async i=>{let a=await pr(e,i),d=i?.message?.from?.id;if(!d)return await i.reply(a.TgUnableGetUserInfoMsg);try{let p=await e.env.KV.get(`${R.TG_KV_PREFIX}:${d}`,"json")||[],{addressList:f}=await ws(e,p,a);return await i.reply(`${a.TgAddressListMsg}

`+f.map(m=>`${a.TgAddressMsg} ${m}`).join(`
`))}catch(p){return await i.reply(`${a.TgGetAddressFailedMsg} ${p.message}`)}}),r.command("cleaninvalidaddress",async i=>{let a=await pr(e,i),d=i?.message?.from?.id;if(!d)return await i.reply(a.TgUnableGetUserInfoMsg);try{let p=await e.env.KV.get(`${R.TG_KV_PREFIX}:${d}`,"json")||[],{invalidJwtList:f}=await ws(e,p,a),m=p.filter(g=>!f.includes(g));await e.env.KV.put(`${R.TG_KV_PREFIX}:${d}`,JSON.stringify(m));let{addressList:h}=await ws(e,m,a);return await i.reply(`${a.TgCleanSuccessMsg}

${a.TgCurrentAddressListMsg}

`+h.map(g=>`${a.TgAddressMsg} ${g}`).join(`
`))}catch(p){return await i.reply(`${a.TgCleanFailedMsg} ${p.message}`)}}),r.command("lang",async i=>{let a=i?.message?.from?.id;if(!a){let m=await pr(e,i);return await i.reply(m.TgUnableGetUserInfoMsg)}let d=await pr(e,i);if(!ae(e.env.TG_ALLOW_USER_LANG))return await i.reply(d.TgLangFeatureDisabledMsg);let p=i?.message?.text.slice(5).trim().toLowerCase();if(p==="zh"||p==="en")return await e.env.KV.put(`${R.TG_KV_PREFIX}:lang:${a}`,p),await i.reply(`${d.TgLangSetSuccessMsg} ${p==="zh"?"\u4E2D\u6587":"English"}`);let f=await e.env.KV.get(`${R.TG_KV_PREFIX}:lang:${a}`);return await i.reply(`${d.TgCurrentLangMsg} ${f||"auto"}
${d.TgSelectLangMsg}
/lang zh - \u4E2D\u6587
/lang en - English`)});let s=o(async(i,a,d,p)=>{let f=await pr(e,i),m=i?.message?.from?.id||i.callbackQuery?.message?.chat?.id;if(!m)return await i.reply(f.TgUnableGetUserInfoMsg);let h=await e.env.KV.get(`${R.TG_KV_PREFIX}:${m}`,"json")||[],{addressList:g,addressIdMap:y}=await ws(e,h,f);if(!a&&g.length>0&&(a=g[0]),!(a in y))return await i.reply(`${f.TgNotBoundAddressMsg} ${a}`);let x=y[a];if(!await e.env.DB.prepare("SELECT id FROM address where id = ? ").bind(x).first("id"))return await i.reply(f.TgInvalidAddressMsg);let{raw:E,id:T,created_at:k}=await e.env.DB.prepare("SELECT * FROM raw_mails where address = ?  order by id desc limit 1 offset ?").bind(a,d).first()||{},{mail:D}=E?await O$(f,{rawEmail:E},a,k):{mail:f.TgNoMoreMailsMsg},I=await e.env.KV.get(R.TG_KV_SETTINGS_KEY,"json"),N=[];if(I?.miniAppUrl&&I?.miniAppUrl?.length>0&&T){let G=new URL(I.miniAppUrl);G.pathname="/telegram_mail",G.searchParams.set("mail_id",T),N.push(bn.Markup.button.webApp(f.TgViewMailBtnMsg,G.toString()))}return p?await i.editMessageText(D||f.TgNoMailMsg,{...bn.Markup.inlineKeyboard([bn.Markup.button.callback(f.TgPrevBtnMsg,`mail_${a}_${d-1}`,d<=0),...N,bn.Markup.button.callback(f.TgNextBtnMsg,`mail_${a}_${d+1}`,!E)])}):await i.reply(D||f.TgNoMailMsg,{...bn.Markup.inlineKeyboard([bn.Markup.button.callback(f.TgPrevBtnMsg,`mail_${a}_${d-1}`,d<=0),...N,bn.Markup.button.callback(f.TgNextBtnMsg,`mail_${a}_${d+1}`,!E)])})},"queryMail");return r.command("mails",async i=>{let a=await pr(e,i);try{let d=i?.message?.text.slice(6).trim();return await s(i,d,0,!1)}catch(d){return await i.reply(`${a.TgGetMailFailedMsg} ${d.message}`)}}),r.on((0,C$.callbackQuery)("data"),async i=>{let a=await pr(e,i);try{let d=i.callbackQuery.data;if(d&&d.startsWith("mail_")&&d.split("_").length===3){let[p,f,m]=d.split("_");await s(i,f,parseInt(m),!0)}}catch(d){return console.log(`${a.TgGetMailFailedMsg} ${d.message}`,d),await i.answerCbQuery(`${a.TgGetMailFailedMsg} ${d.message}`)}await i.answerCbQuery()}),r}o(wd,"newTelegramBot");async function T$(e,t){await t.telegram.setMyCommands(A$(e))}o(T$,"initTelegramBotCommands");var O$=o(async(e,t,r,n)=>{if(!t.rawEmail)return{};try{let s=await cr(t),i=s?.text||"";return i.length&&i.length>1e3&&(i=s?.text.substring(0,1e3)+`

...
${e.TgMsgTooLongMsg}`),{isHtml:!1,mail:`From: ${s?.sender||e.TgNoSenderMsg}
To: ${r}
`+(n?`Date: ${n}
`:"")+`Subject: ${s?.subject}
Content:
${i||e.TgParseFailedViewInAppMsg}`}}catch(s){return{isHtml:!1,mail:`${e.TgParseMailFailedMsg} ${s.message}`}}},"parseMail");async function PT(e,t,r,n){if(!e.env.TELEGRAM_BOT_TOKEN||!e.env.KV)return;let s=await e.env.KV.get(`${R.TG_KV_PREFIX}:${t}`),i=await e.env.KV.get(R.TG_KV_SETTINGS_KEY,"json"),a=i?.enableGlobalMailPush&&i?.globalMailPushList;if(!s&&!a)return;let d=await e.env.DB.prepare("SELECT id FROM raw_mails where address = ? and message_id = ?").bind(t,n).first("id"),p=wd(e,e.env.TELEGRAM_BOT_TOKEN),f=o(async(m,h)=>{let{mail:g}=await O$(h,r,t,new Date().toUTCString());if(!g)return;let y=[];if(i?.miniAppUrl&&d){let x=new URL(i.miniAppUrl);x.pathname="/telegram_mail",x.searchParams.set("mail_id",d),y.push(bn.Markup.button.webApp(h.TgViewMailBtnMsg,x.toString()))}await p.telegram.sendMessage(m,g,{...bn.Markup.inlineKeyboard([...y])})},"buildAndSend");if(a){let m=j.getMessages(e.env.DEFAULT_LANG||"zh");for(let h of i.globalMailPushList)await f(h,m)}if(s){let m=await pr(e,void 0,s);await f(s,m)}}o(PT,"sendMailToTelegram");l();u();c();var IT=class{static{o(this,"TelegramSettings")}enableAllowList;allowList;miniAppUrl;enableGlobalMailPush;globalMailPushList;constructor(t,r,n,s,i){this.enableAllowList=t,this.allowList=r,this.miniAppUrl=n,this.enableGlobalMailPush=s,this.globalMailPushList=i}};async function Tde(e){let t=await e.env.KV.get(R.TG_KV_SETTINGS_KEY,"json");return e.json(t||new IT(!1,[],"",!1,[]))}o(Tde,"getTelegramSettings");async function Ode(e){let t=await e.req.json();return await e.env.KV.put(R.TG_KV_SETTINGS_KEY,JSON.stringify(t)),e.json({success:!0})}o(Ode,"saveTelegramSettings");var BT={getTelegramSettings:Tde,saveTelegramSettings:Ode};l();u();c();var DT=new TextEncoder,kde=300,Ed=o(async(e,t)=>{let r=new URLSearchParams(t);r.sort();let n=r.get("hash");r.delete("hash");let s=[...r.entries()].map(([y,x])=>y+"="+x).join(`
`);if(Number(r.get("auth_date"))+kde<new Date().getTime()/1e3)throw Error("Auth date expired");let a=r.get("user");if(!n||!a)throw Error("Invalid initData");let{id:d}=JSON.parse(a),p=await crypto.subtle.importKey("raw",DT.encode("WebAppData"),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),f=await crypto.subtle.sign("HMAC",p,DT.encode(e.env.TELEGRAM_BOT_TOKEN)),m=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]),h=await crypto.subtle.sign("HMAC",m,DT.encode(s));if(Array.from(new Uint8Array(h)).map(y=>y.toString(16).padStart(2,"0")).join("")!=n)throw Error("Invalid initData");return typeof d=="number"?d.toString():d},"checkTelegramAuth");async function Rde(e){let{initData:t}=await e.req.json();try{let r=await Ed(e,t),n=await e.env.KV.get(`${R.TG_KV_PREFIX}:${r}`,"json")||[],s=[];for(let i of n)try{let{address:a}=await le.verify(i,e.env.JWT_SECRET,"HS256");s.push({address:a,jwt:i})}catch(a){console.error(`failed to verify jwt with error: ${a}`);continue}return e.json(s)}catch(r){return e.text(r.message,400)}}o(Rde,"getTelegramBindAddress");async function Mde(e){let{initData:t,address:r,cf_token:n}=await e.req.json(),s=j.getMessagesbyContext(e);try{await Ji(e,n)}catch{return e.text(s.TurnstileCheckFailedMsg,500)}try{let i=await Ed(e,t),a=await lm(e,i,r,s);return e.json(a)}catch(i){return e.text(i.message,400)}}o(Mde,"newTelegramAddress");async function Pde(e){let{initData:t,jwt:r}=await e.req.json(),n=j.getMessagesbyContext(e);try{let s=await Ed(e,t);return await dm(e,s,r,n),e.json({success:!0})}catch(s){return e.text(s.message,400)}}o(Pde,"bindAddress");async function Ide(e){let{initData:t,address:r}=await e.req.json();try{let n=await Ed(e,t);return await nl(e,n,r),e.json({success:!0})}catch(n){return e.text(n.message,400)}}o(Ide,"unbindAddress");async function Bde(e){let{initData:t,mailId:r}=await e.req.json(),n=j.getMessagesbyContext(e);try{let s=await Ed(e,t),i=await e.env.KV.get(`${R.TG_KV_PREFIX}:${s}`,"json")||[],{addressList:a,addressIdMap:d}=await ws(e,i,n),p=await e.env.DB.prepare("SELECT * FROM raw_mails where id = ?").bind(r).first(),f=await e.env.KV.get(R.TG_KV_SETTINGS_KEY,"json");if(!(f?.enableGlobalMailPush&&f?.globalMailPushList.includes(s))){if(p?.address&&!(p.address in d))return e.text(n.TgNoPermissionViewMailMsg,403);let h=d[p?.address];if(!await e.env.DB.prepare("SELECT id FROM address where id = ? ").bind(h).first("id"))return e.text(n.TgNoPermissionViewMailMsg,403)}return e.json(p)}catch(s){return e.text(s.message,400)}}o(Bde,"getMail");var $c={getTelegramBindAddress:Rde,newTelegramAddress:Mde,bindAddress:Pde,unbindAddress:Ide,getMail:Bde};var Br=new tr;Br.use("/telegram/*",async(e,t)=>{let r=j.getMessagesbyContext(e);return e.env.TELEGRAM_BOT_TOKEN?e.env.KV?await t():e.text(r.KVNotAvailableMsg,400):e.text(r.TgBotTokenRequiredMsg,400)});Br.use("/admin/telegram/*",async(e,t)=>{let r=j.getMessagesbyContext(e);return e.env.TELEGRAM_BOT_TOKEN?e.env.KV?await t():e.text(r.KVNotAvailableMsg,400):e.text(r.TgBotTokenRequiredMsg,400)});Br.post("/telegram/webhook",async e=>{let t=e.env.TELEGRAM_BOT_TOKEN,r=wd(e,t),n=null,s=new Dde;Object.assign(s,{headersSent:!1,setHeader:o((a,d)=>e.header(a,d),"setHeader"),end:o(a=>n=a,"end")});let i=await e.req.json();return await r.handleUpdate(i,s),e.body(n)});Br.post("/admin/telegram/init",async e=>{let t=new URL(e.req.url).host,r=e.env.TELEGRAM_BOT_TOKEN,n=`https://${t}/telegram/webhook`;console.log(`setting webhook to ${n}`);let s=wd(e,r);return await s.telegram.setWebhook(n),await T$(e,s),e.json({message:"webhook set successfully"})});Br.get("/admin/telegram/status",async e=>{let t=e.env.TELEGRAM_BOT_TOKEN,r=wd(e,t),n=await r.telegram.getWebhookInfo(),s=await r.telegram.getMyCommands();return e.json({info:n,commands:s})});Br.get("/admin/telegram/settings",BT.getTelegramSettings);Br.post("/admin/telegram/settings",BT.saveTelegramSettings);Br.post("/telegram/get_bind_address",$c.getTelegramBindAddress);Br.post("/telegram/new_address",$c.newTelegramAddress);Br.post("/telegram/bind_address",$c.bindAddress);Br.post("/telegram/unbind_address",$c.unbindAddress);Br.post("/telegram/get_mail",$c.getMail);l();u();c();l();u();c();var k$=o(async(e,t)=>{let r=e.headers.get("Message-ID");if(ae(t.ENABLE_AUTO_REPLY)&&r)try{let n=await t.DB.prepare("SELECT * FROM auto_reply_mails where address = ? and enabled = 1").bind(e.to).first();if(n&&n.source_prefix&&e.from.startsWith(n.source_prefix)){let s=Js();s.setHeader("In-Reply-To",r),s.setSender({name:n.name||n.address,addr:n.address}),s.setRecipient(e.from),s.setSubject(n.subject||"Auto-reply"),s.addMessage({contentType:"text/plain",data:n.message||"This is an auto-reply message, please reconact later."});let{EmailMessage:i}=await import("cloudflare:email"),a=new i(e.to,e.from,s.asRaw());await e.reply(a)}}catch(n){console.log("reply email error",n)}},"auto_reply");l();u();c();var R$=o(async(e,t)=>t.BLACK_LIST&&t.BLACK_LIST.split(",").some(n=>e.includes(n))?!0:t.KV?!!(await t.KV.get(R.EMAIL_KV_BLACK_LIST,"json")||[]).some(n=>e.includes(n)):!1,"isBlocked");l();u();c();var M$=o(async(e,t,r,n)=>{if(!ae(e.ENABLE_CHECK_JUNK_MAIL))return!1;let s=await cr(r);if(!s?.headers)return!1;let i=Ks(e.JUNK_MAIL_CHECK_LIST),a=Ks(e.JUNK_MAIL_FORCE_PASS_LIST),d=[],p=[],f=s.headers;for(let m of f)m.key&&m.value&&(m.key.toLowerCase()=="received-spf"&&(p.push("spf"),m.value.toLowerCase().includes("pass")&&d.push("spf")),m.key.toLowerCase()=="authentication-results"&&(m.value.toLowerCase().includes("dkim=")&&(p.push("dkim"),m.value.toLowerCase().includes("dkim=pass")&&d.push("dkim")),m.value.toLowerCase().includes("dmarc=")&&(p.push("dmarc"),m.value.toLowerCase().includes("dmarc=pass")&&d.push("dmarc"))));return i?.some(m=>p.includes(m.toLowerCase())&&!d.includes(m.toLowerCase()))?!0:a?.length==0?!1:a.some(m=>!d.includes(m.toLowerCase()))},"check_if_junk_mail");l();u();c();var P$=o(async(e,t,r,n,s)=>{let i=ae(e.REMOVE_ALL_ATTACHMENT),a=ae(e.REMOVE_EXCEED_SIZE_ATTACHMENT)&&s>=2*1024*1024;if(!(i||a))return;let p=await cr(t);if(!p)return;let f=Js();if(p?.headers)for(let m of p.headers)try{f.setHeader(m.key,m.value)}catch{}f.setSender({name:p?.sender||r,addr:r}),f.setRecipient(n),f.setSubject(p?.subject||"Failed to parse email subject"),p?.html&&f.addMessage({contentType:"text/html",data:p.html}),p?.text&&f.addMessage({contentType:"text/plain",data:p.text}),t.rawEmail=f.asRaw()},"remove_attachment_if_need");l();u();c();var Nde=`
You are an expert email analyzer. Your task is to first UNDERSTAND the email content, then EXTRACT the most relevant information based on priority.

# Step 1: UNDERSTAND the Email
Read the entire email carefully and determine its:
- Overall purpose (verification, marketing, notification, etc.)
- Key context and situation
- What the sender wants the recipient to do
- Any security-sensitive content

# Step 2: EXTRACT Based on Priority
After understanding, extract the most important item according to this priority order:

**Priority 1: auth_code (Authentication Code)**
- Numeric or alphanumeric codes used for login verification
- Keywords: verification code, OTP, security code, confirmation code, auth code, \u9A8C\u8BC1\u7801, \u6821\u9A8C\u7801
- Extract ONLY the code itself (remove spaces, hyphens, etc.)
- Example: "123456" from "Your verification code is 123-456"

**Priority 2: auth_link (Authentication Link)**
- Links used for login, email verification, account activation, or password reset
- Keywords: verify, confirm, activate, login, signin, signup, reset, \u9A8C\u8BC1, \u6FC0\u6D3B, \u767B\u5F55
- Must be a real, complete URL (http:// or https://)
- Never fabricate or infer links that don't exist in the content
- Example: "https://example.com/verify?token=abc123"

**Priority 3: service_link (Service Link)**
- Links related to specific services or actions
- Keywords: commit, pull request, issue, repository, deployment, GitHub, GitLab, code review
- Real URLs for technical or service-related notifications
- Example: GitHub commit link, deployment notification link

**Priority 4: subscription_link (Subscription Management Link)**
- Links for managing email subscriptions, typically unsubscribe
- Keywords: unsubscribe, opt-out, manage preferences, \u9000\u8BA2, \u53D6\u6D88\u8BA2\u9605
- Usually found at the bottom of marketing emails
- Real URLs for subscription control

**Priority 5: other_link (Other Valuable Link)**
- Any other link that might be useful or important
- Only extract if no higher-priority items exist
- Must be a real, complete URL from the content

**Priority 6: none**
- No relevant codes, links, or valuable content found
- Email appears to be plain text or irrelevant

# Special Case: Markdown Link Format
If the extracted content is in markdown link format [text](url):

- Extract the text inside the brackets as result_text
- When brackets are empty, analyze the email context and language
- Generate a concise, meaningful description (2-5 words) for result_text
- Match the email's language (Chinese \u2192 Chinese description, English \u2192 English)

# Critical Rules
1. **Understand First**: Always analyze the email's purpose before extracting
2. **Single Selection**: Choose ONLY ONE type based on the highest priority match
3. **Real Data Only**: Never invent, guess, or fabricate content
4. **Complete URLs**: Links must be full, valid URLs as they appear in the email
5. **Clean Extraction**: Return only the raw extracted content, no extra text

# Output Format (JSON only)
{
  "type": "auth_code|auth_link|service_link|subscription_link|other_link|none",
  "result": "the extracted code/link OR empty string",
  "result_text": "the display text from markdown-format links."
}

IMPORTANT: Return ONLY the JSON, no explanations or additional text.
`;async function Lde(e,t){let r=t.AI_EXTRACT_MODEL||"@cf/meta/llama-3.1-8b-instruct",s=(await t.AI.run(r,{messages:[{role:"system",content:Nde},{role:"user",content:e}],response_format:{type:"json_schema",json_schema:{type:"object",properties:{type:{type:"string",enum:["auth_code","auth_link","service_link","subscription_link","other_link","none"]},result:{type:"string"},result_text:{type:"string"}},required:["type","result","result_text"]}},stream:!1})).response;if(typeof s=="string")return JSON.parse(s);if(s&&typeof s=="object")return s;throw new Error("Unexpected response format from Cloudflare AI")}o(Lde,"extractWithCloudflareAI");async function I$(e,t,r,n){try{if(!ae(t.ENABLE_AI_EMAIL_EXTRACT))return;if(!t.AI){console.error("AI binding not available");return}let s=await Q({env:t},R.AI_EXTRACT_SETTINGS_KEY);if(s?.enableAllowList&&s.allowList?.length>0&&!s.allowList.some(m=>{if(m.includes("*")){let h=m.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*");return new RegExp("^"+h+"$").test(n)}return n===m})){console.log(`AI extraction skipped for ${n}: not in allowlist`);return}let i=await cr(e),a=i?.text||i?.html||"";if(!a)return;let d=a.length>4e3?a.substring(0,4e3)+"...[truncated]":a,p=await Lde(d,t);if(p.type!=="none"&&p.result){let f=JSON.stringify({ai_extract:p,extracted_at:new Date().toISOString()});await t.DB.prepare("UPDATE raw_mails SET metadata = ? WHERE message_id = ?").bind(f,r).run(),console.log(`AI extraction completed for ${r}: ${p.type}`)}}catch(s){console.error("AI email extraction error:",s)}}o(I$,"extractEmailInfo");l();u();c();var Fde=200;function B$(e,t){try{return e.length>Fde?(console.warn("source pattern too long, skipped:",e.substring(0,50)+"..."),!1):new RegExp(e,"i").test(t)}catch(r){return console.error("regex test error for pattern:",e,r),!1}}o(B$,"safeRegexTest");function jde(e,t,r){return!t||t.length===0?!0:(r||"any")==="all"?t.every(s=>B$(s,e)):t.some(s=>B$(s,e))}o(jde,"matchSourcePatterns");async function Ude(e,t){try{let r=n0(t.FORWARD_ADDRESS_LIST);for(let n of r)await e.forward(n)}catch(r){console.error("forward email error",r)}}o(Ude,"forwardToGlobalAddresses");async function qde(e,t){try{let r=Vs(t.SUBDOMAIN_FORWARD_ADDRESS_LIST)||[],n=await Q({env:t},R.EMAIL_RULE_SETTINGS_KEY),s=[...r||[],...n?.emailForwardingList||[]];for(let i of s)if(jde(e.from,i.sourcePatterns,i.sourceMatchMode))if(i.domains&&i.domains.length>0)for(let a of i.domains)e.to.endsWith(a)&&i.forward&&await e.forward(i.forward);else i.forward&&await e.forward(i.forward)}catch(r){console.error("forward by rules error",r)}}o(qde,"forwardByRules");async function D$(e,t){await Ude(e,t),await qde(e,t)}o(D$,"forwardEmail");async function N$(e,t,r){if(await R$(e.from,t)){e.setReject("Reject from address"),console.log(`Reject message from ${e.from} to ${e.to}`);return}let n=await new Response(e.raw).text(),s={rawEmail:n};try{if(await M$(t,e.to,s,e.headers.get("Message-ID"))){e.setReject("Junk mail"),console.log(`Junk mail from ${e.from} to ${e.to}`);return}}catch(a){console.error("check junk mail error",a)}try{if((await Q({env:t},R.EMAIL_RULE_SETTINGS_KEY))?.blockReceiveUnknowAddressEmail&&!await t.DB.prepare("SELECT id FROM address where name = ? ").bind(e.to).first("id")){e.setReject("Unknown address"),console.log(`Unknown address mail from ${e.from} to ${e.to}`);return}}catch(a){console.error("check unknown address mail error",a)}try{await P$(t,s,e.from,e.to,e.rawSize)}catch(a){console.error("remove attachment error",a)}let i=e.headers.get("Message-ID");try{let{success:a}=await t.DB.prepare("INSERT INTO raw_mails (source, address, raw, message_id) VALUES (?, ?, ?, ?)").bind(e.from,e.to,s.rawEmail,i).run();a||(e.setReject(`Failed save message to ${e.to}`),console.error(`Failed save message from ${e.from} to ${e.to}`))}catch(a){console.error("save email error",a)}await D$(e,t);try{await PT({env:t},e.to,s,i)}catch(a){console.error("send mail to telegram error",a)}try{await o3({env:t},e.to,s,i)}catch(a){console.error("send webhook error",a)}try{let d=(await cr(s))?.text??"",p={from:e.from,to:e.to,rawEmail:n,headers:e.headers};await a3({env:t},p,d)}catch(a){console.error("trigger another worker error",a)}await k$(e,t),await I$(s,t,i,e.to)}o(N$,"email");l();u();c();async function L$(e,t,r){console.log("Scheduled event: ",e);let n=await Q({env:t},R.AUTO_CLEANUP_KEY);if(!n){console.log("No auto cleanup settings found, skipping cleanup.");return}if(console.log("autoCleanupSetting:",JSON.stringify(n)),n.enableMailsAutoCleanup&&await Qn({env:t},"mails",n.cleanMailsDays),n.enableUnknowMailsAutoCleanup&&await Qn({env:t},"mails_unknow",n.cleanUnknowMailsDays),n.enableSendBoxAutoCleanup&&await Qn({env:t},"sendbox",n.cleanSendBoxDays),n.enableInactiveAddressAutoCleanup&&await Qn({env:t},"inactiveAddress",n.cleanInactiveAddressDays),n.enableAddressAutoCleanup&&await Qn({env:t},"addressCreated",n.cleanAddressDays),n.enableUnboundAddressAutoCleanup&&await Qn({env:t},"unboundAddress",n.cleanUnboundAddressDays),n.enableEmptyAddressAutoCleanup&&await Qn({env:t},"emptyAddress",n.cleanEmptyAddressDays),n.customSqlCleanupList&&n.customSqlCleanupList.length>0){for(let s of n.customSqlCleanupList)if(s.enabled&&s.sql){let i=await V6({env:t},s);i.success||console.error(`Custom SQL cleanup [${s.name}] failed: ${i.error}`)}}}o(L$,"scheduled");l();u();c();function Hde(e){return/[\^$.*+?\[\]{}()|\\]/.test(e)}o(Hde,"looksLikeRegex");function NT(e,t,r=!0){if(!e||!t||t.length===0)return!1;let n=e.trim();return t.some(s=>{let i=s.trim();if(!i)return!1;try{if(Hde(i)){let a=r?"":"i";return new RegExp(i,a).test(n)}return r?n.includes(i):n.toLowerCase().includes(i.toLowerCase())}catch{return console.warn(`Pattern "${i}" failed regex parsing, using plain matching`),r?n.includes(i):n.toLowerCase().includes(i.toLowerCase())}})}o(NT,"isBlacklisted");async function zde(e){return await Q(e,R.IP_BLACKLIST_SETTINGS_KEY)}o(zde,"getIpBlacklistSettings");async function F$(e){try{let t=await zde(e);if(!t)return null;let r=e.req.raw.headers.get("cf-connecting-ip");if(!r)return null;if(t.enabled){if(t.blacklist&&t.blacklist.length>0&&NT(r,t.blacklist,!0))return console.warn(`Blocked blacklisted IP: ${r} for path: ${e.req.path}`),e.text(`Access denied: IP ${r} is blacklisted`,403);if(t.asnBlacklist&&t.asnBlacklist.length>0){let n=e.req.raw.cf?.asOrganization;if(n&&NT(n,t.asnBlacklist,!1))return console.warn(`Blocked blacklisted ASN: ${n} (IP: ${r}) for path: ${e.req.path}`),e.text("Access denied: ASN organization is blacklisted",403)}if(t.fingerprintBlacklist&&t.fingerprintBlacklist.length>0){let n=e.req.raw.headers.get("x-fingerprint");if(n&&NT(n,t.fingerprintBlacklist,!0))return console.warn(`Blocked blacklisted fingerprint: ${n} (IP: ${r}) for path: ${e.req.path}`),e.text("Access denied: Browser fingerprint is blacklisted",403)}}if(t.enableDailyLimit&&t.dailyRequestLimit&&e.env.KV){let n=`limit|${r}|${new Date().toISOString().slice(0,10)}`,s=t.dailyRequestLimit,i=parseInt(await e.env.KV.get(n)||"0",10);if(i&&i>=s)return console.warn(`Blocked IP ${r} exceeded daily limit of ${s} requests for path: ${e.req.path}`),e.text(`IP=${r} Exceeded daily limit of ${s} requests`,429);await e.env.KV.put(n,((i||0)+1).toString(),{expirationTtl:1440*60})}return null}catch(t){return console.error("Error checking IP blacklist and rate limit:",t),null}}o(F$,"checkAccessControl");var $de=["/api/","/open_api/","/user_api/","/admin/","/telegram/","/external/"],Xt=new tr;Xt.use("/*",IO());Xt.onError((e,t)=>(console.error(e),t.text(`${e.name} ${e.message}`,500)));Xt.use("/*",async(e,t)=>{if(e.env.ASSETS&&!$de.some(i=>e.req.path.startsWith(i))){let i=new URL(e.req.raw.url);return i.pathname.includes(".")||(i.pathname=""),e.env.ASSETS.fetch(i)}let r=e.req.raw.headers.get("x-lang");r&&e.set("lang",r);let n=j.getMessages(r||e.env.DEFAULT_LANG),s=t0(e);if(!e.req.path.startsWith("/open_api")&&!e.req.path.startsWith("/telegram/")&&s&&s.length>0){let i=e.req.raw.headers.get("x-custom-auth");if(!i||!s.includes(i))return e.text(n.CustomAuthPasswordMsg,401)}if(e.req.path.startsWith("/api/new_address")||e.req.path.startsWith("/api/send_mail")||e.req.path.startsWith("/external/api/send_mail")||e.req.path.startsWith("/user_api/register")||e.req.path.startsWith("/user_api/verify_code")){let i=e.req.raw.headers.get("cf-connecting-ip");if(i&&e.env.RATE_LIMITER){let{success:d}=await e.env.RATE_LIMITER.limit({key:`${e.req.path}|${i}`});if(!d)return e.text(`IP=${i} Rate limit exceeded for ${e.req.path}`,429)}let a=await F$(e);if(a)return a}if(e.req.path.startsWith("/api/webhook")||e.req.path.startsWith("/admin/webhook")||e.req.path.startsWith("/admin/mail_webhook")){if(!e.env.KV)return e.text(n.KVNotAvailableMsg,400);if(!ae(e.env.ENABLE_WEBHOOK))return e.text(n.WebhookNotEnabledMsg,403)}if(!e.env.DB)return e.text(n.DBNotAvailableMsg,400);if(!e.env.JWT_SECRET)return e.text(n.JWTSecretNotSetMsg,400);await t()});var Jde=o(async e=>{try{let t=e.req.raw.headers.get("x-user-token");if(!t)return;let r=await le.verify(t,e.env.JWT_SECRET,"HS256");if(!r.exp||r.exp<Math.floor(Date.now()/1e3))return;e.set("userPayload",r)}catch(t){console.error(t)}},"checkUserPayload"),j$=o(async e=>{try{let t=e.req.raw.headers.get("x-user-access-token");if(!t)return;let r=await le.verify(t,e.env.JWT_SECRET,"HS256");if(!r.exp||r.exp<Math.floor(Date.now()/1e3)||typeof r?.user_role!="string")return;e.set("userRolePayload",r.user_role)}catch(t){console.error(t)}},"checkoutUserRolePayload");Xt.use("/api/*",async(e,t)=>{if(e.req.path.startsWith("/api/new_address")){await Jde(e),await t();return}if((e.req.path.startsWith("/api/settings")||e.req.path.startsWith("/api/send_mail"))&&await j$(e),e.req.path.startsWith("/api/address_login")){await t();return}try{return await $d({secret:e.env.JWT_SECRET,alg:"HS256"})(e,t)}catch(r){console.warn(r);let n=e.get("lang")||e.env.DEFAULT_LANG,s=j.getMessages(n);return e.text(s.InvalidAddressCredentialMsg,401)}});Xt.use("/user_api/*",async(e,t)=>{if(e.req.path.startsWith("/user_api/open_settings")||e.req.path.startsWith("/user_api/register")||e.req.path.startsWith("/user_api/login")||e.req.path.startsWith("/user_api/verify_code")||e.req.path.startsWith("/user_api/passkey/authenticate_")||e.req.path.startsWith("/user_api/oauth2")){await t();return}let r=e.req.raw.headers.get("x-lang")||e.env.DEFAULT_LANG,n=j.getMessages(r);try{let s=e.req.raw.headers.get("x-user-token");if(!s)return e.text(n.UserTokenExpiredMsg,401);let i=await le.verify(s,e.env.JWT_SECRET,"HS256");if(!i.exp||i.exp<Math.floor(Date.now()/1e3))return e.text(n.UserTokenExpiredMsg,401);e.set("userPayload",i)}catch(s){return console.error(s),e.text(n.UserTokenExpiredMsg,401)}if(e.req.path.startsWith("/user_api/bind_address")&&await j$(e),e.req.path.startsWith("/user_api/bind_address")&&e.req.method==="POST")return $d({secret:e.env.JWT_SECRET,alg:"HS256"})(e,t);await t()});Xt.use("/admin/*",async(e,t)=>{let r=r0(e);if(r&&r.length>0){let a=e.req.raw.headers.get("x-admin-auth");if(a&&r.includes(a)){await t();return}}let n=e.req.raw.headers.get("x-lang")||e.env.DEFAULT_LANG,s=j.getMessages(n),i=e.req.raw.headers.get("x-user-access-token");if(e.env.ADMIN_USER_ROLE&&i)try{let a=await le.verify(i,e.env.JWT_SECRET,"HS256");if(!a.exp||a.exp<Math.floor(Date.now()/1e3))return e.text(s.UserAcceesTokenExpiredMsg,401);if(a.user_role!==e.env.ADMIN_USER_ROLE)return e.text(s.UserRoleIsNotAdminMsg,401);await t();return}catch(a){console.error(a)}if(ae(e.env.DISABLE_ADMIN_PASSWORD_CHECK)){await t();return}return e.text(s.NeedAdminPasswordMsg,401)});Xt.route("/",Dw);Xt.route("/",tt);Xt.route("/",Ke);Xt.route("/",X);Xt.route("/",ko);Xt.route("/",Br);var U$=o(async e=>{let t=e.req.raw.headers.get("x-lang")||e.env.DEFAULT_LANG,r=j.getMessages(t);return e.env.DB?e.env.JWT_SECRET?Ks(e.env.DOMAINS).length===0?e.text(r.DomainsNotSetMsg,400):e.text("OK"):e.text(r.JWTSecretNotSetMsg,400):e.text(r.DBNotAvailableMsg,400)},"health_check");Xt.get("/",U$);Xt.get("/health_check",U$);Xt.all("/*",async e=>e.text("Not Found",404));var j7t={fetch:Xt.fetch,email:N$,scheduled:L$};export{j7t as default};
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

pvtsutils/build/index.js:
  (*!
   * MIT License
   * 
   * Copyright (c) 2017-2024 Peculiar Ventures, LLC
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   * 
   *)

sandwich-stream/dist/sandwich-stream.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

pvutils/build/utils.es.js:
  (*!
   Copyright (c) Peculiar Ventures, LLC
  *)

asn1js/build/index.es.js:
  (*!
   * Copyright (c) 2014, GMO GlobalSign
   * Copyright (c) 2015-2022, Peculiar Ventures
   * All rights reserved.
   * 
   * Author 2014-2019, Yury Strozhevsky
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   * * Redistributions of source code must retain the above copyright notice, this
   *   list of conditions and the following disclaimer.
   * 
   * * Redistributions in binary form must reproduce the above copyright notice, this
   *   list of conditions and the following disclaimer in the documentation and/or
   *   other materials provided with the distribution.
   * 
   * * Neither the name of the copyright holder nor the names of its
   *   contributors may be used to endorse or promote products derived from
   *   this software without specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
   * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
   * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   *)
*/
//# sourceMappingURL=worker.js.map
